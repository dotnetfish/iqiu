{"remainingRequest":"D:\\pc端clone\\iqiu\\node_modules\\babel-loader\\lib\\index.js!D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc端clone\\iqiu\\src\\components\\MCenter\\Cropper.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\pc端clone\\iqiu\\src\\components\\MCenter\\Cropper.vue","mtime":1594797858463},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJEOi9wY1x1N0FFRmNsb25lL2lxaXUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9NZXNzYWdlIGZyb20gImVsZW1lbnQtdWkvbGliL21lc3NhZ2UiOwppbXBvcnQgX0J1dHRvbiBmcm9tICJlbGVtZW50LXVpL2xpYi9idXR0b24iOwppbXBvcnQgX1VwbG9hZCBmcm9tICJlbGVtZW50LXVpL2xpYi91cGxvYWQiOwppbXBvcnQgX0RpYWxvZyBmcm9tICJlbGVtZW50LXVpL2xpYi9kaWFsb2ciOwoKdmFyIF9jb21wb25lbnRzOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy9pbXBvcnQgeyB1cExvYWRGaWxlQmFzZX0gZnJvbSAiQC9hcGkvbWNlbnRlcmFwaSI7CmltcG9ydCB7IFZ1ZUNyb3BwZXIgfSBmcm9tICd2dWUtY3JvcHBlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiAoX2NvbXBvbmVudHMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfRGlhbG9nLm5hbWUsIF9EaWFsb2cpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIF9VcGxvYWQubmFtZSwgX1VwbG9hZCksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgX0J1dHRvbi5uYW1lLCBfQnV0dG9uKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfTWVzc2FnZS5uYW1lLCBfTWVzc2FnZSksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgIlZ1ZUNyb3BwZXIiLCBWdWVDcm9wcGVyKSwgX2NvbXBvbmVudHMpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgcHJldmlld3M6IHt9LAogICAgICAvLyDoo4Hliarnu4Tku7bnmoTln7rnoYDphY3nva5vcHRpb24KICAgICAgb3B0aW9uOiB7CiAgICAgICAgaW1nOiAnJywKICAgICAgICAvLyDoo4Hliarlm77niYfnmoTlnLDlnYAKICAgICAgICBpbmZvOiB0cnVlLAogICAgICAgIC8vIOijgeWJquahhueahOWkp+Wwj+S/oeaBrwogICAgICAgIG91dHB1dFNpemU6IDAuOCwKICAgICAgICAvLyDoo4HliarnlJ/miJDlm77niYfnmoTotKjph48KICAgICAgICBvdXRwdXRUeXBlOiAnanBlZycsCiAgICAgICAgLy8g6KOB5Ymq55Sf5oiQ5Zu+54mH55qE5qC85byPCiAgICAgICAgY2FuU2NhbGU6IHRydWUsCiAgICAgICAgLy8g5Zu+54mH5piv5ZCm5YWB6K645rua6L2u57yp5pS+CiAgICAgICAgYXV0b0Nyb3A6IHRydWUsCiAgICAgICAgLy8g5piv5ZCm6buY6K6k55Sf5oiQ5oiq5Zu+5qGGCiAgICAgICAgLy8gYXV0b0Nyb3BXaWR0aDogNTAwLCAvLyDpu5jorqTnlJ/miJDmiKrlm77moYblrr3luqYKICAgICAgICAvLyBhdXRvQ3JvcEhlaWdodDogNTAwLCAvLyDpu5jorqTnlJ/miJDmiKrlm77moYbpq5jluqYKICAgICAgICBmaXhlZEJveDogdHJ1ZSwKICAgICAgICAvLyDlm7rlrprmiKrlm77moYblpKflsI8g5LiN5YWB6K645pS55Y+YCiAgICAgICAgZml4ZWQ6IHRydWUsCiAgICAgICAgLy8g5piv5ZCm5byA5ZCv5oiq5Zu+5qGG5a696auY5Zu65a6a5q+U5L6LCiAgICAgICAgZml4ZWROdW1iZXI6IFsxMCwgMTBdLAogICAgICAgIC8vIOaIquWbvuahhueahOWuvemrmOavlOS+iwogICAgICAgIGZ1bGw6IHRydWUsCiAgICAgICAgLy8g5piv5ZCm6L6T5Ye65Y6f5Zu+5q+U5L6L55qE5oiq5Zu+CiAgICAgICAgY2FuTW92ZUJveDogZmFsc2UsCiAgICAgICAgLy8g5oiq5Zu+5qGG6IO95ZCm5ouW5YqoCiAgICAgICAgb3JpZ2luYWw6IGZhbHNlLAogICAgICAgIC8vIOS4iuS8oOWbvueJh+aMieeFp+WOn+Wni+avlOS+i+a4suafkwogICAgICAgIGNlbnRlckJveDogZmFsc2UsCiAgICAgICAgLy8g5oiq5Zu+5qGG5piv5ZCm6KKr6ZmQ5Yi25Zyo5Zu+54mH6YeM6Z2iCiAgICAgICAgaW5mb1RydWU6IHRydWUgLy8gdHJ1ZSDkuLrlsZXnpLrnnJ/lrp7ovpPlh7rlm77niYflrr3pq5ggZmFsc2Ug5bGV56S655yL5Yiw55qE5oiq5Zu+5qGG5a696auYCgogICAgICB9LAogICAgICBwaWNzTGlzdDogW10sCiAgICAgIC8v6aG16Z2i5pi+56S655qE5pWw57uECiAgICAgIC8vIOmYsuatoumHjeWkjeaPkOS6pAogICAgICB1cmxhcGk6IHByb2Nlc3MuZW52LlZVRV9BUFBfWllfQVBJICsgIi9haXFpdS92MS91cExvYWQvZmlsZT91cGxvYWRUeXBlPUFWQVRBUiIsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB1cGxvYWRIZWFkZXJzOiB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICB9LAogICAgICAvLwogICAgICBpbWdzOiBbXSwKICAgICAgLy/liKTmlq3lm77niYfnmoTnsbvlnosKICAgICAgaW1nRGF0YTogewogICAgICAgIGFjY2VwdDogJ2ltYWdlL2dpZiwgaW1hZ2UvanBlZywgaW1hZ2UvcG5nLCBpbWFnZS9qcGcnCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBiZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyOwoKICAgICAgaWYgKCFpc0x0Mk0pIHsKICAgICAgICBfTWVzc2FnZS5lcnJvcign5LiK5Lyg5aS05YOP5Zu+54mH5aSn5bCP5LiN6IO96LaF6L+HIDJNQiEnKTsKCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vIOi9rGJhc2U2NAoKCiAgICAgIHRoaXMuZ2V0QmFzZTY0KGZpbGUpLnRoZW4oZnVuY3Rpb24gKHJlc0Jhc2U2NCkgewogICAgICAgIC8vIHRoaXMuZmlsZUJhc2U2NCA9IHJlc0Jhc2U2NC5zcGxpdCgnLCcpWzFdLy/nm7TmjqXmi7/liLBiYXNlNjTkv6Hmga8KICAgICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMub3B0aW9uLmltZyA9IHJlc0Jhc2U2NDsKICAgICAgICAgIF90aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bmnKzlnLDlm77niYfovazljJbkuLpiYXNlIDY0CiAgICBnZXRCYXNlNjQ6IGZ1bmN0aW9uIGdldEJhc2U2NChmaWxlKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgdmFyIGZpbGVSZXN1bHQgPSAiIjsKICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKCiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIOW8gOWni+i9rAogICAgICAgICAgZmlsZVJlc3VsdCA9IHJlYWRlci5yZXN1bHQ7CiAgICAgICAgfTsKCiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIC8vIOi9rCDlpLHotKUKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfTsKCiAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8v6L2sIOe7k+adnyAg5ZKx5bCxIHJlc29sdmUg5Ye65Y67CiAgICAgICAgICByZXNvbHZlKGZpbGVSZXN1bHQpOwogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWunuaXtumihOiniOWHveaVsAogICAgcmVhbFRpbWU6IGZ1bmN0aW9uIHJlYWxUaW1lKGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coJ3JlYWxUaW1lJyk7CiAgICAgIHRoaXMucHJldmlld3MgPSBkYXRhOwogICAgfSwKICAgIC8vIOeCueWHu+ijgeWJqu+8jOi/meS4gOatpeaYr+WPr+S7peaLv+WIsOWkhOeQhuWQjueahOWcsOWdgAogICAgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5jcm9wcGVyLmdldENyb3BEYXRhKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgLy8g5Y+v6IO96ZyA6KaB6L2s56CB77yf77yf77yfCiAgICAgICAgdmFyIGZpbGUgPSBkYXRhLnNsaWNlKGRhdGEuaW5kZXhPZignLCcpICsgMSk7CiAgICAgICAgdmFyIGRhdGEyID0gewogICAgICAgICAgImZpbGUiOiBmaWxlLAogICAgICAgICAgc2Vjb25kRGlyOiAic3RyaW5nIiwKICAgICAgICAgICJ1cGxvYWRUeXBlIjogIkFWQVRBUiIKICAgICAgICB9OwoKICAgICAgICBfdGhpczIuJGF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9aWV9BUEkgKyAiL2FpcWl1L3YxL2FwcC91cGxvYWQvZmlsZUJhc2UiLCBkYXRhMiwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvcGxhaW4nCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCfliaroo4HlkI4t5LiK5LygcmVzcG9uc2UnLCByZXNwb25zZSk7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICBfdGhpczIuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCd1cGRhdGFJbWcnLCByZXNwb25zZS5kYXRhLmRhdGFbMF0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX01lc3NhZ2UuZXJyb3IocmVzcG9uc2UuZGF0YS5tc2cpOwogICAgICAgICAgfQogICAgICAgIH0pOyAvLyAgIHVwTG9hZEZpbGVCYXNlKGRhdGEyKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIC8vICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgLy8gICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgLy8gICAgICAgdGhpcy4kZW1pdCgndXBkYXRhSW1nJywgcmVzcG9uc2UuZGF0YS5kYXRhWzBdKTsKICAgICAgICAvLyAgICAgfSBlbHNlIHsKICAgICAgICAvLyAgICAgICAgTWVzc2FnZS5lcnJvcihyZXNwb25zZS5kYXRhLm1zZykKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICB9KQoKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Cropper.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"ve-cropper\">\r\n    <el-upload class=\"upload-demo\" action='#' drag :headers=\"uploadHeaders\"\r\n               :with-credentials=\"true\" :before-upload=\"beforeUpload\" :show-file-list=\"false\">\r\n      <slot></slot>\r\n<!--            <i class=\"el-icon-upload\"></i>-->\r\n<!--      <img :src=\"require('@/assets/img/Mcenter-upload.png')\" class=\"upload\" alt=\"\">-->\r\n<!--      <div class=\"el-upload__text\">添加头像</div>-->\r\n<!--      <div class=\"el-upload__tip\" slot=\"tip\">请选择图片上传：支持JPG、PNG 等格式，图片需小于2M</div>-->\r\n    </el-upload>\r\n    <el-dialog title=\"图片剪裁\" :visible.sync=\"dialogVisible\" append-to-body>\r\n      <div class=\"cropper-content\">\r\n        <div class=\"cropper\" style=\"text-align:center\">\r\n          <vueCropper\r\n            ref=\"cropper\"\r\n            :img=\"option.img\"\r\n            :outputSize=\"option.size\"\r\n            :outputType=\"option.outputType\"\r\n            :info=\"true\"\r\n            :full=\"option.full\"\r\n            :canMove=\"option.canMove\"\r\n            :canMoveBox=\"option.canMoveBox\"\r\n            :original=\"option.original\"\r\n            :autoCrop=\"option.autoCrop\"\r\n            :fixed=\"option.fixed\"\r\n            :fixedNumber=\"option.fixedNumber\"\r\n            :centerBox=\"option.centerBox\"\r\n            :infoTrue=\"option.infoTrue\"\r\n            :fixedBox=\"option.fixedBox\"\r\n            @realTime=\"realTime\"\r\n          ></vueCropper>\r\n        </div>\r\n        <div style=\"width:260px;\">\r\n          <div class=\"show-preview\" :style=\"{'width': '200px', 'height':'200px'}\">\r\n            <div :style=\"previews.div\" class=\"preview\">\r\n                <img :src=\"previews.url\" :style=\"previews.img\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"finish\" :loading=\"loading\">确认</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { Button, Dialog, Upload, Message } from 'element-ui';\r\n  //import { upLoadFileBase} from \"@/api/mcenterapi\";\r\n  import { VueCropper } from 'vue-cropper';\r\n  export default {\r\n    components: {\r\n      [Dialog.name]: Dialog,\r\n      [Upload.name]: Upload,\r\n      [Button.name]: Button,\r\n      [Message.name]: Message,\r\n      VueCropper\r\n    },\r\n    data() {\r\n      return {\r\n        dialogVisible: false,\r\n        previews: {},\r\n        // 裁剪组件的基础配置option\r\n        option: {\r\n          img: '', // 裁剪图片的地址\r\n          info: true, // 裁剪框的大小信息\r\n          outputSize: 0.8, // 裁剪生成图片的质量\r\n          outputType: 'jpeg', // 裁剪生成图片的格式\r\n          canScale: true, // 图片是否允许滚轮缩放\r\n          autoCrop: true, // 是否默认生成截图框\r\n          // autoCropWidth: 500, // 默认生成截图框宽度\r\n          // autoCropHeight: 500, // 默认生成截图框高度\r\n          fixedBox: true, // 固定截图框大小 不允许改变\r\n          fixed: true, // 是否开启截图框宽高固定比例\r\n          fixedNumber: [10, 10], // 截图框的宽高比例\r\n          full: true, // 是否输出原图比例的截图\r\n          canMoveBox: false, // 截图框能否拖动\r\n          original: false, // 上传图片按照原始比例渲染\r\n          centerBox: false, // 截图框是否被限制在图片里面\r\n          infoTrue: true // true 为展示真实输出图片宽高 false 展示看到的截图框宽高\r\n        },\r\n        picsList: [],  //页面显示的数组\r\n        // 防止重复提交\r\n        urlapi: process.env.VUE_APP_ZY_API + \"/aiqiu/v1/upLoad/file?uploadType=AVATAR\",\r\n        loading: false,\r\n        uploadHeaders:{\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data'\r\n        },\r\n\r\n        //\r\n        imgs: [],\r\n\t\t\t\t//判断图片的类型\r\n\t\t\t\timgData: {\r\n\t\t\t\t\taccept: 'image/gif, image/jpeg, image/png, image/jpg',\r\n\t\t\t\t}\r\n      }\r\n    },\r\n    methods: {\r\n      beforeUpload(file){\r\n        const isLt2M = file.size / 1024 / 1024 < 2;\r\n        if (!isLt2M) {\r\n          Message.error('上传头像图片大小不能超过 2MB!')\r\n          return false\r\n        }\r\n        // 转base64\r\n        this.getBase64(file).then(resBase64 => {\r\n        // this.fileBase64 = resBase64.split(',')[1]//直接拿到base64信息\r\n          this.$nextTick(() => {\r\n            this.option.img = resBase64\r\n            this.dialogVisible = true\r\n          })\r\n        })\r\n      },\r\n      // 获取本地图片转化为base 64\r\n      getBase64(file) {\r\n        return new Promise((resolve, reject) => {\r\n          let reader = new FileReader();\r\n          let fileResult = \"\";\r\n          reader.readAsDataURL(file);\r\n          reader.onload = function() {// 开始转\r\n            fileResult = reader.result;\r\n          }\r\n          reader.onerror = function(error) {// 转 失败\r\n            reject(error);\r\n          }\r\n          reader.onloadend = function() {//转 结束  咱就 resolve 出去\r\n            resolve(fileResult);\r\n          }\r\n        });\r\n      },\r\n      // 实时预览函数\r\n      realTime(data) {\r\n        console.log('realTime');\r\n        this.previews = data\r\n      },\r\n\r\n      // 点击裁剪，这一步是可以拿到处理后的地址\r\n      finish() {\r\n        this.$refs.cropper.getCropData((data) => {\r\n          // 可能需要转码？？？\r\n          let file = data.slice(data.indexOf(',') + 1)\r\n          let data2 ={\r\n              \"file\": file,\r\n              secondDir: \"string\",\r\n              \"uploadType\": \"AVATAR\"\r\n            }\r\n          this.$axios.post(process.env.VUE_APP_ZY_API + \"/aiqiu/v1/app/upload/fileBase\", data2, {\r\n\t\t\t\t\theaders: {'Content-Type': 'text/plain'}\r\n         }\r\n        ).then(response => {\r\n          console.log('剪裁后-上传response',response)\r\n          if (response.data.code === 0) {\r\n              this.dialogVisible = false\r\n              this.$emit('updataImg', response.data.data[0])\r\n            } else {\r\n               Message.error(response.data.msg)\r\n            }\r\n        })\r\n\r\n        //   upLoadFileBase(data2).then((response) => {\r\n        //     if (response.data.code === 0) {\r\n        //       this.dialogVisible = false;\r\n        //       this.$emit('updataImg', response.data.data[0]);\r\n        //     } else {\r\n        //        Message.error(response.data.msg)\r\n        //     }\r\n        //  })\r\n\r\n      })\r\n    },\r\n  }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .cropper-content {\r\n    display: flex;\r\n\r\n\r\n    display: -webkit-flex;\r\n    justify-content: space-around;\r\n    -webkit-justify-content: space-around;\r\n     align-items: center;\r\n  }\r\n\r\n  .cropper-content .cropper {\r\n    width: 260px;\r\n    height: 260px;\r\n  }\r\n\r\n  .cropper-content .show-preview {\r\n    flex: 1;\r\n    -webkit-flex: 1;\r\n    display: flex;\r\n    display: -webkit-flex;\r\n    justify-content: center;\r\n    -webkit-justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .cropper-content .show-preview .preview {\r\n    overflow: hidden;\r\n    border-radius: 50%;\r\n    border: 1px solid #cccccc;\r\n    background: #cccccc;\r\n  }\r\n\r\n  .upload {\r\n    margin-top: 78px;\r\n    height: 52px;\r\n    width: 61px;\r\n  }\r\n  .el-upload__text {\r\n    margin-top: 4px;\r\n    font-size: 13px;\r\n    color: #797A82;\r\n  }\r\n  .el-upload__tip {\r\n    width: 211px;\r\n    font-size: 14px;\r\n    font-weight:400;\r\n    color:rgba(119,119,119,1);\r\n    line-height:20px;\r\n  }\r\n\r\n</style>\r\n\r\n\r\n<style>\r\n  .ve-cropper .el-upload-dragger {\r\n    width: 120px;\r\n    height: 120px;\r\n    border: 0 none;\r\n\r\n    /*background-color: #E9EAEC;*/\r\n  }\r\n  .el-upload-dragger .el-icon-upload {\r\n    font-size: 40px;\r\n  }\r\n  .ve-cropper .el-upload-dragger .el-icon-upload {\r\n    margin-top: -3px\r\n  }\r\n\r\n</style>\r\n"],"sourceRoot":"src/components/MCenter"}]}