{"remainingRequest":"D:\\pc端clone\\iqiu\\node_modules\\babel-loader\\lib\\index.js!D:\\pc端clone\\iqiu\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\pc端clone\\iqiu\\src\\modules\\utils\\crypto.js","dependencies":[{"path":"D:\\pc端clone\\iqiu\\src\\modules\\utils\\crypto.js","mtime":1594000643102},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593501341354},{"path":"D:\\pc端clone\\iqiu\\node_modules\\babel-loader\\lib\\index.js","mtime":1593501344079},{"path":"D:\\pc端clone\\iqiu\\node_modules\\eslint-loader\\index.js","mtime":1593501432660}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpOyAvLyBjb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKQoKCnZhciBwYXJhbSA9IHsKICBhbGc6ICdkZXMtZWRlMy1jYmMnLAogIGF1dG9QYWQ6IHRydWUsCiAga2V5OiAndzE0T0U5SDhRN3FWMGhpc09HbDBacE5YJywKICBpdjogJ0NxTWZlNGVvJwp9Owpjb25zb2xlLmxvZyhwYXJhbSwgJ2NyeXB0b2NyeXB0b2NyeXB0b2NyeXB0bycpOyAvLyDliqDlr4YKCmV4cG9ydCBmdW5jdGlvbiBlbmNyeXB0KHR5cGUsIHRleHQpIHsKICBpZiAodHlwZSA9PT0gJ21lc3NhZ2UnKSB7CiAgICBwYXJhbS5rZXkgPSAnMUl2RmNqVHh0WHlEOEtpMW5QYm0xSXBmJzsKICB9CgogIGNvbnNvbGUubG9nKCfmiafooYzliqDlr4YnLCBwYXJhbS5rZXksIHBhcmFtLmtleS5sZW5ndGgpOwogIHZhciBrZXkgPSBCdWZmZXIuZnJvbShwYXJhbS5rZXkpOwogIHZhciBpdiA9IEJ1ZmZlci5mcm9tKHBhcmFtLml2ID8gcGFyYW0uaXYgOiAwKTsKICB2YXIgcGxhaW50ZXh0ID0gdGV4dDsKICB2YXIgYWxnID0gcGFyYW0uYWxnOwogIHZhciBhdXRvUGFkID0gcGFyYW0uYXV0b1BhZDsKICB2YXIgY2lwaGVyID0gY3J5cHRvLmNyZWF0ZUNpcGhlcml2KGFsZywga2V5LCBpdik7CiAgY2lwaGVyLnNldEF1dG9QYWRkaW5nKGF1dG9QYWQpOwogIHZhciBjaXBoID0gY2lwaGVyLnVwZGF0ZShwbGFpbnRleHQsICd1dGY4JywgJ2Jhc2U2NCcpOwogIGNpcGggKz0gY2lwaGVyWyJmaW5hbCJdKCdiYXNlNjQnKTsKICBjb25zb2xlLmxvZygn5Yqg5a+GOicgKyBjaXBoKTsKICByZXR1cm4gY2lwaDsKfSAvLyDop6Plr4YKCmV4cG9ydCBmdW5jdGlvbiBkZWNyeXB0KHRleHQpIHsKICB2YXIga2V5ID0gQnVmZmVyLmZyb20ocGFyYW0ua2V5KTsKICB2YXIgaXYgPSBCdWZmZXIuZnJvbShwYXJhbS5pdiA/IHBhcmFtLml2IDogMCk7CiAgdmFyIGNpcGggPSB0ZXh0OwogIHZhciBhbGcgPSBwYXJhbS5hbGc7CiAgdmFyIGF1dG9QYWQgPSBwYXJhbS5hdXRvUGFkOwogIHZhciBkZWNpcGhlciA9IGNyeXB0by5jcmVhdGVEZWNpcGhlcml2KGFsZywga2V5LCBpdik7CiAgZGVjaXBoZXIuc2V0QXV0b1BhZGRpbmcoYXV0b1BhZCk7CiAgdmFyIHR4dCA9IGRlY2lwaGVyLnVwZGF0ZShjaXBoLCAnYmFzZTY0JywgJ3V0ZjgnKTsKICB0eHQgKz0gZGVjaXBoZXJbImZpbmFsIl0oJ3V0ZjgnKTsgLy8gY29uc29sZS5sb2coJ+ino+WvhjonICsgdHh0KQoKICByZXR1cm4gdHh0OyAvLyBhc3NlcnQuc3RyaWN0RXF1YWwodHh0LCAnMTIzJywgJ2ZhaWwnKQp9"},{"version":3,"sources":["D:/pc端clone/iqiu/src/modules/utils/crypto.js"],"names":["crypto","require","param","alg","autoPad","key","iv","console","log","encrypt","type","text","length","Buffer","from","plaintext","cipher","createCipheriv","setAutoPadding","ciph","update","decrypt","decipher","createDecipheriv","txt"],"mappings":"AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB,C,CACA;;;AAEA,IAAMC,KAAK,GAAG;AACZC,EAAAA,GAAG,EAAE,cADO;AAEZC,EAAAA,OAAO,EAAE,IAFG;AAGZC,EAAAA,GAAG,EAAE,0BAHO;AAIZC,EAAAA,EAAE,EAAE;AAJQ,CAAd;AAOAC,OAAO,CAACC,GAAR,CAAYN,KAAZ,EAAmB,0BAAnB,E,CAEA;;AACA,OAAO,SAASO,OAAT,CAAiBC,IAAjB,EAAuBC,IAAvB,EAA6B;AAClC,MAAID,IAAI,KAAK,SAAb,EAAwB;AACtBR,IAAAA,KAAK,CAACG,GAAN,GAAY,0BAAZ;AACD;;AACDE,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBN,KAAK,CAACG,GAA1B,EAA+BH,KAAK,CAACG,GAAN,CAAUO,MAAzC;AACA,MAAIP,GAAG,GAAGQ,MAAM,CAACC,IAAP,CAAYZ,KAAK,CAACG,GAAlB,CAAV;AACA,MAAIC,EAAE,GAAGO,MAAM,CAACC,IAAP,CAAYZ,KAAK,CAACI,EAAN,GAAWJ,KAAK,CAACI,EAAjB,GAAsB,CAAlC,CAAT;AACA,MAAIS,SAAS,GAAGJ,IAAhB;AACA,MAAIR,GAAG,GAAGD,KAAK,CAACC,GAAhB;AACA,MAAIC,OAAO,GAAGF,KAAK,CAACE,OAApB;AACA,MAAIY,MAAM,GAAGhB,MAAM,CAACiB,cAAP,CAAsBd,GAAtB,EAA2BE,GAA3B,EAAgCC,EAAhC,CAAb;AACAU,EAAAA,MAAM,CAACE,cAAP,CAAsBd,OAAtB;AACA,MAAIe,IAAI,GAAGH,MAAM,CAACI,MAAP,CAAcL,SAAd,EAAyB,MAAzB,EAAiC,QAAjC,CAAX;AACAI,EAAAA,IAAI,IAAIH,MAAM,SAAN,CAAa,QAAb,CAAR;AACAT,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAQW,IAApB;AACA,SAAOA,IAAP;AACD,C,CAED;;AACA,OAAO,SAASE,OAAT,CAAiBV,IAAjB,EAAuB;AAC5B,MAAIN,GAAG,GAAGQ,MAAM,CAACC,IAAP,CAAYZ,KAAK,CAACG,GAAlB,CAAV;AACA,MAAIC,EAAE,GAAGO,MAAM,CAACC,IAAP,CAAYZ,KAAK,CAACI,EAAN,GAAWJ,KAAK,CAACI,EAAjB,GAAsB,CAAlC,CAAT;AACA,MAAIa,IAAI,GAAGR,IAAX;AACA,MAAIR,GAAG,GAAGD,KAAK,CAACC,GAAhB;AACA,MAAIC,OAAO,GAAGF,KAAK,CAACE,OAApB;AAEA,MAAIkB,QAAQ,GAAGtB,MAAM,CAACuB,gBAAP,CAAwBpB,GAAxB,EAA6BE,GAA7B,EAAkCC,EAAlC,CAAf;AACAgB,EAAAA,QAAQ,CAACJ,cAAT,CAAwBd,OAAxB;AACA,MAAIoB,GAAG,GAAGF,QAAQ,CAACF,MAAT,CAAgBD,IAAhB,EAAsB,QAAtB,EAAgC,MAAhC,CAAV;AACAK,EAAAA,GAAG,IAAIF,QAAQ,SAAR,CAAe,MAAf,CAAP,CAV4B,CAW5B;;AACA,SAAOE,GAAP,CAZ4B,CAa5B;AACD","sourcesContent":["const crypto = require('crypto')\r\n// const assert = require('assert')\r\n\r\nconst param = {\r\n  alg: 'des-ede3-cbc',\r\n  autoPad: true,\r\n  key: 'w14OE9H8Q7qV0hisOGl0ZpNX',\r\n  iv: 'CqMfe4eo'\r\n}\r\n\r\nconsole.log(param, 'cryptocryptocryptocrypto');\r\n\r\n// 加密\r\nexport function encrypt(type, text) {\r\n  if (type === 'message') {\r\n    param.key = '1IvFcjTxtXyD8Ki1nPbm1Ipf'\r\n  }\r\n  console.log('执行加密', param.key, param.key.length)\r\n  let key = Buffer.from(param.key)\r\n  let iv = Buffer.from(param.iv ? param.iv : 0)\r\n  let plaintext = text\r\n  let alg = param.alg\r\n  let autoPad = param.autoPad\r\n  let cipher = crypto.createCipheriv(alg, key, iv)\r\n  cipher.setAutoPadding(autoPad)\r\n  let ciph = cipher.update(plaintext, 'utf8', 'base64')\r\n  ciph += cipher.final('base64')\r\n  console.log('加密:' + ciph)\r\n  return ciph\r\n}\r\n\r\n// 解密\r\nexport function decrypt(text) {\r\n  let key = Buffer.from(param.key)\r\n  let iv = Buffer.from(param.iv ? param.iv : 0)\r\n  let ciph = text\r\n  let alg = param.alg\r\n  let autoPad = param.autoPad\r\n\r\n  let decipher = crypto.createDecipheriv(alg, key, iv)\r\n  decipher.setAutoPadding(autoPad)\r\n  let txt = decipher.update(ciph, 'base64', 'utf8')\r\n  txt += decipher.final('utf8')\r\n  // console.log('解密:' + txt)\r\n  return txt\r\n  // assert.strictEqual(txt, '123', 'fail')\r\n}\r\n\r\n"]}]}