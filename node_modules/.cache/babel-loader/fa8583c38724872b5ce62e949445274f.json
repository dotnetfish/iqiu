{"remainingRequest":"D:\\pc端clone\\iqiu\\node_modules\\babel-loader\\lib\\index.js!D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc端clone\\iqiu\\src\\components\\liveroom\\LiveroomBan.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\pc端clone\\iqiu\\src\\components\\liveroom\\LiveroomBan.vue","mtime":1594000643094},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiRDovcGNcdTdBRUZjbG9uZS9pcWl1L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfQnV0dG9uIGZyb20gImVsZW1lbnQtdWkvbGliL2J1dHRvbiI7CmltcG9ydCBfT3B0aW9uIGZyb20gImVsZW1lbnQtdWkvbGliL29wdGlvbiI7CmltcG9ydCBfU2VsZWN0IGZyb20gImVsZW1lbnQtdWkvbGliL3NlbGVjdCI7Cgp2YXIgX2NvbXBvbmVudHM7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKLyoKKiDkuLvmkq3lkozmiL/nrqHml6Dms5XnpoHoqIDlt7LooqvnpoHoqIDnmoTkurrvvIzmj5DnpLrigJ3or6XnlKjmiLflt7LooqvnpoHoqIAKKiDotoXnrqHlj6/lho3mrKHnpoHoqIDlt7LooqvnpoHoqIDnmoTnlKjmiLfvvIzmlYjmnpzkuLropobnm5bkuYvliY3nmoTnpoHoqIDml7bpl7QKKiDnpoHoqIDlkI7ovpPlhaXmoYbpg6jliIbmmL7npLrnpoHoqIDml7bpl7TvvIzkuJTml6Dms5XovpPlhaXmloflrZfjgIIKKiAqLwppbXBvcnQgeyBmb3JiaWRVc2VyLCBzZXRNYW5hZ2VyIH0gZnJvbSAnQC9hcGkvbGl2ZXJvb20nOwppbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gIkAvdXRpbHMvZGVib3VuY2VBbmR0aHJvdHRsZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTGl2ZXJvb21CYW4nLAogIHByb3BzOiB7CiAgICB1c2VySW5mbzogT2JqZWN0IC8vIGNoYW5uZWxSb2xlVHlwZSAwKOaZrumAmueUqOaItyksIDEo5oi/566hKSwgMijkuLvmkq0pLCA5KOi2heeuoSkKCiAgfSwKICBjb21wb25lbnRzOiAoX2NvbXBvbmVudHMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfU2VsZWN0Lm5hbWUsIF9TZWxlY3QpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIF9PcHRpb24ubmFtZSwgX09wdGlvbiksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgX0J1dHRvbi5uYW1lLCBfQnV0dG9uKSwgX2NvbXBvbmVudHMpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcHRpb25zOiBbewogICAgICAgIGtleTogNSwKICAgICAgICB2YWx1ZTogIjEw5YiG6ZKfIgogICAgICB9LCB7CiAgICAgICAga2V5OiA2LAogICAgICAgIHZhbHVlOiAiMzDliIbpkp8iCiAgICAgIH0sIHsKICAgICAgICBrZXk6IDcsCiAgICAgICAgdmFsdWU6ICIx5bCP5pe2IgogICAgICB9LCB7CiAgICAgICAga2V5OiAxLAogICAgICAgIHZhbHVlOiAiMjTlsI/ml7YiCiAgICAgIH0sIHsKICAgICAgICBrZXk6IDgsCiAgICAgICAgdmFsdWU6ICIz5aSpIgogICAgICB9LCB7CiAgICAgICAga2V5OiAyLAogICAgICAgIHZhbHVlOiAiN+WkqSIKICAgICAgfSwgewogICAgICAgIGtleTogMywKICAgICAgICB2YWx1ZTogIjMw5aSpIgogICAgICB9LCB7CiAgICAgICAga2V5OiA5LAogICAgICAgIHZhbHVlOiAiNuS4quaciCIKICAgICAgfSwgewogICAgICAgIGtleTogNCwKICAgICAgICB2YWx1ZTogIuawuOS5hSIKICAgICAgfV0sCiAgICAgIC8vIOemgeiogOexu+WeizogMCDlj5bmtojnpoHoqIA7IDU6MTDliIbpkp8sIDY6MzDliIbpkp8sIDc6MeWwj+aXtiwgMToyNOWwj+aXtiwgODoz5aSpLCAyOjflpKksIDM6MzDlpKksIDk6NuS4quaciCwgNDrmsLjkuYUoMjDlubQpCiAgICAgIHNlbmRpbmc6IGZhbHNlLAogICAgICBiYW5EaWFsb2c6IGZhbHNlLAogICAgICByb29tQmFuOiAiIiwKICAgICAgYWxsQmFuOiAiIiwKICAgICAgYmFuTGlzdDogW3sKICAgICAgICAvLyAwIOWPlua2iOemgeiogDsgNToxMOWIhumSnywgNjozMOWIhumSnywgNzox5bCP5pe2LCAxOjI05bCP5pe2LCA4OjPlpKksIDI6N+WkqSwgMzozMOWkqSwgOTo25Liq5pyILCA0OuawuOS5hSgyMOW5tCkKICAgICAgICB2YWx1ZTogMSwKICAgICAgICB0aXRsZTogJ+emgeiogDI05bCP5pe2JwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDIsCiAgICAgICAgdGl0bGU6ICfnpoHoqIA35aSpJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDMsCiAgICAgICAgdGl0bGU6ICfnpoHoqIAzMOWkqScKICAgICAgfV0sCiAgICAgIGJhblVzZXJJbmZvOiB7fQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBzaG93OiBmdW5jdGlvbiBzaG93KGl0ZW0pIHsKICAgICAgLy8g5p2D6ZmQ5LiN6LazICgg5pyq5L2/55So5b2T5YmN55So5oi36KKr56aB6KiAIHx8IHRoaXMudXNlckluZm8uZm9yYmlkKQogICAgICBpZiAodGhpcy51c2VySW5mby5jaGFubmVsUm9sZVR5cGUgPT09IDApIHJldHVybjsKICAgICAgdGhpcy5yb29tQmFuID0gIiI7CiAgICAgIHRoaXMuYWxsQmFuID0gIiI7CiAgICAgIHRoaXMuYmFuRGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy5iYW5Vc2VySW5mbyA9IGl0ZW07CiAgICAgIGNvbnNvbGUubG9nKGl0ZW0pOwogICAgfSwKICAgIGhhbmRsZUJhbjogdGhyb3R0bGUoZnVuY3Rpb24gKHZhbHVlLCBmb3JiaWRSb29tVHlwZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2codmFsdWUsICdiYW4nKTsKCiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICByZXR1cm4gdGhpcy5NZXNzYWdlLmVycm9yKHsKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nnpoHoqIDlpKnmlbAiCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2VuZGluZyA9IHRydWU7CiAgICAgIHJldHVybiBmb3JiaWRVc2VyKHsKICAgICAgICBiZUZvcmJpZFVpZDogdGhpcy5iYW5Vc2VySW5mby5fbGNhdHRycy51c2VyLmlkLAogICAgICAgIGNoYW5uZWxJZDogdGhpcy4kcm91dGUucGFyYW1zLmxpdmVyb29tLAogICAgICAgIGZvcmJpZFR5cGU6IHZhbHVlLAogICAgICAgIGZvcmJpZFJvb21UeXBlOiBmb3JiaWRSb29tVHlwZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIF90aGlzLmJhbkRpYWxvZyA9IGZhbHNlOwoKICAgICAgICBfdGhpcy5NZXNzYWdlLnN1Y2Nlc3MoewogICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5zZW5kaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMucm9vbUJhbiA9ICIiOwogICAgICAgIF90aGlzLmFsbEJhbiA9ICIiOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLm1zZykgX3RoaXMuTWVzc2FnZS5lcnJvcih7CiAgICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5tc2cKICAgICAgICB9KTsKICAgICAgICBfdGhpcy5zZW5kaW5nID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9LCAxMDAwKSwKICAgIGhhbmRsZVNldE1hbmFnZXI6IHRocm90dGxlKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHZhbHVlLCAnYmFuJyk7CiAgICAgIHRoaXMuc2VuZGluZyA9IHRydWU7CiAgICAgIHJldHVybiBzZXRNYW5hZ2VyKHsKICAgICAgICBvcGVyYXRvcjogdmFsdWUsCiAgICAgICAgLy8g5pON5L2cOjAg5re75YqgOyAxIOWIoOmZpAogICAgICAgIHVpZDogdGhpcy5iYW5Vc2VySW5mby5fbGNhdHRycy51c2VyLmlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5iYW5EaWFsb2cgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMyLk1lc3NhZ2Uuc3VjY2Vzcyh7CiAgICAgICAgICBtZXNzYWdlOiByZXMubXNnCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzMi5zZW5kaW5nID0gZmFsc2U7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEubXNnKSBfdGhpczIuTWVzc2FnZS5lcnJvcih7CiAgICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5tc2cKICAgICAgICB9KTsKICAgICAgICBfdGhpczIuc2VuZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sIDEwMDApCiAgfQp9Ow=="},{"version":3,"sources":["LiveroomBan.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <section>\r\n    <div class=\"ban-mask\" v-if=\"banDialog\" @click.stop.self=\"banDialog = false\">\r\n    </div>\r\n\r\n    <transition name=\"el-fade-in-linear\">\r\n      <div class=\"ban-wrap\" v-if=\"banDialog\">\r\n        <img :src=\"banUserInfo._lcattrs.user.avatar\" alt=\"\" class=\"ban-logo\">\r\n        <h3 class=\"ban-name\">{{ banUserInfo._lcattrs.user.name }}</h3>\r\n        <div class=\"ban-uid\">UID:{{ banUserInfo._lcattrs.user.id }}</div>\r\n        <!--        <div class=\"ban-btn\" @click.stop=\"handleBan(item.value)\" v-for=\"item in banList\" :key=\"item.value\">{{ item.title-->\r\n        <!--          }}-->\r\n        <!--        </div>-->\r\n        <div class=\"ban-btn\">\r\n          房间禁言：\r\n          <el-select v-model=\"roomBan\" style=\"width:100px;margin-right:10px;\" placeholder=\"请选择\" size=\"small\">\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.key\"\r\n              :label=\"item.value\"\r\n              :value=\"item.key\">\r\n            </el-option>\r\n          </el-select>\r\n          <el-button type=\"primary\" size=\"mini\" @click.stop=\"handleBan(roomBan, 0)\">确定</el-button>\r\n        </div>\r\n        <div class=\"ban-btn\" v-if=\"userInfo.channelRoleType===9\">\r\n          全站禁言：\r\n          <el-select v-model=\"allBan\" style=\"width:100px;margin-right:10px;\" placeholder=\"请选择\" size=\"small\">\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.key\"\r\n              :label=\"item.value\"\r\n              :value=\"item.key\">\r\n            </el-option>\r\n          </el-select>\r\n          <el-button type=\"primary\" size=\"mini\" @click.stop=\"handleBan(allBan, 1)\">确定</el-button>\r\n        </div>\r\n<!--        <div class=\"ban-btn\" v-if=\"userInfo.channelRoleType===9\" @click.stop=\"handleBan(4)\">全站永久禁言</div>-->\r\n        <div class=\"ban-btn\" v-if=\"userInfo.channelRoleType===2\" @click.stop=\"handleSetManager(0)\">设为房管</div>\r\n      </div>\r\n    </transition>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\n  /*\r\n  * 主播和房管无法禁言已被禁言的人，提示”该用户已被禁言\r\n  * 超管可再次禁言已被禁言的用户，效果为覆盖之前的禁言时间\r\n  * 禁言后输入框部分显示禁言时间，且无法输入文字。\r\n  * */\r\n\r\n  import { forbidUser, setManager } from '@/api/liveroom';\r\n  import { throttle } from \"@/utils/debounceAndthrottle\";\r\n  import { Select, Option, Button } from 'element-ui';\r\n\r\n  export default {\r\n    name: 'LiveroomBan',\r\n    props: {\r\n      userInfo: Object, // channelRoleType 0(普通用户), 1(房管), 2(主播), 9(超管)\r\n    },\r\n    components: {\r\n      [Select.name]: Select,\r\n      [Option.name]: Option,\r\n      [Button.name]: Button,\r\n    },\r\n    data() {\r\n      return {\r\n        options: [\r\n          {\r\n            key: 5,\r\n            value: \"10分钟\"\r\n          },\r\n          {\r\n            key: 6,\r\n            value: \"30分钟\"\r\n          },\r\n          {\r\n            key: 7,\r\n            value: \"1小时\"\r\n          },\r\n          {\r\n            key: 1,\r\n            value: \"24小时\"\r\n          },\r\n          {\r\n            key: 8,\r\n            value: \"3天\"\r\n          },\r\n          {\r\n            key: 2,\r\n            value: \"7天\"\r\n          },\r\n          {\r\n            key: 3,\r\n            value: \"30天\"\r\n          },\r\n          {\r\n            key: 9,\r\n            value: \"6个月\"\r\n          },\r\n          {\r\n            key: 4,\r\n            value: \"永久\"\r\n          }], // 禁言类型: 0 取消禁言; 5:10分钟, 6:30分钟, 7:1小时, 1:24小时, 8:3天, 2:7天, 3:30天, 9:6个月, 4:永久(20年)\r\n        sending: false,\r\n        banDialog: false,\r\n        roomBan: \"\",\r\n        allBan: \"\",\r\n        banList: [{  // 0 取消禁言; 5:10分钟, 6:30分钟, 7:1小时, 1:24小时, 8:3天, 2:7天, 3:30天, 9:6个月, 4:永久(20年)\r\n          value: 1,\r\n          title: '禁言24小时'\r\n        }, {\r\n          value: 2,\r\n          title: '禁言7天'\r\n        }, {\r\n          value: 3,\r\n          title: '禁言30天'\r\n        }],\r\n        banUserInfo: {}\r\n      }\r\n    },\r\n    mounted() {\r\n    },\r\n    methods: {\r\n      show(item) {\r\n        // 权限不足 ( 未使用当前用户被禁言 || this.userInfo.forbid)\r\n        if (this.userInfo.channelRoleType === 0) return;\r\n        this.roomBan = \"\";\r\n        this.allBan = \"\";\r\n\r\n        this.banDialog = true;\r\n        this.banUserInfo = item;\r\n        console.log(item);\r\n      },\r\n      handleBan: throttle(function (value, forbidRoomType) {\r\n        console.log(value, 'ban');\r\n        if(!value) {\r\n          return this.Message.error({\r\n            message: \"请选择禁言天数\",\r\n          })\r\n        }\r\n        this.sending = true;\r\n        return forbidUser({\r\n          beForbidUid: this.banUserInfo._lcattrs.user.id,\r\n          channelId: this.$route.params.liveroom,\r\n          forbidType: value,\r\n          forbidRoomType: forbidRoomType\r\n        }).then(res => {\r\n          console.log(res);\r\n          this.banDialog = false;\r\n          this.Message.success({\r\n            message: res.msg,\r\n          })\r\n          this.sending = false;\r\n          this.roomBan = \"\";\r\n          this.allBan = \"\";\r\n        }).catch(res => {\r\n          if (res.data.msg) this.Message.error({\r\n            message: res.data.msg,\r\n          })\r\n          this.sending = false;\r\n          console.log(res);\r\n        })\r\n      }, 1000),\r\n      handleSetManager: throttle(function (value) {\r\n        console.log(value, 'ban');\r\n        this.sending = true;\r\n        return setManager({\r\n          operator: value, // 操作:0 添加; 1 删除\r\n          uid: this.banUserInfo._lcattrs.user.id\r\n        }).then(res => {\r\n          this.banDialog = false;\r\n          this.Message.success({\r\n            message: res.msg,\r\n          })\r\n          this.sending = false;\r\n        }).catch(res => {\r\n          if (res.data.msg) this.Message.error({\r\n            message: res.data.msg,\r\n          })\r\n          this.sending = false;\r\n        })\r\n      }, 1000),\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  @import \"@/assets/css/_index.scss\";\r\n\r\n  .ban-mask {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 29;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: transparent;\r\n  }\r\n\r\n  .ban-wrap {\r\n    position: absolute;\r\n    top: 54px;\r\n    left: 50px;\r\n    z-index: 30;\r\n    width: 260px;\r\n    background: rgba(255, 255, 255, 1);\r\n    box-shadow: 0px 2px 16px 0px rgba(30, 32, 39, 0.11);\r\n    border-radius: 10px;\r\n    text-align: center;\r\n\r\n    .ban-btns {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n    }\r\n\r\n    .ban-logo {\r\n      margin-top: 15px;\r\n      margin-bottom: 8px;\r\n      width: 70px;\r\n      height: 70px;\r\n      border-radius: 50%;\r\n    }\r\n\r\n    .ban-name {\r\n      margin: 0;\r\n      font-size: 14px;\r\n      color: $color-title1;\r\n      @extend .bold;\r\n    }\r\n\r\n    .ban-uid {\r\n      margin-top: 7px;\r\n      margin-bottom: 7px;\r\n      font-size: 12px;\r\n      color: $color-title3;\r\n    }\r\n\r\n    .ban-btn {\r\n      margin: 0 12px;\r\n      height: 55px;\r\n      line-height: 55px;\r\n      font-size: 12px;\r\n      color: $color-main;\r\n      cursor: pointer;\r\n      border-bottom: 1px solid #F4F4F4;\r\n\r\n      &:nth-last-child(1) {\r\n        border-bottom: 0;\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/components/liveroom"}]}