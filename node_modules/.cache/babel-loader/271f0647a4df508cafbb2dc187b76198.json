{"remainingRequest":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/babel-loader/lib/index.js!/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/src/components/liveroom/LiveroomChat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/src/components/liveroom/LiveroomChat.vue","mtime":1595570908569},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js","mtime":1595570902420},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/babel-loader/lib/index.js","mtime":1595570901804},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js","mtime":1595570902420},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/vue-loader/lib/index.js","mtime":1595570907990}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBMaXZlcm9vbUJhbiBmcm9tICdAL2NvbXBvbmVudHMvbGl2ZXJvb20vTGl2ZXJvb21CYW4nOyAvLyBpbXBvcnQgTGl2ZXJvb21Ib25nYmFvIGZyb20gJ0AvY29tcG9uZW50cy9saXZlcm9vbS9MaXZlcm9vbUhvbmdiYW8nCgppbXBvcnQgTGl2ZXJvb21HaWYgZnJvbSAnQC9jb21wb25lbnRzL2xpdmVyb29tL0xpdmVyb29tR2lmJzsKaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICJAL3V0aWxzL2RlYm91bmNlQW5kdGhyb3R0bGUiOwovKgoqIOWxgue6pwoqIOemgeiogOiPnOWNlTMwPuekvOeJqeeJueaViDI1Pue6ouWMhTIwPuekvOeJqeaoquW5hTE1PuamnOWNlTU+5raI5oGvCioKKiDnpLznianmqKrluYUg6K6+6K6h5oCd6LevCiogc2hvd2luZ0xpc3Qg5bGV56S65Lit55qE5YiX6KGoIOacgOWkp+mVv+W6pjMg5Yqg5YWl5pe25re75Yqgc2V0VGltZW91dO+8jOWmguaenOWxleekuuaXtumXtOWGheeUqOaIt+WQjeensOWSjOekvOeJqeWQjeensOebuOWQjO+8jOWImeaUueWPmOekvOeJqeaVsOmHj+W5tumHjeaWsOiuoeeul+WxleekuuaXtumXtO+8jOaXtumXtOWIsOS6huafpeaJvnNob3dpbmdMaXN06YeM77yI55So5oi35ZCN56ew5ZKM56S854mp5ZCN56ew77yJ55qE5a+55bqU6aG55bm25Yig6ZmkCiogdGFza0xpc3Qg5Lu75Yqh5YiX6KGoIOa3u+WKoOekvOeJqeS/oeaBr3B1c2jliLDmnIDlkI7vvIzmm7TmlrBzaG93aW5nTGlzdOaXtnNoaWZ05Y+W5Ye6CiogdXBkYXRlU2hvd2luZ0xpc3QgIO+8iOadoeS7tuaYryDlsZXnpLrljLo8M+adoeOAgee8k+WtmOWMuj4w77yJ5Yy65YiG5YWl5Y+CIOWFvOWuueWQjOS4gOS6uue7n+S4gOekvOeJqeW3suWxleekuuaDheWGtQoqCiog56S854mp5qiq5bmF5qC35byP6KeE5YiZCiogMH4wLjk55YWDCiogMX45OeWFgwoqIDEwMOWFg340OTnlhYMKKiA1MDDlhYPku6XkuIoKKgoqIOS8mOWMlueCuQoqIOa2iOWkseWJjSDlkIzkuIDnlKjmiLflkIzkuIDnpLzniakg5pu05paw5pWw6YeP5Y+K6YeN5paw6K6h566X5bGV56S65pe26Ze0IOacgOWkmuWxleekujPkuKog6YGN5Y6G5a+55q+U5Y+W5YC85Yik5pat5Y+v5Lul5o6l5Y+XCiovCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xpdmVyb29tQ2hhdCcsCiAgY29tcG9uZW50czogewogICAgTGl2ZXJvb21CYW46IExpdmVyb29tQmFuLAogICAgLy8gTGl2ZXJvb21Ib25nYmFvLAogICAgTGl2ZXJvb21HaWY6IExpdmVyb29tR2lmCiAgfSwKICBwcm9wczogewogICAgZ2lmdEl0ZW06IE9iamVjdCwKICAgIHVzZXJMb2dpbjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgdXNlckluZm86IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICAiZGVmYXVsdCI6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIG1zZ0xpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgaG9uZ2Jhb0xpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgZ2lmdExpc3RUb09iamVjdDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9CiAgfSwKICAvLyBjb21wdXRlZDogewogIC8vICAgY2xhc3NPYmplY3Q6IGZ1bmN0aW9uIChpdGVtKSB7CiAgLy8gICAgIGNvbnNvbGUubG9nKGl0ZW0pOwogIC8vICAgICByZXR1cm4gewogIC8vICAgICAgIGFjdGl2ZTogdHJ1ZSwKICAvLyAgICAgICAndGV4dC1kYW5nZXInOiB0cnVlCiAgLy8gICAgIH0KICAvLyAgIH0KICAvLyB9LAogIHdhdGNoOiB7CiAgICAvLyDlvLnluZXkuK3ojrflj5bmlrDnmoTnpLzniakKICAgIGdpZnRJdGVtOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsdWUpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICAvLyBjb25zb2xlLmxvZyhvbGRWYWx1ZSwgJ29sZFZhbHVlJyk7CiAgICAgICAgLy8gY29uc29sZS5sb2cobmV3VmFsdWUsICduZXdWYWx1ZScpOwogICAgICAgIGlmICghbmV3VmFsdWUpIHJldHVybjsgLy8g5re75Yqg5qCH6K+GCgogICAgICAgIG5ld1ZhbHVlLnNob3dJZCA9IG5ld1ZhbHVlLmdpZnQuYW5jaG9yTmFtZSArICdfJyArIG5ld1ZhbHVlLmdpZnQuaWQ7CiAgICAgICAgbmV3VmFsdWUuYWN0aXZlID0gZmFsc2U7CiAgICAgICAgbmV3VmFsdWUudnVlS2V5ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgdmFyIGl0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG5ld1ZhbHVlKSk7CiAgICAgICAgdGhpcy50YXNrTGlzdC5wdXNoKGl0ZW0pOwogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnVwZGF0ZVNob3dpbmdMaXN0KGl0ZW0pOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IGZhbHNlCiAgICB9LAogICAgLy8g5by55bmV5L+h5oGvCiAgICBtc2dMaXN0OiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIC8vIGNvbnNvbGUubG9nKG9sZFZhbHVlLCAnb2xkVmFsdWUnKTsKICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdWYWx1ZSwgJ25ld1ZhbHVlJyk7CiAgICAgICAgaWYgKHRoaXMuJHJlZnMuY2hhdCkgewogICAgICAgICAgdmFyIHNjcm9sbFRhcmdldCA9IHRoaXMuJHJlZnMuY2hhdDsgLy8g5Yiw5bqV5oiW6ICFIOa7muWKqOmrmOW6puWkp+S6juinhuWbvumrmOW6pgoKICAgICAgICAgIHZhciBpc1Njcm9sbFRvRW5kID0gc2Nyb2xsVGFyZ2V0LnNjcm9sbEhlaWdodCAtIHNjcm9sbFRhcmdldC5zY3JvbGxUb3AgPT09IHNjcm9sbFRhcmdldC5jbGllbnRIZWlnaHQgfHwgc2Nyb2xsVGFyZ2V0LnNjcm9sbEhlaWdodCA8PSBzY3JvbGxUYXJnZXQuY2xpZW50SGVpZ2h0ICsgMTU7IC8vIGhhY2sgc2Nyb2xsSGVpZ2h06buY6K6k5aSn5LqOY2xpZW50SGVpZ2h06Zeu6aKYCgogICAgICAgICAgY29uc29sZS5sb2coc2Nyb2xsVGFyZ2V0LnNjcm9sbFRvcCwgJ3Njcm9sbFRhcmdldC5zY3JvbGxUb3AnKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHNjcm9sbFRhcmdldC5zY3JvbGxIZWlnaHQsICdzY3JvbGxUYXJnZXQuc2Nyb2xsSGVpZ2h0Jyk7CiAgICAgICAgICBjb25zb2xlLmxvZyhzY3JvbGxUYXJnZXQuY2xpZW50SGVpZ2h0LCAnc2Nyb2xsVGFyZ2V0LmNsaWVudEhlaWdodCcpOwogICAgICAgICAgY29uc29sZS5sb2coaXNTY3JvbGxUb0VuZCwgJ2lzU2Nyb2xsVG9FbmQnKTsKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8g5re75Yqg5raI5oGvIOaciXNjcm9sbFRvcCDmiJbogIUg5YaF5a65PuinhuWPowogICAgICAgICAgICB2YXIgaXNBZGRNZXNzYWdlID0gc2Nyb2xsVGFyZ2V0LnNjcm9sbFRvcCA+IDAgfHwgc2Nyb2xsVGFyZ2V0LnNjcm9sbEhlaWdodCA+PSBzY3JvbGxUYXJnZXQuY2xpZW50SGVpZ2h0ICsgMTU7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGlzQWRkTWVzc2FnZSk7CgogICAgICAgICAgICBpZiAoaXNTY3JvbGxUb0VuZCkgewogICAgICAgICAgICAgIF90aGlzMi5uZXdNZXNzYWdlID0gMDsKICAgICAgICAgICAgICBzY3JvbGxUYXJnZXQuc2Nyb2xsVG9wID0gc2Nyb2xsVGFyZ2V0LnNjcm9sbEhlaWdodDsKICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FkZE1lc3NhZ2UpIHsKICAgICAgICAgICAgICAvLyDmnKrmmL7npLrnmoTmtojmga/lop7liqAKICAgICAgICAgICAgICBfdGhpczIubmV3TWVzc2FnZSsrOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogZmFsc2UKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBob25nYmFvTGlzdDogW10sCiAgICAgIGJhbkRpYWxvZzogZmFsc2UsCiAgICAgIC8vIHNjcm9sbFRhcmdldDogbnVsbCwKICAgICAgbmV3TWVzc2FnZTogMCwKICAgICAgLy8g5pyq5pi+56S655qE5raI5oGvCiAgICAgIHNob3dpbmdMaXN0OiBbLy8gewogICAgICAgIC8vICAgc2hvd0lkOiAn5Yav5pum5aakXzEyOTE1MjA2OTMwNjM2ODAwJywKICAgICAgICAvLyAgIGFjdGl2ZTogdHJ1ZSwKICAgICAgICAvLyAgIHZ1ZUtleTogMSwKICAgICAgICAvLyAgICJnaWZ0IjogewogICAgICAgIC8vICAgICAiYW5jaG9ySWQiOiAiNjkxOTE2NCIsCiAgICAgICAgLy8gICAgICJhbmNob3JOYW1lIjogIuWGr+abpuWmpCIsCiAgICAgICAgLy8gICAgICJpZCI6IDEyOTE1MjA2OTMwNjM2ODAyLAogICAgICAgIC8vICAgICAibmFtZSI6ICLmtarlkbPku5kiLAogICAgICAgIC8vICAgICAibnVtYmVyIjogMSwKICAgICAgICAvLyAgICAgInBpY3R1cmUiOiAiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvZ2lmdHMvbGFuZ1hpYW5YaWFuLzIwMTkxMDE4MTkyODM5MTMwMzE0NTI2MjA2NzcxNDEucG5nIiwKICAgICAgICAvLyAgICAgInNob3dHaWZ0IjogdHJ1ZSwKICAgICAgICAvLyAgICAgInRvdGFsRmVlIjogMTAKICAgICAgICAvLyAgIH0sCiAgICAgICAgLy8gICAicFR5cGUiOiAwLAogICAgICAgIC8vICAgInBpZCI6ICI2OTE5MTY0IiwKICAgICAgICAvLyAgICJzaWduIjogIjI4NjQwM0EzOTNDMjc1MDQ2QzMwNTNDQTdFQkU0QUREIiwKICAgICAgICAvLyAgICJ1c2VyIjogewogICAgICAgIC8vICAgICAiYXZhdGFyIjogImh0dHBzOi8vcGljLmltaWZhbi5saXZlL2F2YXRhci8yMDE5MTAzMTE5NDU1MTEzMTgzMDU3ODUwMTYzMjA5LnBuZyIsCiAgICAgICAgLy8gICAgICJpZCI6ICIzNDg2MDc0IiwKICAgICAgICAvLyAgICAgIm5hbWUiOiAi5pmo5pum5ZC75pyI5pmo5pum5ZC75pyI5pum5ZC75pyI5pmo5pum5ZC75pyI5pum5ZC75pyI5pmo5pum5ZC75pyI5pmo5pum5ZC75pyIIgogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0sIHsKICAgICAgICAvLyAgIHNob3dJZDogJ+WGr+abpuWmpF8xMjkxNTIwNjkzMDYzNjgwMScsCiAgICAgICAgLy8gICBhY3RpdmU6IHRydWUsCiAgICAgICAgLy8gICB2dWVLZXk6IDIsCiAgICAgICAgLy8gICAiZ2lmdCI6IHsKICAgICAgICAvLyAgICAgImFuY2hvcklkIjogIjY5MTkxNjQiLAogICAgICAgIC8vICAgICAiYW5jaG9yTmFtZSI6ICLlhq/mm6blpqQiLAogICAgICAgIC8vICAgICAiaWQiOiAxMjkxNTIwNjkzMDYzNjgwMiwKICAgICAgICAvLyAgICAgIm5hbWUiOiAi5rWq5ZGz5LuZIiwKICAgICAgICAvLyAgICAgIm51bWJlciI6IDEsCiAgICAgICAgLy8gICAgICJwaWN0dXJlIjogImh0dHBzOi8vcGljLmltaWZhbi5saXZlL2dpZnRzL2xhbmdYaWFuWGlhbi8yMDE5MTAxODE5MjgzOTEzMDMxNDUyNjIwNjc3MTQxLnBuZyIsCiAgICAgICAgLy8gICAgICJzaG93R2lmdCI6IHRydWUsCiAgICAgICAgLy8gICAgICJ0b3RhbEZlZSI6IDEwMDAwCiAgICAgICAgLy8gICB9LAogICAgICAgIC8vICAgInBUeXBlIjogMCwKICAgICAgICAvLyAgICJwaWQiOiAiNjkxOTE2NCIsCiAgICAgICAgLy8gICAic2lnbiI6ICIyODY0MDNBMzkzQzI3NTA0NkMzMDUzQ0E3RUJFNEFERCIsCiAgICAgICAgLy8gICAidXNlciI6IHsKICAgICAgICAvLyAgICAgImF2YXRhciI6ICJodHRwczovL3BpYy5pbWlmYW4ubGl2ZS9hdmF0YXIvMjAxOTEwMzExOTQ1NTExMzE4MzA1Nzg1MDE2MzIwOS5wbmciLAogICAgICAgIC8vICAgICAiaWQiOiAiMzQ4NjA3NCIsCiAgICAgICAgLy8gICAgICJuYW1lIjogIuaZqOabpuWQu+aciOaZqOabpuWQu+aciOabpuWQu+aciOaZqOabpuWQu+aciOabpuWQu+aciOaZqOabpuWQu+aciOaZqOabpuWQu+aciCIKICAgICAgICAvLyAgIH0KICAgICAgICAvLyB9LCB7CiAgICAgICAgLy8gICBzaG93SWQ6ICflhq/mm6blpqRfMTI5MTUyMDY5MzA2MzY4MDInLAogICAgICAgIC8vICAgYWN0aXZlOiB0cnVlLAogICAgICAgIC8vICAgdnVlS2V5OiAzLAogICAgICAgIC8vICAgImdpZnQiOiB7CiAgICAgICAgLy8gICAgICJhbmNob3JJZCI6ICI2OTE5MTY0IiwKICAgICAgICAvLyAgICAgImFuY2hvck5hbWUiOiAi5Yav5pum5aakIiwKICAgICAgICAvLyAgICAgImlkIjogMTI5MTUyMDY5MzA2MzY4MDIsCiAgICAgICAgLy8gICAgICJuYW1lIjogIua1quWRs+S7mSIsCiAgICAgICAgLy8gICAgICJudW1iZXIiOiAxLAogICAgICAgIC8vICAgICAicGljdHVyZSI6ICJodHRwczovL3BpYy5pbWlmYW4ubGl2ZS9naWZ0cy9sYW5nWGlhblhpYW4vMjAxOTEwMTgxOTI4MzkxMzAzMTQ1MjYyMDY3NzE0MS5wbmciLAogICAgICAgIC8vICAgICAic2hvd0dpZnQiOiB0cnVlLAogICAgICAgIC8vICAgICAidG90YWxGZWUiOiAxMDAwMDAwMAogICAgICAgIC8vICAgfSwKICAgICAgICAvLyAgICJwVHlwZSI6IDAsCiAgICAgICAgLy8gICAicGlkIjogIjY5MTkxNjQiLAogICAgICAgIC8vICAgInNpZ24iOiAiMjg2NDAzQTM5M0MyNzUwNDZDMzA1M0NBN0VCRTRBREQiLAogICAgICAgIC8vICAgInVzZXIiOiB7CiAgICAgICAgLy8gICAgICJhdmF0YXIiOiAiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvYXZhdGFyLzIwMTkxMDMxMTk0NTUxMTMxODMwNTc4NTAxNjMyMDkucG5nIiwKICAgICAgICAvLyAgICAgImlkIjogIjM0ODYwNzQiLAogICAgICAgIC8vICAgICAibmFtZSI6ICLmmajmm6blkLvmnIjmmajmm6blkLvmnIjmm6blkLvmnIjmmajmm6blkLvmnIjmm6blkLvmnIjmmajmm6blkLvmnIjmmajmm6blkLvmnIgiCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfSwgewogICAgICAgIC8vICAgc2hvd0lkOiAn5Yav5pum5aakXzEyOTE1MjA2OTMwNjM2ODAzJywKICAgICAgICAvLyAgIGFjdGl2ZTogdHJ1ZSwKICAgICAgICAvLyAgIHZ1ZUtleTogNCwKICAgICAgICAvLyAgICJnaWZ0IjogewogICAgICAgIC8vICAgICAiYW5jaG9ySWQiOiAiNjkxOTE2NCIsCiAgICAgICAgLy8gICAgICJhbmNob3JOYW1lIjogIuWGr+abpuWmpCIsCiAgICAgICAgLy8gICAgICJpZCI6IDEyOTE1MjA2OTMwNjM2ODAyLAogICAgICAgIC8vICAgICAibmFtZSI6ICLmtarlkbPku5kiLAogICAgICAgIC8vICAgICAibnVtYmVyIjogMSwKICAgICAgICAvLyAgICAgInBpY3R1cmUiOiAiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvZ2lmdHMvbGFuZ1hpYW5YaWFuLzIwMTkxMDE4MTkyODM5MTMwMzE0NTI2MjA2NzcxNDEucG5nIiwKICAgICAgICAvLyAgICAgInNob3dHaWZ0IjogdHJ1ZSwKICAgICAgICAvLyAgICAgInRvdGFsRmVlIjogMTAwMAogICAgICAgIC8vICAgfSwKICAgICAgICAvLyAgICJwVHlwZSI6IDAsCiAgICAgICAgLy8gICAicGlkIjogIjY5MTkxNjQiLAogICAgICAgIC8vICAgInNpZ24iOiAiMjg2NDAzQTM5M0MyNzUwNDZDMzA1M0NBN0VCRTRBREQiLAogICAgICAgIC8vICAgInVzZXIiOiB7CiAgICAgICAgLy8gICAgICJhdmF0YXIiOiAiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvYXZhdGFyLzIwMTkxMDMxMTk0NTUxMTMxODMwNTc4NTAxNjMyMDkucG5nIiwKICAgICAgICAvLyAgICAgImlkIjogIjM0ODYwNzQiLAogICAgICAgIC8vICAgICAibmFtZSI6ICLmmajmm6blkLvmnIjmmajmm6blkLvmnIjmm6blkLvmnIjmmajmm6blkLvmnIjmm6blkLvmnIjmmajmm6blkLvmnIjmmajmm6blkLvmnIgiCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfSwKICAgICAgICAvLyB7CiAgICAgICAgLy8gICBzaG93SWQ6ICflhq/mm6blpqRfMTI5MTUyMDY5MzA2MzY4MDInLAogICAgICAgIC8vICAgYWN0aXZlOnRydWUsCiAgICAgICAgLy8gICB2dWVLZXk6MiwKICAgICAgICAvLyAgICJnaWZ0IjogewogICAgICAgIC8vICAgICAiYW5jaG9ySWQiOiAiNjkxOTE2NCIsCiAgICAgICAgLy8gICAgICJhbmNob3JOYW1lIjogIuWGr+abpuWmpCIsCiAgICAgICAgLy8gICAgICJpZCI6IDEyOTE1MjA2OTMwNjM2ODAyLAogICAgICAgIC8vICAgICAibmFtZSI6ICLmtarlkbPku5kiLAogICAgICAgIC8vICAgICAibnVtYmVyIjogMSwKICAgICAgICAvLyAgICAgInBpY3R1cmUiOiAiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvZ2lmdHMvbGFuZ1hpYW5YaWFuLzIwMTkxMDE4MTkyODM5MTMwMzE0NTI2MjA2NzcxNDEucG5nIiwKICAgICAgICAvLyAgICAgInNob3dHaWZ0IjogdHJ1ZSwKICAgICAgICAvLyAgICAgInRvdGFsRmVlIjogMTAKICAgICAgICAvLyAgIH0sCiAgICAgICAgLy8gICAicFR5cGUiOiAwLAogICAgICAgIC8vICAgInBpZCI6ICI2OTE5MTY0IiwKICAgICAgICAvLyAgICJzaWduIjogIjI4NjQwM0EzOTNDMjc1MDQ2QzMwNTNDQTdFQkU0QUREIiwKICAgICAgICAvLyAgICJ1c2VyIjogewogICAgICAgIC8vICAgICAiYXZhdGFyIjogImh0dHBzOi8vcGljLmltaWZhbi5saXZlL2F2YXRhci8yMDE5MTAzMTE5NDU1MTEzMTgzMDU3ODUwMTYzMjA5LnBuZyIsCiAgICAgICAgLy8gICAgICJpZCI6ICIzNDg2MDc0IiwKICAgICAgICAvLyAgICAgIm5hbWUiOiAi5pmo5pum5ZC75pyIIgogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0KICAgICAgXSwKICAgICAgLy8g5bGV56S65Lit55qE56S854mp5qiq5p2hCiAgICAgIHRhc2tMaXN0OiBbXSAvLyDlvoXlsZXnpLrnmoTnpLznianmqKrmnaEKCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsvLyB0ZXN0IOe6ouWMhQogICAgLy8gdGhpcy5ob25nYmFvTGlzdC5wdXNoKHsKICAgIC8vCiAgICAvLyB9KQogICAgLy8gdGhpcy5ob25nYmFvTGlzdC5wdXNoKHsKICAgIC8vCiAgICAvLyB9KQogICAgLy8gdGhpcy51cGRhdGVTaG93aW5nTGlzdCgpCiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmdpZnRJdGVtLCAnZ2lmdEl0ZW0nKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7Ly8gdGhpcy5zY3JvbGxUYXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhdCIpCiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIDB+MC45OeWFgwogICAgICogMX45OeWFgwogICAgICogMTAw5YWDfjQ5OeWFgwogICAgICogNTAw5YWD5Lul5LiKCiAgICAgKiAqLwogICAgY2xhc3NPYmplY3Q6IGZ1bmN0aW9uIGNsYXNzT2JqZWN0KGl0ZW0pIHsKICAgICAgY29uc29sZS5sb2coaXRlbS5naWZ0LnRvdGFsRmVlKTsKICAgICAgcmV0dXJuIHsKICAgICAgICAnZ2lmdC1pdGVtLTAnOiBpdGVtLmdpZnQudG90YWxGZWUgPj0gMCAmJiBpdGVtLmdpZnQudG90YWxGZWUgPD0gOTksCiAgICAgICAgJ2dpZnQtaXRlbS0xJzogaXRlbS5naWZ0LnRvdGFsRmVlID49IDk5ICYmIGl0ZW0uZ2lmdC50b3RhbEZlZSA8PSA5OTAwLAogICAgICAgICdnaWZ0LWl0ZW0tMic6IGl0ZW0uZ2lmdC50b3RhbEZlZSA+PSAxMDAwMCAmJiBpdGVtLmdpZnQudG90YWxGZWUgPD0gNDk5MDAsCiAgICAgICAgJ2dpZnQtaXRlbS0zJzogaXRlbS5naWZ0LnRvdGFsRmVlID49IDUwMDAwCiAgICAgIH07CiAgICB9LAogICAgLy8g54K55Ye755So5oi35aeT5ZCNIOWIpOaWreadoeS7tuadg+mZkCDmmK/lkKbnur/kuIrnpoHnlKjlvLnnqpcKICAgIGhhbmRsZUJhbjogZnVuY3Rpb24gaGFuZGxlQmFuKGUpIHsKICAgICAgY29uc29sZS5sb2coZSk7IC8vIGlmIChlLnRhcmdldC5jbGFzc05hbWUudG9Mb3dlckNhc2UoKSA9PSAiaXRlbS1uYW1lIiAmJiBlLnRhcmdldC5kYXRhc2V0Lml0ZW0pIHsKCiAgICAgIHRoaXMuJHJlZnMuYmFuLnNob3codGhpcy5tc2dMaXN0W2UudGFyZ2V0LmRhdGFzZXQuaXRlbV0pOwogICAgICBjb25zb2xlLmxvZyh0aGlzLm1zZ0xpc3RbZS50YXJnZXQuZGF0YXNldC5pdGVtXSk7CiAgICAgIGNvbnNvbGUubG9nKGUudGFyZ2V0LmRhdGFzZXQuaXRlbSk7IC8vIH0KICAgIH0sCiAgICAvLyDoioLmtYHlpITnkIYg5rua5Yqo5Yiw5bqVIHB1c2jkv6Hmga/kuZ/kvJrop6blj5EKICAgIGNoYXRTY3JvbGw6IGRlYm91bmNlKGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChlICYmIGUudGFyZ2V0LnNjcm9sbEhlaWdodCAtIGUudGFyZ2V0LnNjcm9sbFRvcCA9PSBlLnRhcmdldC5jbGllbnRIZWlnaHQpIHsKICAgICAgICB0aGlzLm5ld01lc3NhZ2UgPSAwOwogICAgICAgIGUudGFyZ2V0LnNjcm9sbFRvcCA9IGUudGFyZ2V0LnNjcm9sbEhlaWdodDsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coZSk7CiAgICB9LCA1MDAsIGZhbHNlKSwKICAgIC8vIGNoYXRTY3JvbGwoZSkgewogICAgLy8gICBpZiAoZS50YXJnZXQuc2Nyb2xsSGVpZ2h0IC0gZS50YXJnZXQuc2Nyb2xsVG9wID09IGUudGFyZ2V0LmNsaWVudEhlaWdodCkgewogICAgLy8gICAgIHRoaXMubmV3TWVzc2FnZSA9IDA7CiAgICAvLyAgICAgZS50YXJnZXQuc2Nyb2xsVG9wID0gZS50YXJnZXQuc2Nyb2xsSGVpZ2h0CiAgICAvLyAgIH0KICAgIC8vICAgY29uc29sZS5sb2coZSk7CiAgICAvLyB9LAogICAgLy8g5omL5Yqo54K55Ye75Zue5Yiw5bqV6YOoCiAgICBoYW5kbGVTY3JvbGxUb0VuZDogZnVuY3Rpb24gaGFuZGxlU2Nyb2xsVG9FbmQoKSB7CiAgICAgIHZhciBzY3JvbGxUYXJnZXQgPSB0aGlzLiRyZWZzLmNoYXQ7CiAgICAgIHNjcm9sbFRhcmdldC5zY3JvbGxUb3AgPSBzY3JvbGxUYXJnZXQuc2Nyb2xsSGVpZ2h0OwogICAgICB0aGlzLm5ld01lc3NhZ2UgPSAwOwogICAgfSwKCiAgICAvKioKICAgICAqIOaoquW5heaYvuekuuaXtumXtAogICAgICog5aSn5LqOMTAw5Z2X77yMMuWIhumSnwogICAgICog5aSn5LqONTDlnZfmlbDnm67lsI/kuo4xMOWdl++8jDEuNeWIhumSnwogICAgICog5aSn5LqOMTDlnZflsI/kuo41MOWdl+W5tuS4lOekvOeJqeaVsOWwj+S6jjEw77yM5pi+56S6MeWIhumSnwogICAgICog5YW25LuW5oOF5Ya15piv77yMM+enkivnpLzniannmoTmgLvku7fmoLwqM+avq+enkgogICAgICog5byC5bi4IDNzCiAgICAgKi8KICAgIHNob3dpbmdUaW1lOiBmdW5jdGlvbiBzaG93aW5nVGltZSh0b3RhbEZlZSkgewogICAgICBpZiAoaXNOYU4odG90YWxGZWUpKSB0b3RhbEZlZSA9IDA7CgogICAgICBpZiAodG90YWxGZWUgPiAxMDAgKiAxMDApIHsKICAgICAgICByZXR1cm4gMTAwMCAqIDYwICogMjsKICAgICAgfSBlbHNlIGlmICh0b3RhbEZlZSA+IDUwICogMTAwKSB7CiAgICAgICAgcmV0dXJuIDEwMDAgKiA2MCAqIDEuNTsKICAgICAgfSBlbHNlIGlmICh0b3RhbEZlZSA+IDEwICogMTAwKSB7CiAgICAgICAgcmV0dXJuIDEwMDAgKiA2MCAqIDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDEwMDAgKiAzICsgdG90YWxGZWUgKiAzOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICog56e76Zmk6L+H5pyf5qiq5bmF5Y+K5pu05paw5a6a5pe25ZmoCiAgICAgKiBAcGFyYW0gdHlwZSB1cGRhdGUvY2xlYXIKICAgICAqIEBwYXJhbSBpdGVtIOWxleekuumhuQogICAgICogQHBhcmFtIGNhbGxCYWNrCiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfQogICAgICovCiAgICB1cGRhdGVTZXRUaW1lb3V0OiBmdW5jdGlvbiB1cGRhdGVTZXRUaW1lb3V0KHR5cGUsIGl0ZW0sIGNhbGxCYWNrKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHRpbWVyID0gbnVsbDsKICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZyhpdGVtLnNob3dJZCwgJ3Nob3dJZCcpOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzMy5zaG93aW5nVGltZShpdGVtLmdpZnQudG90YWxGZWUpLCAn5pi+56S65pe26Ze0Jyk7IC8vIOemu+W8gOWKqOeUuwoKICAgICAgICBpdGVtLmFjdGl2ZSA9IHR5cGUgPT0gJ3VwZGF0ZScgPyB0cnVlIDogZmFsc2U7IC8vIOmAmui/h3Nob3dJZOabtOaWsOS9jee9rgoKICAgICAgICB2YXIgc2hvd0lkID0gaXRlbS5zaG93SWQ7CgogICAgICAgIHZhciBpbmRleCA9IF90aGlzMy5zaG93aW5nTGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLnNob3dJZCA9PSBzaG93SWQ7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSBfdGhpczMuc2hvd2luZ0xpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICBpZiAoY2FsbEJhY2spIGNhbGxCYWNrKCk7CiAgICAgIH0sIHRoaXMuc2hvd2luZ1RpbWUoaXRlbS5naWZ0LnRvdGFsRmVlKSk7IC8vIOa4hemZpOe7keWumueahOWumuaXtuWZqAoKICAgICAgdGhpcy4kb25jZSgnaG9vazpiZWZvcmVEZXN0cm95JywgZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCJob29rOmJlZm9yZURlc3Ryb3kiKTsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRpbWVyOwogICAgfSwKICAgIC8vIOabtOaWsOaoquW5hQogICAgdXBkYXRlU2hvd2luZ0xpc3Q6IGZ1bmN0aW9uIHVwZGF0ZVNob3dpbmdMaXN0KG5ld01lc3NhZ2UpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygndXBkYXRlU2hvd2luZ0xpc3QtLS0tc3RhcnQnKTsKICAgICAgdmFyIGlzVXBkYXRlID0gZmFsc2U7IC8vIOabtOaWsOeOsOacieaoquW5hS/pnIDopoHnu6fnu63mj5LlhaXmmL7npLrliJfooagKICAgICAgLy8g5LyY5YWI5Yik5pat5piv5ZCm5pivIOWQjOS4gOeUqOaIt+eUqOS4gOenjeekvOeJqQoKICAgICAgaWYgKG5ld01lc3NhZ2UgJiYgdGhpcy5zaG93aW5nTGlzdC5sZW5ndGggPiAwICYmIHRoaXMuc2hvd2luZ0xpc3QubGVuZ3RoIDwgMykgewogICAgICAgIGNvbnNvbGUubG9nKG5ld01lc3NhZ2UsICduZXdNZXNzYWdlJyk7IC8vIOaYvuekuuS4pOS4quWQjOWQjeWtl+WQjOekvOeJqeeahOaoquW5hSAg5pu05paw5pi+56S655qE5pe26Ze05piv56ys5LiA5Liq5pe26Ze0CgogICAgICAgIHRoaXMuc2hvd2luZ0xpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaWYgKGlzVXBkYXRlKSByZXR1cm47CgogICAgICAgICAgaWYgKGl0ZW0uc2hvd0lkID09IG5ld01lc3NhZ2Uuc2hvd0lkKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfph43lpI3pgY3ljoYnKTsgLy8g5pyJ5Zyo5pi+56S655qE5qiq5bmFIOenu+mZpOmYn+WIl+acgOaWsOaOqOWFpemhuQoKICAgICAgICAgICAgX3RoaXM0LnRhc2tMaXN0LnBvcCgpOyAvLyDmm7TmlrDmmL7npLrnmoTmqKrluYUKCgogICAgICAgICAgICBpdGVtLmdpZnQubnVtYmVyID0gaXRlbS5naWZ0Lm51bWJlciArIG5ld01lc3NhZ2UuZ2lmdC5udW1iZXI7IC8vIOabtOaWsOWumuaXtuWZqAoKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGl0ZW0udGltZXIpOwogICAgICAgICAgICBpdGVtLnRpbWVyID0gX3RoaXM0LnVwZGF0ZVNldFRpbWVvdXQoJ3VwZGF0ZScsIGl0ZW0pOwogICAgICAgICAgICBpc1VwZGF0ZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKGlzVXBkYXRlLCAnaXNVcGRhdGUnKTsKCiAgICAgIGlmICghaXNVcGRhdGUgJiYgdGhpcy5zaG93aW5nTGlzdC5sZW5ndGggPCAzICYmIHRoaXMudGFza0xpc3QubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBpdGVtID0gdGhpcy50YXNrTGlzdC5zaGlmdCgpOyAvLyDov5vlnLrliqjnlLsKCiAgICAgICAgaXRlbS5hY3RpdmUgPSB0cnVlOyAvLyDlrprml7bnp7vpmaTmmL7npLoKCiAgICAgICAgaXRlbS50aW1lciA9IHRoaXMudXBkYXRlU2V0VGltZW91dCgnY2xlYXInLCBpdGVtLCB0aGlzLnVwZGF0ZVNob3dpbmdMaXN0KTsgLy8gaXRlbS50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIC8vICAgbGV0IHNob3dJZCA9IGl0ZW0uc2hvd0lkOwogICAgICAgIC8vCiAgICAgICAgLy8gICAgIC8vIOemu+W8gOWKqOeUuwogICAgICAgIC8vICAgaXRlbS5hY3RpdmUgPSB0cnVlOwogICAgICAgIC8vICAgY29uc29sZS5sb2coaXRlbS5naWZ0LmFuY2hvck5hbWUsJ2l0ZW0uZ2lmdC5hbmNob3JOYW1lJyk7CiAgICAgICAgLy8KICAgICAgICAvLyAgIGxldCBpbmRleCA9IHRoaXMuc2hvd2luZ0xpc3QuZmluZEluZGV4KChpdGVtLGluZGV4KSA9PiB7CiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHRoaXMuc2hvd2luZ0xpc3RbaW5kZXhdLmdpZnQuYW5jaG9yTmFtZSk7CiAgICAgICAgLy8gICAgIHJldHVybiAoaXRlbS5zaG93SWQgPT0gc2hvd0lkKQogICAgICAgIC8vICAgfSkKICAgICAgICAvLyAgIGlmKGluZGV4ICE9PSB1bmRlZmluZWQpIHRoaXMuc2hvd2luZ0xpc3Quc3BsaWNlKGluZGV4LDEpCiAgICAgICAgLy8gICAvLyDmm7TmlrDpmJ/liJcKICAgICAgICAvLyAgIHRoaXMudXBkYXRlU2hvd2luZ0xpc3QoKQogICAgICAgIC8vCiAgICAgICAgLy8gfSwgdGhpcy5zaG93aW5nVGltZShpdGVtLmdpZnQudG90YWxGZWUpKQoKICAgICAgICB0aGlzLnNob3dpbmdMaXN0LnB1c2goaXRlbSk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCd1cGRhdGVTaG93aW5nTGlzdC0tLS1lbmQnKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["LiveroomChat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,OAAA,WAAA,MAAA,mCAAA,C,CACA;;AACA,OAAA,WAAA,MAAA,mCAAA;AAEA,SAAA,QAAA,QAAA,6BAAA;AAEA;;;;;;;;;;;;;;;;;;;AAkBA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA,WADA;AAEA;AACA,IAAA,WAAA,EAAA;AAHA,GAFA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA,MADA;AAEA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,iBAAA,oBAAA;AACA,eAAA,EAAA;AACA;AAJA,KAFA;AAQA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,iBAAA,oBAAA;AACA,eAAA,EAAA;AACA;AAJA,KARA;AAcA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,iBAAA,oBAAA;AACA,eAAA,EAAA;AACA;AAJA,KAdA;AAoBA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,iBAAA,oBAAA;AACA,eAAA,EAAA;AACA;AAJA,KApBA;AA0BA,IAAA,gBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,iBAAA,oBAAA;AACA,eAAA,EAAA;AACA;AAJA;AA1BA,GAPA;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,OAAA,EAAA,iBAAA,QAAA,EAAA;AAAA;;AACA;AACA;AACA,YAAA,CAAA,QAAA,EAAA,OAHA,CAIA;;AACA,QAAA,QAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,GAAA,GAAA,GAAA,QAAA,CAAA,IAAA,CAAA,EAAA;AACA,QAAA,QAAA,CAAA,MAAA,GAAA,KAAA;AACA,QAAA,QAAA,CAAA,MAAA,GAAA,IAAA,IAAA,GAAA,OAAA,EAAA;AACA,YAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA,CAAA;AACA,aAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,aAAA,SAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,iBAAA,CAAA,IAAA;AACA,SAFA;AAGA,OAdA;AAeA,MAAA,SAAA,EAAA;AAfA,KAFA;AAmBA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,OAAA,EAAA,mBAAA;AAAA;;AACA;AACA;AACA,YAAA,KAAA,KAAA,CAAA,IAAA,EAAA;AACA,cAAA,YAAA,GAAA,KAAA,KAAA,CAAA,IAAA,CADA,CAEA;;AACA,cAAA,aAAA,GAAA,YAAA,CAAA,YAAA,GAAA,YAAA,CAAA,SAAA,KAAA,YAAA,CAAA,YAAA,IAAA,YAAA,CAAA,YAAA,IAAA,YAAA,CAAA,YAAA,GAAA,EAAA,CAHA,CAGA;;AAEA,UAAA,OAAA,CAAA,GAAA,CAAA,YAAA,CAAA,SAAA,EAAA,wBAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,YAAA,CAAA,YAAA,EAAA,2BAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,YAAA,CAAA,YAAA,EAAA,2BAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,aAAA,EAAA,eAAA;AAEA,eAAA,SAAA,CAAA,YAAA;AACA;AACA,gBAAA,YAAA,GAAA,YAAA,CAAA,SAAA,GAAA,CAAA,IAAA,YAAA,CAAA,YAAA,IAAA,YAAA,CAAA,YAAA,GAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,YAAA;;AACA,gBAAA,aAAA,EAAA;AACA,cAAA,MAAA,CAAA,UAAA,GAAA,CAAA;AACA,cAAA,YAAA,CAAA,SAAA,GAAA,YAAA,CAAA,YAAA;AACA,aAHA,MAGA,IAAA,YAAA,EAAA;AACA;AACA,cAAA,MAAA,CAAA,UAAA;AACA;AACA,WAXA;AAYA;AACA,OA3BA;AA4BA,MAAA,SAAA,EAAA;AA5BA;AApBA,GAjDA;AAoGA,EAAA,IApGA,kBAoGA;AACA,WAAA;AACA;AACA,MAAA,SAAA,EAAA,KAFA;AAGA;AACA,MAAA,UAAA,EAAA,CAJA;AAIA;AAEA,MAAA,WAAA,EAAA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhHA,OANA;AAuHA;AACA,MAAA,QAAA,EAAA,EAxHA,CAwHA;;AAxHA,KAAA;AA0HA,GA/NA;AAgOA,EAAA,OAhOA,qBAgOA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA1OA;AA2OA,EAAA,OA3OA,qBA2OA,CACA;AACA,GA7OA;AA8OA,EAAA,OAAA,EAAA;AACA;;;;;;AAMA,IAAA,WAPA,uBAOA,IAPA,EAOA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA;AACA,aAAA;AACA,uBAAA,IAAA,CAAA,IAAA,CAAA,QAAA,IAAA,CAAA,IAAA,IAAA,CAAA,IAAA,CAAA,QAAA,IAAA,EADA;AAEA,uBAAA,IAAA,CAAA,IAAA,CAAA,QAAA,IAAA,EAAA,IAAA,IAAA,CAAA,IAAA,CAAA,QAAA,IAAA,IAFA;AAGA,uBAAA,IAAA,CAAA,IAAA,CAAA,QAAA,IAAA,KAAA,IAAA,IAAA,CAAA,IAAA,CAAA,QAAA,IAAA,KAHA;AAIA,uBAAA,IAAA,CAAA,IAAA,CAAA,QAAA,IAAA;AAJA,OAAA;AAMA,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","sourcesContent":["<template>\n  <div class=\"live-chat\">\n    <!--横幅礼物-->\n    <transition-group name=\"gift\" appear tap=\"div\" class=\"gift-item\">\n      <div v-for=\"(item) in showingList\" :key=\"item.vueKey\">\n        <div v-if=\"item.active\" class=\"gift-item-wrap\" :class=\"classObject(item)\">\n          <img class=\"gift-avatar\" :src=\"item.user.avatar\" alt=\"\">\n          <div class=\"gift-content\">\n            <div class=\"gift-title\">{{ item.user.name }}</div>\n            <div class=\"gift-name\">送出 {{ item.gift.name }}</div>\n          </div>\n          <img class=\"gift-icon\" :src=\"item.gift.picture\" alt=\"\">\n          <div class=\"gift-count font-gift\">x <span>{{ item.gift.number }}</span></div>\n        </div>\n      </div>\n    </transition-group>\n\n    <!--聊天室-->\n    <section class=\"chat-wrap\">\n      <!--聊天内容-->\n      <section ref=\"chat\" class=\"chat\" id=\"chat\" @scroll=\"chatScroll\" @click.stop=\"handleBan\">\n        <div class=\"chat-item\" v-for=\"(item,index) in msgList\" :key=\"item.sign\">\n          <!--消息三种类型 1 发言 name: content 2 礼物 name num pic 3 系统通知 颜色不同-->\n          <!--文本消息-->\n          <template v-if=\"item._lctype === -1\">\n            <img class=\"role-icon\" v-if=\"item._lcattrs.user.role != 0\"\n                 :src=\"require('@/assets/img/live-chat-role'+item._lcattrs.user.role+'.png')\" alt=\"\">\n            <div>\n              <span class=\"item-name\" :data-item=\"index\">{{ item._lcattrs.user.name }}:            </span>\n              <span\n                class=\"item-content\">{{ item._lctext }}</span></div>\n          </template>\n          <!--系统消息&禁言-->\n          <template v-else-if=\"item._lctype === 1 || item._lctype === 5\">\n            <span class=\"main\"\n                  :class=\"{'ban':item._lctype === 5, 'hongbao': item._lctype === 1 && (item._lcattrs && item._lcattrs.sm.type === 0)}\">{{ item._lctext }}</span>\n          </template>\n          <!--礼物  老张涨涨送给主播甜甜圈 66-->\n          <template v-else-if=\"item._lctype === 2\">\n            <span class=\"gift\">{{ item._lcattrs.user.name }}送给主播{{ item._lcattrs.gift.name }}</span>\n            <img class=\"gift-icon\" :src=\"item._lcattrs.gift.picture\" alt=\"\">\n            <span class=\"gift\">{{ item._lcattrs.gift.number }}</span>\n          </template>\n          <!--<span v-if=\"item._lctype === 1\" class=\"item-name\" :data-item=\"item.content\">{{ item._lctext }}</span>-->\n        </div>\n      </section>\n      <!--新消息-->\n      <div class=\"new-message-btn\" v-show=\"newMessage > 0\" @click.stop=\"handleScrollToEnd\"> {{newMessage}}个新消息</div>\n      <!--禁言弹窗-->\n      <LiveroomBan ref=\"ban\" :userInfo=\"userInfo\"></LiveroomBan>\n      <!--红包-->\n<!--      <LiveroomHongbao :userLogin=\"userLogin\" v-for=\"(item,index) in hongbaoList\" :key=\"index\"-->\n<!--                       :hongbaoItem=\"item\" @login=\"$emit('login')\"  @receiveHongBaoSuccess=\"$emit('hongBaoSuccess')\"></LiveroomHongbao>-->\n      <!--礼物gif-->\n      <LiveroomGif :giftItem=\"giftItem\" :giftListToObject=\"giftListToObject\"></LiveroomGif>\n    </section>\n  </div>\n</template>\n\n<script>\n  import LiveroomBan from '@/components/liveroom/LiveroomBan'\n  // import LiveroomHongbao from '@/components/liveroom/LiveroomHongbao'\n  import LiveroomGif from '@/components/liveroom/LiveroomGif'\n\n  import { debounce } from \"@/utils/debounceAndthrottle\";\n\n  /*\n  * 层级\n  * 禁言菜单30>礼物特效25>红包20>礼物横幅15>榜单5>消息\n  *\n  * 礼物横幅 设计思路\n  * showingList 展示中的列表 最大长度3 加入时添加setTimeout，如果展示时间内用户名称和礼物名称相同，则改变礼物数量并重新计算展示时间，时间到了查找showingList里（用户名称和礼物名称）的对应项并删除\n  * taskList 任务列表 添加礼物信息push到最后，更新showingList时shift取出\n  * updateShowingList  （条件是 展示区<3条、缓存区>0）区分入参 兼容同一人统一礼物已展示情况\n  *\n  * 礼物横幅样式规则\n  * 0~0.99元\n  * 1~99元\n  * 100元~499元\n  * 500元以上\n  *\n  * 优化点\n  * 消失前 同一用户同一礼物 更新数量及重新计算展示时间 最多展示3个 遍历对比取值判断可以接受\n  */\n  export default {\n    name: 'LiveroomChat',\n    components: {\n      LiveroomBan,\n      // LiveroomHongbao,\n      LiveroomGif\n    },\n    props: {\n      giftItem: Object,\n      userLogin: {\n        type: Object,\n        default: () => {\n          return {}\n        }\n      },\n      userInfo: {\n        type: Object,\n        default: () => {\n          return {}\n        }\n      },\n      msgList: {\n        type: Array,\n        default: () => {\n          return []\n        }\n      },\n      hongbaoList: {\n        type: Array,\n        default: () => {\n          return []\n        }\n      },\n      giftListToObject: {\n        type: Object,\n        default: () => {\n          return {}\n        }\n      }\n    },\n    // computed: {\n    //   classObject: function (item) {\n    //     console.log(item);\n    //     return {\n    //       active: true,\n    //       'text-danger': true\n    //     }\n    //   }\n    // },\n    watch: {\n      // 弹幕中获取新的礼物\n      giftItem: {\n        handler: function (newValue) {\n          // console.log(oldValue, 'oldValue');\n          // console.log(newValue, 'newValue');\n          if (!newValue) return;\n          // 添加标识\n          newValue.showId = newValue.gift.anchorName + '_' + newValue.gift.id\n          newValue.active = false\n          newValue.vueKey = new Date().getTime()\n          let item = JSON.parse(JSON.stringify(newValue));\n          this.taskList.push(item)\n          this.$nextTick(() => {\n            this.updateShowingList(item)\n          })\n        },\n        immediate: false\n      },\n      // 弹幕信息\n      msgList: {\n        handler: function () {\n          // console.log(oldValue, 'oldValue');\n          // console.log(newValue, 'newValue');\n          if (this.$refs.chat) {\n            let scrollTarget = this.$refs.chat;\n            // 到底或者 滚动高度大于视图高度\n            let isScrollToEnd = (scrollTarget.scrollHeight - scrollTarget.scrollTop === scrollTarget.clientHeight) || (scrollTarget.scrollHeight <= scrollTarget.clientHeight + 15);// hack scrollHeight默认大于clientHeight问题\n\n            console.log(scrollTarget.scrollTop, 'scrollTarget.scrollTop');\n            console.log(scrollTarget.scrollHeight, 'scrollTarget.scrollHeight');\n            console.log(scrollTarget.clientHeight, 'scrollTarget.clientHeight');\n            console.log(isScrollToEnd, 'isScrollToEnd');\n\n            this.$nextTick(() => {\n              // 添加消息 有scrollTop 或者 内容>视口\n              let isAddMessage = scrollTarget.scrollTop > 0 || scrollTarget.scrollHeight >= scrollTarget.clientHeight + 15\n              console.log(isAddMessage);\n              if (isScrollToEnd) {\n                this.newMessage = 0;\n                scrollTarget.scrollTop = scrollTarget.scrollHeight\n              } else if (isAddMessage) {\n                // 未显示的消息增加\n                this.newMessage++\n              }\n            })\n          }\n        },\n        immediate: false\n      }\n    },\n    data() {\n      return {\n        // hongbaoList: [],\n        banDialog: false,\n        // scrollTarget: null,\n        newMessage: 0, // 未显示的消息\n\n        showingList: [\n          // {\n          //   showId: '冯曦妤_12915206930636800',\n          //   active: true,\n          //   vueKey: 1,\n          //   \"gift\": {\n          //     \"anchorId\": \"6919164\",\n          //     \"anchorName\": \"冯曦妤\",\n          //     \"id\": 12915206930636802,\n          //     \"name\": \"浪味仙\",\n          //     \"number\": 1,\n          //     \"picture\": \"https://pic.imifan.live/gifts/langXianXian/2019101819283913031452620677141.png\",\n          //     \"showGift\": true,\n          //     \"totalFee\": 10\n          //   },\n          //   \"pType\": 0,\n          //   \"pid\": \"6919164\",\n          //   \"sign\": \"286403A393C275046C3053CA7EBE4ADD\",\n          //   \"user\": {\n          //     \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\n          //     \"id\": \"3486074\",\n          //     \"name\": \"晨曦吻月晨曦吻月曦吻月晨曦吻月曦吻月晨曦吻月晨曦吻月\"\n          //   }\n          // }, {\n          //   showId: '冯曦妤_12915206930636801',\n          //   active: true,\n          //   vueKey: 2,\n          //   \"gift\": {\n          //     \"anchorId\": \"6919164\",\n          //     \"anchorName\": \"冯曦妤\",\n          //     \"id\": 12915206930636802,\n          //     \"name\": \"浪味仙\",\n          //     \"number\": 1,\n          //     \"picture\": \"https://pic.imifan.live/gifts/langXianXian/2019101819283913031452620677141.png\",\n          //     \"showGift\": true,\n          //     \"totalFee\": 10000\n          //   },\n          //   \"pType\": 0,\n          //   \"pid\": \"6919164\",\n          //   \"sign\": \"286403A393C275046C3053CA7EBE4ADD\",\n          //   \"user\": {\n          //     \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\n          //     \"id\": \"3486074\",\n          //     \"name\": \"晨曦吻月晨曦吻月曦吻月晨曦吻月曦吻月晨曦吻月晨曦吻月\"\n          //   }\n          // }, {\n          //   showId: '冯曦妤_12915206930636802',\n          //   active: true,\n          //   vueKey: 3,\n          //   \"gift\": {\n          //     \"anchorId\": \"6919164\",\n          //     \"anchorName\": \"冯曦妤\",\n          //     \"id\": 12915206930636802,\n          //     \"name\": \"浪味仙\",\n          //     \"number\": 1,\n          //     \"picture\": \"https://pic.imifan.live/gifts/langXianXian/2019101819283913031452620677141.png\",\n          //     \"showGift\": true,\n          //     \"totalFee\": 10000000\n          //   },\n          //   \"pType\": 0,\n          //   \"pid\": \"6919164\",\n          //   \"sign\": \"286403A393C275046C3053CA7EBE4ADD\",\n          //   \"user\": {\n          //     \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\n          //     \"id\": \"3486074\",\n          //     \"name\": \"晨曦吻月晨曦吻月曦吻月晨曦吻月曦吻月晨曦吻月晨曦吻月\"\n          //   }\n          // }, {\n          //   showId: '冯曦妤_12915206930636803',\n          //   active: true,\n          //   vueKey: 4,\n          //   \"gift\": {\n          //     \"anchorId\": \"6919164\",\n          //     \"anchorName\": \"冯曦妤\",\n          //     \"id\": 12915206930636802,\n          //     \"name\": \"浪味仙\",\n          //     \"number\": 1,\n          //     \"picture\": \"https://pic.imifan.live/gifts/langXianXian/2019101819283913031452620677141.png\",\n          //     \"showGift\": true,\n          //     \"totalFee\": 1000\n          //   },\n          //   \"pType\": 0,\n          //   \"pid\": \"6919164\",\n          //   \"sign\": \"286403A393C275046C3053CA7EBE4ADD\",\n          //   \"user\": {\n          //     \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\n          //     \"id\": \"3486074\",\n          //     \"name\": \"晨曦吻月晨曦吻月曦吻月晨曦吻月曦吻月晨曦吻月晨曦吻月\"\n          //   }\n          // },\n          // {\n          //   showId: '冯曦妤_12915206930636802',\n          //   active:true,\n          //   vueKey:2,\n          //   \"gift\": {\n          //     \"anchorId\": \"6919164\",\n          //     \"anchorName\": \"冯曦妤\",\n          //     \"id\": 12915206930636802,\n          //     \"name\": \"浪味仙\",\n          //     \"number\": 1,\n          //     \"picture\": \"https://pic.imifan.live/gifts/langXianXian/2019101819283913031452620677141.png\",\n          //     \"showGift\": true,\n          //     \"totalFee\": 10\n          //   },\n          //   \"pType\": 0,\n          //   \"pid\": \"6919164\",\n          //   \"sign\": \"286403A393C275046C3053CA7EBE4ADD\",\n          //   \"user\": {\n          //     \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\n          //     \"id\": \"3486074\",\n          //     \"name\": \"晨曦吻月\"\n          //   }\n          // }\n        ], // 展示中的礼物横条\n        taskList: [] // 待展示的礼物横条\n      }\n    },\n    created() {\n      // test 红包\n      // this.hongbaoList.push({\n      //\n      // })\n      // this.hongbaoList.push({\n      //\n      // })\n      // this.updateShowingList()\n      // console.log(this.giftItem, 'giftItem');\n    },\n    mounted() {\n      // this.scrollTarget = document.getElementById(\"chat\")\n    },\n    methods: {\n      /**\n       * 0~0.99元\n       * 1~99元\n       * 100元~499元\n       * 500元以上\n       * */\n      classObject(item) {\n        console.log(item.gift.totalFee);\n        return {\n          'gift-item-0': item.gift.totalFee >= 0 && item.gift.totalFee <= 99,\n          'gift-item-1': item.gift.totalFee >= 99 && item.gift.totalFee <= 9900,\n          'gift-item-2': item.gift.totalFee >= 10000 && item.gift.totalFee <= 49900,\n          'gift-item-3': item.gift.totalFee >= 50000,\n        }\n      },\n      // 点击用户姓名 判断条件权限 是否线上禁用弹窗\n      handleBan(e) {\n        console.log(e);\n        // if (e.target.className.toLowerCase() == \"item-name\" && e.target.dataset.item) {\n          this.$refs.ban.show(this.msgList[e.target.dataset.item])\n          console.log(this.msgList[e.target.dataset.item]);\n          console.log(e.target.dataset.item);\n        // }\n      },\n      // 节流处理 滚动到底 push信息也会触发\n      chatScroll: debounce(function (e) {\n        if (e && e.target.scrollHeight - e.target.scrollTop == e.target.clientHeight) {\n          this.newMessage = 0;\n          e.target.scrollTop = e.target.scrollHeight\n        }\n        console.log(e);\n      }, 500, false),\n      // chatScroll(e) {\n      //   if (e.target.scrollHeight - e.target.scrollTop == e.target.clientHeight) {\n      //     this.newMessage = 0;\n      //     e.target.scrollTop = e.target.scrollHeight\n      //   }\n      //   console.log(e);\n      // },\n      // 手动点击回到底部\n      handleScrollToEnd() {\n        let scrollTarget = this.$refs.chat;\n        scrollTarget.scrollTop = scrollTarget.scrollHeight;\n        this.newMessage = 0;\n      },\n      /**\n       * 横幅显示时间\n       * 大于100块，2分钟\n       * 大于50块数目小于10块，1.5分钟\n       * 大于10块小于50块并且礼物数小于10，显示1分钟\n       * 其他情况是，3秒+礼物的总价格*3毫秒\n       * 异常 3s\n       */\n      showingTime(totalFee) {\n        if (isNaN(totalFee)) totalFee = 0;\n        if (totalFee > 100 * 100) {\n          return 1000 * 60 * 2;\n        } else if (totalFee > 50 * 100) {\n          return 1000 * 60 * 1.5;\n        } else if (totalFee > 10 * 100) {\n          return 1000 * 60 * 1;\n        } else {\n          return 1000 * 3 + totalFee * 3;\n        }\n      },\n      /**\n       * 移除过期横幅及更新定时器\n       * @param type update/clear\n       * @param item 展示项\n       * @param callBack\n       * @returns {number}\n       */\n      updateSetTimeout(type, item, callBack) {\n        let timer = null;\n        timer = setTimeout(() => {\n          console.log(item.showId, 'showId');\n          console.log(this.showingTime(item.gift.totalFee), '显示时间');\n\n          // 离开动画\n          item.active = type == 'update' ? true : false;\n          // 通过showId更新位置\n          let showId = item.showId\n          let index = this.showingList.findIndex(item => (item.showId == showId))\n          if (index !== undefined) this.showingList.splice(index, 1)\n\n          if (callBack) callBack()\n        }, this.showingTime(item.gift.totalFee))\n\n        // 清除绑定的定时器\n        this.$once('hook:beforeDestroy', () => {\n          console.log(\"hook:beforeDestroy\");\n          clearTimeout(timer);\n        })\n        return timer;\n      },\n      // 更新横幅\n      updateShowingList(newMessage) {\n        console.log('updateShowingList----start');\n\n        let isUpdate = false; // 更新现有横幅/需要继续插入显示列表\n        // 优先判断是否是 同一用户用一种礼物\n        if (newMessage && this.showingList.length > 0 && this.showingList.length < 3) {\n          console.log(newMessage, 'newMessage');\n          // 显示两个同名字同礼物的横幅  更新显示的时间是第一个时间\n          this.showingList.forEach((item) => {\n            if (isUpdate) return;\n            if (item.showId == newMessage.showId) {\n              console.log('重复遍历');\n              // 有在显示的横幅 移除队列最新推入项\n              this.taskList.pop()\n              // 更新显示的横幅\n              item.gift.number = item.gift.number + newMessage.gift.number\n              // 更新定时器\n              clearTimeout(item.timer);\n              item.timer = this.updateSetTimeout('update', item);\n              isUpdate = true;\n            }\n          })\n        }\n\n        console.log(isUpdate, 'isUpdate');\n        if (!isUpdate && this.showingList.length < 3 && this.taskList.length > 0) {\n          const item = this.taskList.shift()\n          // 进场动画\n          item.active = true;\n          // 定时移除显示\n          item.timer = this.updateSetTimeout('clear', item, this.updateShowingList)\n\n          // item.timer = setTimeout(() => {\n          //   let showId = item.showId;\n          //\n          //     // 离开动画\n          //   item.active = true;\n          //   console.log(item.gift.anchorName,'item.gift.anchorName');\n          //\n          //   let index = this.showingList.findIndex((item,index) => {\n          //     console.log(this.showingList[index].gift.anchorName);\n          //     return (item.showId == showId)\n          //   })\n          //   if(index !== undefined) this.showingList.splice(index,1)\n          //   // 更新队列\n          //   this.updateShowingList()\n          //\n          // }, this.showingTime(item.gift.totalFee))\n\n          this.showingList.push(item);\n        }\n\n        console.log('updateShowingList----end');\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  @import \"@/assets/css/_index.scss\";\n\n  .live-chat {\n    position: relative;\n\n    .chat-wrap {\n      position: relative;\n      height: calc(100vh - 260px);\n      border-top: 1px solid $color-border;\n      border-bottom: 1px solid $color-border;\n    }\n\n    .gift-item {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 15;\n      width: 100%;\n      line-height: 1;\n\n      .gift-item-wrap {\n        position: relative;\n        display: flex;\n        height: 100%;\n\n        .gift-avatar {\n          position: absolute;\n          left: 0;\n          top: 0;\n          margin-top: -5px;\n          width: 60px;\n          height: 60px;\n          box-sizing: border-box;\n          border: 3px solid #FFEDBF;\n          border-radius: 50%;\n        }\n\n        .gift-content {\n          width: 144px;\n          padding-left: 17px;\n        }\n\n        .gift-title {\n          margin-top: 10px;\n          margin-bottom: 4px;\n          font-size: 13px;\n          font-weight: 500;\n          color: rgba(255, 244, 157, 1);\n          text-shadow: 1px 1px 1px rgba(45, 45, 45, 0.45);\n          @include ellipsis(1);\n        }\n\n        .gift-name {\n          font-size: 12px;\n          color: #fff;\n        }\n\n        .gift-icon {\n          margin-top: -12px;\n          margin-right: 12px;\n          width: 48px;\n          height: 48px;\n        }\n\n        .gift-count {\n          margin-top: 6px;\n          font-size: 24px;\n          color: #3B90FF;\n\n          span {\n            font-size: 38px;\n          }\n        }\n      }\n\n      .gift-item-0 {\n        margin-top: 32px;\n        height: 49px;\n        background: url('~@/assets/img/live-gift-bg0.png') 0 0 no-repeat;\n        background-size: 100% 100%;\n\n        .gift-count {\n          color: #3B90FF;\n        }\n\n        .gift-avatar {\n          display: none;\n        }\n      }\n\n      .gift-item-1 {\n        margin-top: 32px;\n        height: 49px;\n        background: url('~@/assets/img/live-gift-bg1.png') 0 0 no-repeat;\n        background-size: 100% 100%;\n\n        .gift-count {\n          color: #ED5B1E;\n        }\n\n        .gift-avatar {\n          display: none;\n        }\n      }\n\n      .gift-item-2 {\n        margin-top: 32px;\n        height: 53px;\n        padding-left: 30px;\n        background: url('~@/assets/img/live-gift-bg2.png') 0 0 no-repeat;\n        background-size: 100% 100%;\n        background-clip: content-box;\n\n        .gift-count {\n          color: #FF6D15;\n        }\n\n        .gift-content {\n          padding-left: 36px;\n          width: 90px;\n        }\n\n        .gift-title {\n          margin-top: 12px;\n          font-size: 14px;\n        }\n\n        .gift-icon {\n          margin-top: -15px;\n          margin-right: 8px;\n          width: 60px;\n          height: 60px;\n        }\n      }\n\n      .gift-item-3 {\n        margin-top: 32px;\n        height: 53px;\n        padding-left: 30px;\n        background: url('~@/assets/img/live-gift-bg3.png') 0 0 no-repeat;\n        background-size: 100% 100%;\n        background-clip: content-box;\n\n        .gift-count {\n          color: #4967F0;\n        }\n\n        .gift-content {\n          padding-left: 36px;\n          width: 90px;\n        }\n\n        .gift-title {\n          margin-top: 12px;\n          font-size: 14px;\n        }\n\n        .gift-icon {\n          margin-top: -15px;\n          margin-right: 8px;\n          width: 60px;\n          height: 60px;\n        }\n      }\n    }\n\n    .chat {\n      height: 100%;\n      padding: 0 15px;\n      /*height: calc(100vh - 490px);*/\n      font-size: 12px;\n      line-height: 18px;\n      color: $color-title2;\n\n      overflow-x: hidden;\n      overflow-y: scroll;\n\n      .main {\n        color: $color-main;\n      }\n\n      .ban {\n        color: $color-ban;\n      }\n\n      .hongbao {\n        color: $color-red-envelope;\n      }\n\n      .gift {\n        color: $color-gift;\n      }\n\n\n      .chat-item {\n        display: flex;\n        align-items: center;\n        padding: 7px 0;\n      }\n\n      .item-name {\n        flex: 1;\n        cursor: pointer;\n        @extend .main;\n      }\n\n      .item-content {\n        margin-left: 10px;\n        cursor: default;\n        color: $color-title2;\n      }\n\n      .gift-icon {\n        width: 32px;\n        height: 32px;\n      }\n\n      .role-icon {\n        margin-right: 4px;\n        width: 26px;\n        height: 14px;\n      }\n    }\n\n    .new-message-btn {\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      width: 100%;\n      height: 34px;\n      line-height: 34px;\n      text-align: center;\n      background: rgba(246, 249, 255, 1);\n      cursor: pointer;\n    }\n  }\n\n</style>\n"],"sourceRoot":"src/components/liveroom"}]}