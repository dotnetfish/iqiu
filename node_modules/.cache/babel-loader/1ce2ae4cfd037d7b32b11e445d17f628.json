{"remainingRequest":"D:\\pc端clone\\iqiu\\node_modules\\babel-loader\\lib\\index.js!D:\\pc端clone\\iqiu\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\pc端clone\\iqiu\\src\\api\\axios.js","dependencies":[{"path":"D:\\pc端clone\\iqiu\\src\\api\\axios.js","mtime":1596708861918},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IFdISVRFTElTVF9DT0RFLCBUSU1FX09VVF9DT0RFIH0gZnJvbSAiQC9jb25maWciOyAvLyBpbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC11aSc7CgppbXBvcnQgY29va2llIGZyb20gIkAvbW9kdWxlcy91dGlscy9jb29raWUuanMiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZS9pbmRleCI7CmltcG9ydCB7IGRlYnVnIH0gZnJvbSAibGVhbmNsb3VkLXJlYWx0aW1lIjsgLy8g6K6+572udXVpZAoKY29va2llLmdldEl0ZW0oIlgtVXNlci1BZ2VudCIpIHx8IGNvb2tpZS5zZXRJdGVtKCJYLVVzZXItQWdlbnQiLCAidmVyc2lvbj1BSVFJVV9wYztjaGFubmVsPW1haW47bWFjPSIuY29uY2F0KGd1aWQoKSksIHsKICAvLyBUT0RPIOWfn+WQjQogIC8vIGRvbWFpbjogcHJvY2Vzcy5lbnYuVlVFX0FQUF9ET01BSU4sIC8vIOWfn+WQjQogIGRvbWFpbjogc3RvcmUuc3RhdGUuZG9tYWluLAogIC8vIOWfn+WQjQogIGV4cGlyZXM6IDM2NQp9KTsKdmFyIGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICB0aW1lb3V0OiAyMDAwMCAvLyDor7fmsYLotoXml7YKCn0pOyAvLyBjb25zdCBDYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuOwovLyBjb25zdCBzb3VyY2UgPSBDYW5jZWxUb2tlbi5zb3VyY2UoKTsKCmluc3RhbmNlLmRlZmF1bHRzLndpdGhDcmVkZW50aWFscyA9IHRydWU7IC8vIOivt+axguaLpuaIquiuvue9rgoKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAvLyDorr7nva5oZWFkZXIKICBzZXRIZWFkZXIoY29uZmlnKTsgLy8g5Li05pe25aSE55CGLOWQjumdouWIoOaOiSBzdGFydAoKICBpZiAoY29uZmlnLnVybC5zdGFydHNXaXRoKCJodHRwOi8vMTkyLjE2OC4wLjEwOTo4MDgwIikpIHsKICAgIGNvbmZpZy5oZWFkZXJzWyJ4eC11c2VyLXRva2VuIl0gPSAiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6VXhNaUo5LmV5SjRlQzExYzJWeUxXbGtJam9pTVRBd01EUTJNRE1pTENKcGMzTWlPaUpoYVhGcGRTSXNJbVY0Y0NJNk1UVTVOekEwTURnMk5Dd2lhV0YwSWpveE5UazJORE0yTURZMGZRLmJ2UF9WQkgzaVVBbGNXVXFqWTdabFhLeEtnMk1JLWJENWVoRFVCR0N0a2Z2c2tfVzluUXN5bTFYQVBCRURYNC12Y3RJdE4tb29ONGVMRDRZcnZHR3N3IjsKICAgIGNvbmZpZy5oZWFkZXJzWyJ4eF9uX3QiXSA9ICJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpVeE1pSjkuZXlKNGVDMTFjMlZ5TFdsa0lqb2lNVEF3TURRMk1ETWlMQ0pwYzNNaU9pSmhhWEZwZFNJc0ltVjRjQ0k2TVRVNU56QTBNRGcyTkN3aWFXRjBJam94TlRrMk5ETTJNRFkwZlEuYnZQX1ZCSDNpVUFsY1dVcWpZN1psWEt4S2cyTUktYkQ1ZWhEVUJHQ3RrZnZza19XOW5Rc3ltMVhBUEJFRFg0LXZjdEl0Ti1vb040ZUxENFlydkdHc3ciOwogIH0KCiAgY29uc29sZS5sb2coIj09PT09PT09PT09PT09PT09PT09PT09Y29uZmlnLmhlYWRlcnMgPSAiLCBjb25maWcpOyAvLyDkuLTml7blpITnkIYs5ZCO6Z2i5Yig5o6JIGVuZAoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyBEbyBzb21ldGhpbmcgd2l0aCByZXF1ZXN0IGVycm9yCiAgY29uc29sZS5sb2coZXJyb3IpOyAvLyBmb3IgZGVidWcKCiAgUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy8gYXhpb3MgcmVzcG9uc2XlsIHoo4XnmoTmlbDmja7lnKhkYXRh6YeM6Z2iCgppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIGNvbnNvbGUubG9nKHJlc3BvbnNlLCAicmVzcG9uc2UiKTsgLy8g6L+b5bqm5p+l6K+i562J6ZW/5pe26Ze0bG9hZGluZ+WFvOWuuQoKICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSBUSU1FX09VVF9DT0RFKSB7CiAgICAvLyBUT0RPIOmHjeaWsOeZu+W9lSDmgI7kuYjlpITnkIYKICAgIHN0b3JlLmNvbW1pdCgibGF5b3V0Iik7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcG9uc2UpOwogIH0gZWxzZSBpZiAocmVzcG9uc2UuY29uZmlnLm5vQ2hlY2tDb2RlKSB7CiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICB9IC8vIOivt+axguaIkOWKnwoKCiAgaWYgKFdISVRFTElTVF9DT0RFLmluY2x1ZGVzKHJlc3BvbnNlLmRhdGEuY29kZSkpIHsKICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogIH0gZWxzZSB7CiAgICBlcnJvclRvYXN0KHJlc3BvbnNlKTsKICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogIH0KfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgdmFyIHJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2UgfHwge307CgogIGlmIChheGlvcy5pc0NhbmNlbChyZXNwb25zZSkpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGVycm9yVG9hc3QoZXJyb3IucmVzcG9uc2UgfHwgZXJyb3IpOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwovKioNCiAqIOiuvue9ruWFrOWFsWhlYWRlcnMNCiAqIEBwYXJhbSBpbmZvDQogKiBAcGFyYW0gY29uZmlnDQogKi8KCmZ1bmN0aW9uIHNldEhlYWRlcihjb25maWcpIHsKICBpZiAoY29uZmlnLmRpc2FibGVIZWFkZXIpIHJldHVybiBmYWxzZTsgLy8gc2V0SGVhZGVyCgogIGNvbmZpZy5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSA9IGNvbmZpZy5jb250ZW50VHlwZWpzb24gPyAiYXBwbGljYXRpb24vanNvbiIgOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIjsgLy8gY29uZmlnLmhlYWRlcnNbInh4LXVzZXItdG9rZW4iXSA9IGNvb2tpZS5nZXRJdGVtKCd4eC11c2VyLXRva2VuJykgfHwgY29va2llLmdldEl0ZW0oJ3h4X25fdCcpOwogIC8vIGNvbmZpZy5oZWFkZXJzWyJ4eF9uX3QiXSA9ICBjb29raWUuZ2V0SXRlbSgneHgtdXNlci10b2tlbicpIHx8IGNvb2tpZS5nZXRJdGVtKCd4eF9uX3QnKTsKICAvLyBjb25maWcuaGVhZGVyc1sieHgtdXNlci10b2tlbiJdID0gY29va2llLmdldEl0ZW0oJ3h4X25fdCcpIHx8ICIiOwogIC8vIGNvbmZpZy5oZWFkZXJzWyJYLVVzZXItQWdlbnQiXSA9IGB2ZXJzaW9uPU1JRkFOX3BjO2NoYW5uZWw9bWFpbjttYWM9JHsgc3RvcmFnZS5nZXRJdGVtKCd1dWlkJykgfWA7CiAgLy8gVE9ETyDojrflj5blubborr7nva50b2tlbgogIC8vIGxldCB0b2tlbiA9ICdleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpVeE1pSjkuZXlKNExYcDVMWFZ6WlhJdGFXUWlPaUl6TkRnMk1EYzBJaXdpYVhOeklqb2llbWhoYm1kNWRTSXNJbVY0Y0NJNk1UVTNPVEUxTkRjeU9Dd2lhV0YwSWpveE5UYzNPVFExTVRJNGZRLmZkV3I4YmdjRXhUM2E3UXI4ay1BTUVGMTQyRnFLMDlSdHFNV0FIYzRURUN2SkE3Vl9nRDJGOHY3VU1zSktoYkFzcGdXZE44NGJ5SmZoM0lBTGtnNzB3JzsKICAvLyBsZXQgdG9rZW4gPSBjb29raWUuZ2V0SXRlbSgneHgtdXNlci10b2tlbicpOwogIC8vIGxldCB4dWEgPSBjb29raWUuZ2V0SXRlbSgneC11c2VyLWFnZW50JykKICAvLyBsZXQgdG9rZW4gPSAnZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6VXhNaUo5LmV5SjRMWHA1TFhWelpYSXRhV1FpT2lJMk9EQTJNVEk1SWl3aWFYTnpJam9pZW1oaGJtZDVkU0lzSW1WNGNDSTZNVFUzT1RFM01qRTVOU3dpYVdGMElqb3hOVGMzT1RZeU5UazFmUS4td0ZmaEU5cDVSeFJZVEpJaUZMb1lTRzFPVEN2dS1MTVdvM1E0YlN1QnVobV9RZENGbkNJQ3hoc2tMRDJCeEdLUXpFVkRJRE80TXpaWEhWSF8wZWhGUSc7CiAgLy8gbGV0IHVzZXJObyA9ICc2ODA2MTI5JzsKICAvLyBpZiAodG9rZW4pIGNvbmZpZy5oZWFkZXJzWyJ4LXp5LXVzZXItdG9rZW4iXSA9IHRva2VuOwogIC8vIGlmICh4dWEpIGNvbmZpZy5oZWFkZXJzWyJ4LXVzZXItYWdlbnQiXSA9IHh1YTsKICAvLyBpZiAodXNlck5vKSBjb25maWcuaGVhZGVyc1sieC16eS11c2VyLWlkIl0gPSB1c2VyTm87CgogIHJldHVybiB0cnVlOwp9CgpmdW5jdGlvbiBndWlkKCkgewogIHJldHVybiAieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Ii5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7CiAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsCiAgICAgICAgdiA9IGMgPT0gIngiID8gciA6IHIgJiAweDMgfCAweDg7CiAgICByZXR1cm4gdi50b1N0cmluZygxNik7CiAgfSk7Cn0KLyoqDQogKiDnu5/kuIDlvILluLh0b2FzdA0KICogQHBhcmFtIHJlc3BvbnNlDQogKi8KCgpmdW5jdGlvbiBlcnJvclRvYXN0KCkgewogIHZhciByZXNwb25zZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgdmFyIGNvbmZpZyA9IHJlc3BvbnNlLmNvbmZpZyB8fCB7fTsKCiAgaWYgKCFjb25maWcuZGlzYWJsZUVycm9yVGlwcykgey8vIFRPRE8g5byC5bi4bXNn6LWL5YC8CiAgICAvLyBNZXNzYWdlLmVycm9yKHsKICAgIC8vICAgbWVzc2FnZTogIuacjeWKoeWZqOW8gOWwj+W3ruWVpu+8jOivt+eojeWQjuWGjeivlSIsCiAgICAvLyB9KQogICAgLy8g57uf5LiA5oql6ZSZ5aSE55CGCiAgICAvLyBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmVycm9ycyAmJiByZXNwb25zZS5kYXRhLmVycm9yc1swXSkgewogICAgLy8gICBzaW5nbGVUb2FzdChyZXNwb25zZS5kYXRhLmVycm9yc1swXS5tZXNzYWdlKTsKICAgIC8vIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLm1zZykgewogICAgLy8gICBzaW5nbGVUb2FzdChyZXNwb25zZS5kYXRhLm1zZyk7CiAgICAvLyB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB7CiAgICAvLyAgIHNpbmdsZVRvYXN0KHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7CiAgICAvLyB9IGVsc2UgewogICAgLy8gICBzaW5nbGVUb2FzdCgi5pyN5Yqh5Zmo5byA5bCP5beu5ZWm77yM6K+356iN5ZCO5YaN6K+VIik7CiAgICAvLyB9CiAgfQp9CgpleHBvcnQgZGVmYXVsdCBpbnN0YW5jZTs="},{"version":3,"sources":["D:/pc端clone/iqiu/src/api/axios.js"],"names":["axios","WHITELIST_CODE","TIME_OUT_CODE","cookie","store","debug","getItem","setItem","guid","domain","state","expires","instance","create","timeout","defaults","withCredentials","interceptors","request","use","config","setHeader","url","startsWith","headers","console","log","error","Promise","reject","response","data","code","commit","noCheckCode","includes","errorToast","isCancel","disableHeader","contentTypejson","replace","c","r","Math","random","v","toString","disableErrorTips"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { WHITELIST_CODE, TIME_OUT_CODE } from \"@/config\";\r\n// import { Message } from 'element-ui';\r\nimport cookie from \"@/modules/utils/cookie.js\";\r\nimport store from \"@/store/index\";\r\nimport { debug } from \"leancloud-realtime\";\r\n\r\n// 设置uuid\r\ncookie.getItem(\"X-User-Agent\") ||\r\ncookie.setItem(\r\n  \"X-User-Agent\",\r\n  `version=AIQIU_pc;channel=main;mac=${ guid() }`,\r\n  {\r\n    // TODO 域名\r\n    // domain: process.env.VUE_APP_DOMAIN, // 域名\r\n    domain: store.state.domain, // 域名\r\n    expires: 365\r\n  }\r\n);\r\n\r\nconst instance = axios.create({\r\n  timeout: 20000 // 请求超时\r\n});\r\n// const CancelToken = axios.CancelToken;\r\n// const source = CancelToken.source();\r\ninstance.defaults.withCredentials = true;\r\n// 请求拦截设置\r\ninstance.interceptors.request.use(\r\n  config => {\r\n    // 设置header\r\n    setHeader(config);\r\n    // 临时处理,后面删掉 start\r\n    if(config.url.startsWith(\"http://192.168.0.109:8080\")){\r\n      config.headers[\"xx-user-token\"] = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4eC11c2VyLWlkIjoiMTAwMDQ2MDMiLCJpc3MiOiJhaXFpdSIsImV4cCI6MTU5NzA0MDg2NCwiaWF0IjoxNTk2NDM2MDY0fQ.bvP_VBH3iUAlcWUqjY7ZlXKxKg2MI-bD5ehDUBGCtkfvsk_W9nQsym1XAPBEDX4-vctItN-ooN4eLD4YrvGGsw\";\r\n      config.headers[\"xx_n_t\"] =  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4eC11c2VyLWlkIjoiMTAwMDQ2MDMiLCJpc3MiOiJhaXFpdSIsImV4cCI6MTU5NzA0MDg2NCwiaWF0IjoxNTk2NDM2MDY0fQ.bvP_VBH3iUAlcWUqjY7ZlXKxKg2MI-bD5ehDUBGCtkfvsk_W9nQsym1XAPBEDX4-vctItN-ooN4eLD4YrvGGsw\";\r\n    }\r\n    console.log(\"=======================config.headers = \",config);\r\n    // 临时处理,后面删掉 end\r\n    return config;\r\n  },\r\n  error => {\r\n    // Do something with request error\r\n    console.log(error); // for debug\r\n    Promise.reject(error);\r\n  }\r\n);\r\n\r\n// axios response封装的数据在data里面\r\ninstance.interceptors.response.use(\r\n  response => {\r\n    console.log(response, \"response\");\r\n    // 进度查询等长时间loading兼容\r\n    if (response.data.code === TIME_OUT_CODE) {\r\n      // TODO 重新登录 怎么处理\r\n      store.commit(\"layout\");\r\n      return Promise.reject(response);\r\n    } else if (response.config.noCheckCode) {\r\n      return response.data;\r\n    }\r\n\r\n    // 请求成功\r\n    if (WHITELIST_CODE.includes(response.data.code)) {\r\n      return response.data;\r\n    } else {\r\n      errorToast(response);\r\n      return response.data;\r\n    }\r\n    \r\n  },\r\n  error => {\r\n    const response = error.response || {};\r\n    if (axios.isCancel(response)) {\r\n      return false;\r\n    }\r\n    errorToast(error.response || error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n/**\r\n * 设置公共headers\r\n * @param info\r\n * @param config\r\n */\r\nfunction setHeader(config) {\r\n  if (config.disableHeader) return false;\r\n  // setHeader\r\n  config.headers[\"Content-Type\"] = config.contentTypejson\r\n    ? \"application/json\"\r\n    : \"application/x-www-form-urlencoded\";\r\n    // config.headers[\"xx-user-token\"] = cookie.getItem('xx-user-token') || cookie.getItem('xx_n_t');\r\n    // config.headers[\"xx_n_t\"] =  cookie.getItem('xx-user-token') || cookie.getItem('xx_n_t');\r\n  // config.headers[\"xx-user-token\"] = cookie.getItem('xx_n_t') || \"\";\r\n  // config.headers[\"X-User-Agent\"] = `version=MIFAN_pc;channel=main;mac=${ storage.getItem('uuid') }`;\r\n\r\n  // TODO 获取并设置token\r\n  // let token = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4LXp5LXVzZXItaWQiOiIzNDg2MDc0IiwiaXNzIjoiemhhbmd5dSIsImV4cCI6MTU3OTE1NDcyOCwiaWF0IjoxNTc3OTQ1MTI4fQ.fdWr8bgcExT3a7Qr8k-AMEF142FqK09RtqMWAHc4TECvJA7V_gD2F8v7UMsJKhbAspgWdN84byJfh3IALkg70w';\r\n  // let token = cookie.getItem('xx-user-token');\r\n  // let xua = cookie.getItem('x-user-agent')\r\n  // let token = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4LXp5LXVzZXItaWQiOiI2ODA2MTI5IiwiaXNzIjoiemhhbmd5dSIsImV4cCI6MTU3OTE3MjE5NSwiaWF0IjoxNTc3OTYyNTk1fQ.-wFfhE9p5RxRYTJIiFLoYSG1OTCvu-LMWo3Q4bSuBuhm_QdCFnCICxhskLD2BxGKQzEVDIDO4MzZXHVH_0ehFQ';\r\n  // let userNo = '6806129';\r\n  // if (token) config.headers[\"x-zy-user-token\"] = token;\r\n  // if (xua) config.headers[\"x-user-agent\"] = xua;\r\n  // if (userNo) config.headers[\"x-zy-user-id\"] = userNo;\r\n  return true;\r\n}\r\n\r\nfunction guid() {\r\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\r\n    var r = (Math.random() * 16) | 0,\r\n      v = c == \"x\" ? r : (r & 0x3) | 0x8;\r\n    return v.toString(16);\r\n  });\r\n}\r\n\r\n/**\r\n * 统一异常toast\r\n * @param response\r\n */\r\nfunction errorToast(response = {}) {\r\n  const config = response.config || {};\r\n  if (!config.disableErrorTips) {\r\n    // TODO 异常msg赋值\r\n    // Message.error({\r\n    //   message: \"服务器开小差啦，请稍后再试\",\r\n    // })\r\n    // 统一报错处理\r\n    // if (response.data && response.data.errors && response.data.errors[0]) {\r\n    //   singleToast(response.data.errors[0].message);\r\n    // } else if (response.data && response.data.msg) {\r\n    //   singleToast(response.data.msg);\r\n    // } else if (response.data && response.data.message) {\r\n    //   singleToast(response.data.message);\r\n    // } else {\r\n    //   singleToast(\"服务器开小差啦，请稍后再试\");\r\n    // }\r\n  }\r\n}\r\n\r\nexport default instance;\r\n"]}]}