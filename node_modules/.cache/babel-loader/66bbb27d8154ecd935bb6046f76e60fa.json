{"remainingRequest":"D:\\pc端clone\\iqiu\\node_modules\\babel-loader\\lib\\index.js!D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc端clone\\iqiu\\src\\views\\Liveroom.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\pc端clone\\iqiu\\src\\views\\Liveroom.vue","mtime":1597738497826},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBMaXZlcm9vbUhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvbGl2ZXJvb20vTGl2ZXJvb21IZWFkZXIiOwppbXBvcnQgTGl2ZXJvb21HaWZ0IGZyb20gIkAvY29tcG9uZW50cy9saXZlcm9vbS9MaXZlcm9vbUdpZnQiOwppbXBvcnQgbGl2ZXJvb21Ob3RpY2UgZnJvbSAiQC9jb21wb25lbnRzL2xpdmVyb29tL0xpdmVyb29tTm90aWNlIjsKaW1wb3J0IGxpdmVyb29tUmFuayBmcm9tICJAL2NvbXBvbmVudHMvbGl2ZXJvb20vTGl2ZXJvb21SYW5rIjsKaW1wb3J0IGxpdmVyb29tSW5wdXQgZnJvbSAiQC9jb21wb25lbnRzL2xpdmVyb29tL0xpdmVyb29tSW5wdXQiOwppbXBvcnQgbGl2ZXJvb21DaGF0IGZyb20gIkAvY29tcG9uZW50cy9saXZlcm9vbS9MaXZlcm9vbUNoYXQiOyAvLyBpbXBvcnQgTGl2ZXJvb21QYW9kYW8gZnJvbSAiQC9jb21wb25lbnRzL2xpdmVyb29tL0xpdmVyb29tUGFvZGFvIjsKCmltcG9ydCBMaXZlcm9vbUxvZ2luRGlhbG9nIGZyb20gIkAvY29tcG9uZW50cy9saXZlcm9vbS9MaXZlcm9vbUxvZ2luRGlhbG9nIjsKaW1wb3J0IExpdmVyb29tUmVjb21tZW5kIGZyb20gIkAvY29tcG9uZW50cy9saXZlcm9vbS9MaXZlcm9vbVJlY29tbWVuZCI7CmltcG9ydCBsaXZlcm9vbVNtYWxsdmlkZW8gZnJvbSAiQC9jb21wb25lbnRzL2xpdmVyb29tL2xpdmVyb29tU21hbGx2aWRlby52dWUiOwppbXBvcnQgTGVmdFNpZGVCYXIgZnJvbSAiQC9jb21wb25lbnRzL2xlZnQtc2lkZS1iYXIudnVlIjsKaW1wb3J0IGhvbWVOYXYgZnJvbSAiQC92aWV3cy9ob21lL2hvbWVOYXYudnVlIjsKaW1wb3J0IGxvZ2luUG9wIGZyb20gIkAvY29tcG9uZW50cy9sb2dpbi9sb2dpblRpcFBvcHVwLnZ1ZSI7CmltcG9ydCB2aWRlb1BsYXllciBmcm9tICJAL2NvbXBvbmVudHMvdmlkZW8vdmlkZW9QbGF5ZXIudnVlIjsKaW1wb3J0IHsgbWQ1U2VjcmV0IH0gZnJvbSAiQC91dGlscy9tZDUuanMiOwppbXBvcnQgKiBhcyBDaGF0IGZyb20gIkAvdXRpbHMvY2hhdC5qcyI7CmltcG9ydCB7IGV2ZW50IH0gZnJvbSAiQC91dGlscy9sZWFuY2xvdWQuanMiOwppbXBvcnQgeyBxdWVyeVJvb21SYW5raW5nLCBjaGFubmVsSW5mbywgZW50ZXJSb29tIGFzIF9lbnRlclJvb20sIGdldEdpZnRMaXN0IGFzIF9nZXRHaWZ0TGlzdCwgbG9naW5JbmZvIH0gZnJvbSAiQC9hcGkvbGl2ZXJvb20iOwppbXBvcnQgeyByZWNvbW1lbmRMaXZlTGlzdCB9IGZyb20gIkAvYXBpL2FwaSI7CmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAiQC91dGlscy9kZWJvdW5jZUFuZHRocm90dGxlIjsgLy8gaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJzsKCmltcG9ydCBEYW5tYWt1IGZyb20gImRhbm1ha3UiOwppbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICJ1dWlkIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMaXZlUm9vbSIsCiAgY29tcG9uZW50czogewogICAgTGl2ZXJvb21IZWFkZXI6IExpdmVyb29tSGVhZGVyLAogICAgTGl2ZXJvb21HaWZ0OiBMaXZlcm9vbUdpZnQsCiAgICBsaXZlcm9vbUNoYXQ6IGxpdmVyb29tQ2hhdCwKICAgIC8vIExpdmVyb29tUGFvZGFvLAogICAgbGl2ZXJvb21Ob3RpY2U6IGxpdmVyb29tTm90aWNlLAogICAgbGl2ZXJvb21SYW5rOiBsaXZlcm9vbVJhbmssCiAgICBMaXZlcm9vbUxvZ2luRGlhbG9nOiBMaXZlcm9vbUxvZ2luRGlhbG9nLAogICAgbGl2ZXJvb21JbnB1dDogbGl2ZXJvb21JbnB1dCwKICAgIExpdmVyb29tUmVjb21tZW5kOiBMaXZlcm9vbVJlY29tbWVuZCwKICAgIGxpdmVyb29tU21hbGx2aWRlbzogbGl2ZXJvb21TbWFsbHZpZGVvLAogICAgTGVmdFNpZGVCYXI6IExlZnRTaWRlQmFyLAogICAgaG9tZU5hdjogaG9tZU5hdiwKICAgIGxvZ2luUG9wOiBsb2dpblBvcCwKICAgIHZpZGVvUGxheWVyOiB2aWRlb1BsYXllcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZsYWc6IDMsCiAgICAgIGlzRm9sZDogdHJ1ZSwKICAgICAgdXNlckxvZ2luOiB7Ly8gImlkIjogIjY4MDYxMjkiLAogICAgICAgIC8vICJ0b2tlbiI6ICJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpVeE1pSjkuZXlKNExYcDVMWFZ6WlhJdGFXUWlPaUkyT0RBMk1USTVJaXdpYVhOeklqb2llbWhoYm1kNWRTSXNJbVY0Y0NJNk1UVTNPVFV4T1RZME1pd2lhV0YwSWpveE5UYzRNekV3TURReWZRLlZVMk5iS2Z0dlNKVFJlMXRUY1h0Um9XVzRVbkdnMzZnR0diSHEzS2dTQmZoRExOanB0a0xzWVBOeWhzVV9scGFaSjk3SHE0TG5BOFE4VGhnUG1BdG5RIiwKICAgICAgICAvLyAibW9iaWxlIjogIjE4NCoqKio2MjcyIiwKICAgICAgICAvLyAidW5hbWUiOiAi6Laz55CD57K+6IuxIiwKICAgICAgICAvLyAic3RhdHVzIjogMCwKICAgICAgICAvLyAiYXZhdGFyVXJsIjogImh0dHBzOi8vcGljLmltaWZhbi5saXZlL2F2YXRhci8yMDE5MTIxMDEzMDgxODEzNjA4MDkxNTc0NTgzMzg0LmpwZyIsCiAgICAgICAgLy8gImFjY291bnREdG8iOiB7CiAgICAgICAgLy8gICAiX2lkIjogIjEzMTgzMDU3ODUwMTYzMjE1IiwKICAgICAgICAvLyAgICJ1aWQiOiAiNjgwNjEyOSIsCiAgICAgICAgLy8gICAiY2FzaEFjY291bnQiOiB7CiAgICAgICAgLy8gICAgICJ0b3RhbEJhbGFuY2UiOiA5MDExLAogICAgICAgIC8vICAgICAiYmFsYW5jZSI6IDkwMTEsCiAgICAgICAgLy8gICAgICJmcnpCYWxhbmNlIjogMCwKICAgICAgICAvLyAgICAgInRvdGFsUmVjaGFyZ2UiOiAxMjAwMCwKICAgICAgICAvLyAgICAgInRvdGFsV2l0aGRyYXdhbCI6IDEwMDAwCiAgICAgICAgLy8gICB9LAogICAgICAgIC8vICAgInNhbGFyeUFjY291bnQiOiB7CiAgICAgICAgLy8gICAgICJ0b3RhbEJhbGFuY2UiOiA2MDAwLAogICAgICAgIC8vICAgICAiYmFsYW5jZSI6IDUwMDAsCiAgICAgICAgLy8gICAgICJmcnpCYWxhbmNlIjogMTAwMCwKICAgICAgICAvLyAgICAgInRvdGFsUmVjaGFyZ2UiOiAwLAogICAgICAgIC8vICAgICAidG90YWxXaXRoZHJhd2FsIjogMAogICAgICAgIC8vICAgfSwKICAgICAgICAvLyAgICJjYXNoQXNzZXRzIjogODAxMSwKICAgICAgICAvLyAgICJtaUNvaW4iOiB7CiAgICAgICAgLy8gICAgICJiYWxhbmNlIjogMzc5ODk4ODAwLAogICAgICAgIC8vICAgICAidG90YWxFeHBlbmQiOiAxMDk5OTk4LAogICAgICAgIC8vICAgICAidG90YWxSZWNoYXJnZSI6IDEwOTk5OTgKICAgICAgICAvLyAgIH0sCiAgICAgICAgLy8gICAiY2FzaFRvdGFsUmVjaGFyZ2UiOiAxMTExOTk4LAogICAgICAgIC8vICAgImNhc2hUb3RhbFdpdGhkcmF3YWwiOiAxMDAwMAogICAgICAgIC8vIH0sCiAgICAgICAgLy8gImlzQW5jaG9yIjogdHJ1ZSwKICAgICAgICAvLyAiZmF2b3JpdGUiOiAxLAogICAgICAgIC8vICJ3eEJpbmRTdGF0dXMiOiAiQklORCIsCiAgICAgICAgLy8gInd4TmFtZSI6ICJtaW1vIiwKICAgICAgICAvLyAiY2FuRWRpdFVuYW1lIjogdHJ1ZSwKICAgICAgICAvLyAibG9nT3V0U3RhdHVzIjogIklOQVVESVQiCiAgICAgIH0sCiAgICAgIGxpdmVyb29tOiAiIiwKICAgICAgY2hhbm5lbEluZm86IHt9LAogICAgICAvLyDkuLvmkq3kv6Hmga8KICAgICAgdXNlckluZm86IHsKICAgICAgICBjaGFubmVsUm9sZVR5cGU6IDAsCiAgICAgICAgZm9sbG93OiBmYWxzZSwKICAgICAgICBmb3JiaWQ6IGZhbHNlLAogICAgICAgIGZvcmJpZEVuZFRpbWU6IG51bGwKICAgICAgfSwKICAgICAgLy8g55So5oi35Zyo5b2T5YmN55u05pKt6Ze05L+h5oGvCiAgICAgIGdpZnRMaXN0OiBbXSwKICAgICAgLy8g56S854mp5YiX6KGoCiAgICAgIGdpZnRMaXN0VG9PYmplY3Q6IHt9LAogICAgICAvLyDnpLznianliJfooagKICAgICAgaG9uZ2Jhb0xpc3Q6IFtdLAogICAgICAvLyDnuqLljIXliJfooagKICAgICAgcmVjb21tZW5kTGlzdDogW10sCiAgICAgIC8vIOaOqOiNkOWIl+ihqAogICAgICByZWNvbW1lbmRWaWRlbzI6IFtdLAogICAgICAvLyDmnKrlvIDmkq3mjqjojZDliJfooagKICAgICAgcmFua09iamVjdDoge30sCiAgICAgIG1lc3NhZ2VJdGVtOiB7fSwKICAgICAgZ2lmdEl0ZW06IHsvLyAiZ2lmdCI6IHsKICAgICAgICAvLyAgICJhbmNob3JJZCI6ICI2OTE5MTY0IiwKICAgICAgICAvLyAgICJhbmNob3JOYW1lIjogIuWGr+abpuWmpCIsCiAgICAgICAgLy8gICAiaWQiOiAxMjkxNTIwNjkzMDYzNjgwMiwKICAgICAgICAvLyAgICJuYW1lIjogIua1quWRs+S7mSIsCiAgICAgICAgLy8gICAibnVtYmVyIjogMSwKICAgICAgICAvLyAgICJwaWN0dXJlIjogImh0dHBzOi8vcGljLmltaWZhbi5saXZlL2dpZnRzL2xhbmdYaWFuWGlhbi8yMDE5MTAxODE5MjgzOTEzMDMxNDUyNjIwNjc3MTQxLnBuZyIsCiAgICAgICAgLy8gICAic2hvd0dpZnQiOiB0cnVlLAogICAgICAgIC8vICAgInRvdGFsRmVlIjogMTAKICAgICAgICAvLyB9LAogICAgICAgIC8vICJwVHlwZSI6IDAsCiAgICAgICAgLy8gInBpZCI6ICI2OTE5MTY0IiwKICAgICAgICAvLyAic2lnbiI6ICIyODY0MDNBMzkzQzI3NTA0NkMzMDUzQ0E3RUJFNEFERCIsCiAgICAgICAgLy8gInVzZXIiOiB7CiAgICAgICAgLy8gICAiYXZhdGFyIjogImh0dHBzOi8vcGljLmltaWZhbi5saXZlL2F2YXRhci8yMDE5MTAzMTE5NDU1MTEzMTgzMDU3ODUwMTYzMjA5LnBuZyIsCiAgICAgICAgLy8gICAiaWQiOiAiMzQ4NjA3NCIsCiAgICAgICAgLy8gICAibmFtZSI6ICLmmajmm6blkLvmnIgiCiAgICAgICAgLy8gfQogICAgICB9LAogICAgICBtc2dMaXN0OiBbLy8g5Zub56eN6KeS6Imy5Y+R6YCB5by55bmVCiAgICAgICAgLy8geyJfbGNhdHRycyI6eyJwVHlwZSI6MCwic2lnbiI6IjM3RDkxMDlFMzA1NzA1Mzc1QTI5NjBCRUIzMDAwMjIyIiwibGN1aWQiOiJDSEFUX1VTRVJfMzUwNjMyOSIsInBpZCI6IjEwMDAwMDA0IiwidXNlciI6eyJyb2xlIjowLCJuYW1lIjoi5pil5pqW6Iqx5byANTY3IiwiaWQiOiIxMDAwMDAwNCJ9fSwiX2xjdHlwZSI6LTEsIl9sY3RleHQiOiLkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMSJ9LAogICAgICAgIC8vIHsiX2xjYXR0cnMiOnsicFR5cGUiOjAsInNpZ24iOiIzN0Q5MTA5RTMwNTcwNTM3NUEyOTYwQkVCMzAwMDIyMiIsImxjdWlkIjoiQ0hBVF9VU0VSXzM1MDYzMjkiLCJwaWQiOiIxMDAwMDE1NyIsInVzZXIiOnsicm9sZSI6MSwibmFtZSI6IuaYpeaaluiKseW8gDU2NyIsImlkIjoiMzUwNjMyOSJ9fSwiX2xjdHlwZSI6LTEsIl9sY3RleHQiOiLkuLvmkq3ml6kxIn0sCiAgICAgICAgLy8geyJfbGNhdHRycyI6eyJwVHlwZSI6MCwic2lnbiI6IjM3RDkxMDlFMzA1NzA1Mzc1QTI5NjBCRUIzMDAwMjIyIiwibGN1aWQiOiJDSEFUX1VTRVJfMzUwNjMyOSIsInBpZCI6IjEwMDAwMTU3IiwidXNlciI6eyJyb2xlIjoyLCJuYW1lIjoi5pil5pqW6Iqx5byANTY3IiwiaWQiOiIzNTA2MzI5In19LCJfbGN0eXBlIjotMSwiX2xjdGV4dCI6IuS4u+aSreaXqTIifSwKICAgICAgICAvLyB7Il9sY2F0dHJzIjp7InBUeXBlIjowLCJzaWduIjoiMzdEOTEwOUUzMDU3MDUzNzVBMjk2MEJFQjMwMDAyMjIiLCJsY3VpZCI6IkNIQVRfVVNFUl8zNTA2MzI5IiwicGlkIjoiMTAwMDAxNTciLCJ1c2VyIjp7InJvbGUiOjksIm5hbWUiOiLmmKXmmpboirHlvIA1NjciLCJpZCI6IjM1MDYzMjkifX0sIl9sY3R5cGUiOi0xLCJfbGN0ZXh0Ijoi5Li75pKt5pepMyJ9LAogICAgICAgIC8vIHsiX2xjYXR0cnMiOnsiZ2lmdCI6eyJhbmNob3JJZCI6IjYzMzYzMzUiLCJhbmNob3JOYW1lIjoi6ICB54mb6Kej6K+0IiwiaWQiOjEyOTE1MjA2OTMwNjM2ODAxLCJuYW1lIjoi6aWt5ZuiIiwibnVtYmVyIjoxLCJwaWN0dXJlIjoiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvZ2lmdHMvcmljZUJhbGwvMjAxOTEwMTgxOTEzMjkxMzAzMTQ1MjYyMDY3NzEyOC5wbmciLCJzaG93R2lmdCI6dHJ1ZSwidG90YWxGZWUiOjEwfSwicFR5cGUiOjAsInBpZCI6IjYzMzYzMzUiLCJzaWduIjoiRjVBRTdCRjg3OTY5NkYyRUNFODNBQUREMjM1OUUyMjkiLCJ1c2VyIjp7ImF2YXRhciI6Imh0dHBzOi8vcGljLmltaWZhbi5saXZlL2F2YXRhci8yMDE5MTExMjEwMzIwMDEzMjUwNDI3NzY1NzI3MjczLmpwZyIsImlkIjoiNjc0MTM5OCIsIm5hbWUiOiLlh4nnmb3lvIAifX0sIl9sY3RleHQiOiIxMjkxNTIwNjkzMDYzNjgwMSIsIl9sY3R5cGUiOjJ9LCB7Il9sY2F0dHJzIjp7InBUeXBlIjowLCJzaWduIjoiMzdEOTEwOUUzMDU3MDUzNzVBMjk2MEJFQjMwMDAyMjIiLCJsY3VpZCI6IkNIQVRfVVNFUl8zNTA2MzI5IiwicGlkIjoiMTAwMDAxNTciLCJ1c2VyIjp7InJvbGUiOjAsIm5hbWUiOiLmmKXmmpboirHlvIA1NjciLCJpZCI6IjM1MDYzMjkifX0sIl9sY3R5cGUiOi0xLCJfbGN0ZXh0Ijoi5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTEifSwKICAgICAgICAvLyB7Il9sY2F0dHJzIjp7InBUeXBlIjowLCJzaWduIjoiMzdEOTEwOUUzMDU3MDUzNzVBMjk2MEJFQjMwMDAyMjIiLCJsY3VpZCI6IkNIQVRfVVNFUl8zNTA2MzI5IiwicGlkIjoiMTAwMDAxNTciLCJ1c2VyIjp7InJvbGUiOjEsIm5hbWUiOiLmmKXmmpboirHlvIA1NjciLCJpZCI6IjM1MDYzMjkifX0sIl9sY3R5cGUiOi0xLCJfbGN0ZXh0Ijoi5Li75pKt5pepMSJ9LAogICAgICAgIC8vIHsiX2xjYXR0cnMiOnsicFR5cGUiOjAsInNpZ24iOiIzN0Q5MTA5RTMwNTcwNTM3NUEyOTYwQkVCMzAwMDIyMiIsImxjdWlkIjoiQ0hBVF9VU0VSXzM1MDYzMjkiLCJwaWQiOiIxMDAwMDE1NyIsInVzZXIiOnsicm9sZSI6MiwibmFtZSI6IuaYpeaaluiKseW8gDU2NyIsImlkIjoiMzUwNjMyOSJ9fSwiX2xjdHlwZSI6LTEsIl9sY3RleHQiOiLkuLvmkq3ml6kyIn0sCiAgICAgICAgLy8geyJfbGNhdHRycyI6eyJwVHlwZSI6MCwic2lnbiI6IjM3RDkxMDlFMzA1NzA1Mzc1QTI5NjBCRUIzMDAwMjIyIiwibGN1aWQiOiJDSEFUX1VTRVJfMzUwNjMyOSIsInBpZCI6IjEwMDAwMTU3IiwidXNlciI6eyJyb2xlIjo5LCJuYW1lIjoi5pil5pqW6Iqx5byANTY3IiwiaWQiOiIzNTA2MzI5In19LCJfbGN0eXBlIjotMSwiX2xjdGV4dCI6IuS4u+aSreaXqTMifSwKICAgICAgICAvLyB7Il9sY2F0dHJzIjp7ImdpZnQiOnsiYW5jaG9ySWQiOiI2MzM2MzM1IiwiYW5jaG9yTmFtZSI6IuiAgeeJm+ino+ivtCIsImlkIjoxMjkxNTIwNjkzMDYzNjgwMSwibmFtZSI6IumlreWboiIsIm51bWJlciI6MSwicGljdHVyZSI6Imh0dHBzOi8vcGljLmltaWZhbi5saXZlL2dpZnRzL3JpY2VCYWxsLzIwMTkxMDE4MTkxMzI5MTMwMzE0NTI2MjA2NzcxMjgucG5nIiwic2hvd0dpZnQiOnRydWUsInRvdGFsRmVlIjoxMH0sInBUeXBlIjowLCJwaWQiOiI2MzM2MzM1Iiwic2lnbiI6IkY1QUU3QkY4Nzk2OTZGMkVDRTgzQUFERDIzNTlFMjI5IiwidXNlciI6eyJhdmF0YXIiOiJodHRwczovL3BpYy5pbWlmYW4ubGl2ZS9hdmF0YXIvMjAxOTExMTIxMDMyMDAxMzI1MDQyNzc2NTcyNzI3My5qcGciLCJpZCI6IjY3NDEzOTgiLCJuYW1lIjoi5YeJ55m95byAIn19LCJfbGN0ZXh0IjoiMTI5MTUyMDY5MzA2MzY4MDEiLCJfbGN0eXBlIjoyfSwKICAgICAgICAvLyB7CiAgICAgICAgLy8gICAiX2xjdHlwZSI6IDEsCiAgICAgICAgLy8gICAiX2xjdGV4dCI6ICLlsI/po57mnLrlhbPms6jkuobov5nkuKrkuLvmkq0iLAogICAgICAgIC8vICAgIl9sY2F0dHJzIjogewogICAgICAgIC8vICAgICAidXNlciI6IHsgImlkIjogIjIwMDMyMDE5IiwgIm5hbWUiOiAi5pmo5pum5ZC75pyIIiwgInJvbGUiOiA5LCAiYXZhdGFyIjogInh4eHh4eCIgfSwKICAgICAgICAvLyAgICAgInNtIjogeyAidHlwZSI6IDAgfSwKICAgICAgICAvLyAgICAgImdpZnQiOiB7ICJpZCI6IDgzNzQzNzg0MTM4LCAibnVtYmVyIjogMTIsICJ0b3RhbEZlZSI6IDEyMDAsICJhbmNob3JJZCI6ICI3MjYyNjUiIH0sCiAgICAgICAgLy8gICAgICJydyI6IHsgInR5cGUiOiAwLCAibGV2ZWwiOiAwLCAiaXNKdW1wIjogMCB9LAogICAgICAgIC8vICAgICAicFR5cGUiOiAwLAogICAgICAgIC8vICAgICAicGlkIjogIjEyNjcxMjY3NiIKICAgICAgICAvLyAgIH0KICAgICAgICAvLyB9LAogICAgICAgIC8vIHsKICAgICAgICAvLyAgICJfbGN0eXBlIjogMSwKICAgICAgICAvLyAgICJfbGN0ZXh0IjogIuWFrOWRiiIsCiAgICAgICAgLy8gICAiX2xjYXR0cnMiOiB7CiAgICAgICAgLy8gICAgICJ1c2VyIjogeyAiaWQiOiAiMjAwMzIwMTkiLCAibmFtZSI6ICLmmajmm6blkLvmnIgiLCAicm9sZSI6IDksICJhdmF0YXIiOiAieHh4eHh4IiB9LAogICAgICAgIC8vICAgICAic20iOiB7ICJ0eXBlIjogMSB9LAogICAgICAgIC8vICAgICAiZ2lmdCI6IHsgImlkIjogODM3NDM3ODQxMzgsICJudW1iZXIiOiAxMiwgInRvdGFsRmVlIjogMTIwMCwgImFuY2hvcklkIjogIjcyNjI2NSIgfSwKICAgICAgICAvLyAgICAgInJ3IjogeyAidHlwZSI6IDAsICJsZXZlbCI6IDAsICJpc0p1bXAiOiAwIH0sCiAgICAgICAgLy8gICAgICJwVHlwZSI6IDAsCiAgICAgICAgLy8gICAgICJwaWQiOiAiMTI2NzEyNjc2IgogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gewogICAgICAgIC8vICAgIl9sY3R5cGUiOiA1LAogICAgICAgIC8vICAgIl9sY3RleHQiOiAiYmFuIiwKICAgICAgICAvLyAgICJfbGNhdHRycyI6IHsKICAgICAgICAvLyAgICAgInVzZXIiOiB7ICJpZCI6ICIyMDAzMjAxOSIsICJuYW1lIjogIuaZqOabpuWQu+aciCIsICJyb2xlIjogOSwgImF2YXRhciI6ICJ4eHh4eHgiIH0sCiAgICAgICAgLy8gICAgICJzbSI6IHsgInR5cGUiOiAwIH0sCiAgICAgICAgLy8gICAgICJnaWZ0IjogeyAiaWQiOiA4Mzc0Mzc4NDEzOCwgIm51bWJlciI6IDEyLCAidG90YWxGZWUiOiAxMjAwLCAiYW5jaG9ySWQiOiAiNzI2MjY1IiB9LAogICAgICAgIC8vICAgICAicnciOiB7ICJ0eXBlIjogMCwgImxldmVsIjogMCwgImlzSnVtcCI6IDAgfSwKICAgICAgICAvLyAgICAgInBUeXBlIjogMCwKICAgICAgICAvLyAgICAgInBpZCI6ICIxMjY3MTI2NzYiCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfSwKICAgICAgICAvLyB7CiAgICAgICAgLy8gICAiX2xjdHlwZSI6IDEsCiAgICAgICAgLy8gICAiX2xjdGV4dCI6ICLlsI/po57mnLrlhbPms6jkuobov5nkuKrkuLvmkq0iLAogICAgICAgIC8vICAgIl9sY2F0dHJzIjogewogICAgICAgIC8vICAgICAidXNlciI6IHsgImlkIjogIjIwMDMyMDE5IiwgIm5hbWUiOiAi5pmo5pum5ZC75pyIIiwgInJvbGUiOiA5LCAiYXZhdGFyIjogInh4eHh4eCIgfSwKICAgICAgICAvLyAgICAgInNtIjogeyAidHlwZSI6IDAgfSwKICAgICAgICAvLyAgICAgImdpZnQiOiB7ICJpZCI6IDgzNzQzNzg0MTM4LCAibnVtYmVyIjogMTIsICJ0b3RhbEZlZSI6IDEyMDAsICJhbmNob3JJZCI6ICI3MjYyNjUiIH0sCiAgICAgICAgLy8gICAgICJydyI6IHsgInR5cGUiOiAwLCAibGV2ZWwiOiAwLCAiaXNKdW1wIjogMCB9LAogICAgICAgIC8vICAgICAicFR5cGUiOiAwLAogICAgICAgIC8vICAgICAicGlkIjogIjEyNjcxMjY3NiIKICAgICAgICAvLyAgIH0KICAgICAgICAvLyB9CiAgICAgIF0sCiAgICAgIC8vIOW8ueW5leWIl+ihqAogICAgICBkYW5tYWt1OiBudWxsIC8vIOinhumikeW8ueW5lQoKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNMb2dpbjogZnVuY3Rpb24gaXNMb2dpbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuaXNMb2dpbjsKICAgIH0sCiAgICB0b3BOYXZTdHlsZU9iajogZnVuY3Rpb24gdG9wTmF2U3R5bGVPYmooKSB7CiAgICAgIGlmICh0aGlzLmlzRm9sZCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBwYWRkaW5nTGVmdDogIjQ4cHgiLAogICAgICAgICAgd2lkdGg6ICJjYWxjKDEwMCUgLSA0OHB4KSIsCiAgICAgICAgICBtaW5XaWR0aDogIjExMzJweCIKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBwYWRkaW5nTGVmdDogIjI0MHB4IiwKICAgICAgICAgIHdpZHRoOiAiY2FsYygxMDAlIC0gMjQwcHgpIiwKICAgICAgICAgIG1pbldpZHRoOiAiOTQ4cHgiCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIHVzZXJTdGF0dXM6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJTdGF0dXM7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5jb21taXQoInVwZGF0ZVVzZXJTdGF0dXMiLCB2YWwpOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUoKSB7CiAgICAgIC8vIOWvuei3r+eUseWPmOWMluS9nOWHuuWTjeW6lAogICAgICB0aGlzLmluaXQoKTsKICAgIH0gLy8gaXNMb2dpbih2YWx1ZSkgewogICAgLy8gICAvLyDnm5HlkKznmbvpmYbmiJDlip8g57uE5Lu25pq06Zyy5Yqf6IO9IOaaguacquS9v+eUqAogICAgLy8gICBpZih2YWx1ZSkgdGhpcy5pbml0KCkKICAgIC8vIH0KCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy8gbGV0IHNpZ24gPSAiMTIzKjUiOwogICAgLy8gbGV0IG1kNXN0cmluZyA9ICIxMjM0NSI7CiAgICAvLwogICAgLy8gaWYgKHNpZ24uaW5kZXhPZigiKiIpID4gLTEpIHsKICAgIC8vICAgY29uc29sZS5sb2coKHNpZ24gPSBzaWduLnNwbGl0KCIqIilbMF0pLCAic2lnbi5zcGxpdCgnKicpWzBdIik7CiAgICAvLyAgIGNvbnNvbGUubG9nKChtZDVzdHJpbmcgPSBtZDVzdHJpbmcuc2xpY2UoMCwgc2lnbi5sZW5ndGgpKSwgIm1kNXN0cmluZyIpOwogICAgLy8gfQogICAgLy8gY29uc29sZS5sb2cobWQ1c3RyaW5nID09PSBzaWduKTsKICAgIC8vIGRvY3VtZW50LmNvb2tpZSA9ICd4eC11c2VyLXRva2VuPWV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSklVelV4TWlKOS5leUo0TFhwNUxYVnpaWEl0YVdRaU9pSXpORGcyTURjMElpd2lhWE56SWpvaWVtaGhibWQ1ZFNJc0ltVjRjQ0k2TVRVM09URTFORGN5T0N3aWFXRjBJam94TlRjM09UUTFNVEk0ZlEuZmRXcjhiZ2NFeFQzYTdRcjhrLUFNRUYxNDJGcUswOVJ0cU1XQUhjNFRFQ3ZKQTdWX2dEMkY4djdVTXNKS2hiQXNwZ1dkTjg0YnlKZmgzSUFMa2c3MHcnCiAgICAvLyBDb29raWVzLnNldCgneHgtdXNlci10b2tlbicsJ2V5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSklVelV4TWlKOS5leUo0TFhwNUxYVnpaWEl0YVdRaU9pSXpORGcyTURjMElpd2lhWE56SWpvaWVtaGhibWQ1ZFNJc0ltVjRjQ0k2TVRVM09URTFORGN5T0N3aWFXRjBJam94TlRjM09UUTFNVEk0ZlEuZmRXcjhiZ2NFeFQzYTdRcjhrLUFNRUYxNDJGcUswOVJ0cU1XQUhjNFRFQ3ZKQTdWX2dEMkY4djdVTXNKS2hiQXNwZ1dkTjg0YnlKZmgzSUFMa2c3MHcnKQogICAgdGhpcy5pbml0KCk7IC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgLy8gICB0aGlzLm1zZ0xpc3QucHVzaCh7CiAgICAvLyAgICAgbmFtZTogMTExLAogICAgLy8gICAgIGNvbnRlbnQ6IDIyMjIyMgogICAgLy8gICB9KQogICAgLy8gfSwzMDAwKQogICAgLy8gdGVzdCBjaGF0cm9vbQogICAgLy8gbGV0IGluZGV4ID0gMTsKICAgIC8vIHNldEludGVydmFsKCgpID0+IHsKICAgIC8vICAgY29uc29sZS5sb2coJ21zZ0xpc3QgcHVzaCcpOwogICAgLy8gICB0aGlzLm1zZ0xpc3QucHVzaCh7CiAgICAvLyAgICAgbmFtZTogMTExLAogICAgLy8gICAgIGNvbnRlbnQ6IDIyMjIyMisgaW5kZXgKICAgIC8vICAgfSkKICAgIC8vICAgaW5kZXgrKwogICAgLy8gfSwzMDAwKQogICAgLy8gdGVzdCDnpLznianmqKrluYUKICAgIC8vIGxldCBpID0gMTsKICAgIC8vIGxldCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgIC8vICAgaWYgKGkgPT0gMTApIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgLy8gICB0aGlzLmdpZnRJdGVtID0gewogICAgLy8gICAgICJnaWZ0IjogewogICAgLy8gICAgICAgImFuY2hvcklkIjogIjY5MTkxNjQiLAogICAgLy8gICAgICAgImFuY2hvck5hbWUiOiAi5Yav5pum5aakIiwKICAgIC8vICAgICAgICJpZCI6IDEyOTE1MjA2OTMwNjM2ODAyLAogICAgLy8gICAgICAgIm5hbWUiOiAi5rWq5ZGz5LuZIiwKICAgIC8vICAgICAgICJudW1iZXIiOiAxLAogICAgLy8gICAgICAgInBpY3R1cmUiOiAiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvZ2lmdHMvbGFuZ1hpYW5YaWFuLzIwMTkxMDE4MTkyODM5MTMwMzE0NTI2MjA2NzcxNDEucG5nIiwKICAgIC8vICAgICAgICJzaG93R2lmdCI6IHRydWUsCiAgICAvLyAgICAgICAidG90YWxGZWUiOiAxMCAqIGkKICAgIC8vICAgICB9LAogICAgLy8gICAgICJwVHlwZSI6IDAsCiAgICAvLyAgICAgInBpZCI6ICI2OTE5MTY0IiwKICAgIC8vICAgICAic2lnbiI6ICIyODY0MDNBMzkzQzI3NTA0NkMzMDUzQ0E3RUJFNEFERCIsCiAgICAvLyAgICAgInVzZXIiOiB7CiAgICAvLyAgICAgICAiYXZhdGFyIjogImh0dHBzOi8vcGljLmltaWZhbi5saXZlL2F2YXRhci8yMDE5MTAzMTE5NDU1MTEzMTgzMDU3ODUwMTYzMjA5LnBuZyIsCiAgICAvLyAgICAgICAiaWQiOiAiMzQ4NjA3NCIsCiAgICAvLyAgICAgICAibmFtZSI6ICLmmajmm6blkLvmnIgiCiAgICAvLyAgICAgfQogICAgLy8gICB9CiAgICAvLyAgIGkrKwogICAgLy8KICAgIC8vICAgY29uc29sZS5sb2coJ3NldFRpbWVvdXQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpOwogICAgLy8gICB0aGlzLmdldFJhbmsoKTsKICAgIC8vCiAgICAvLyB9LCAxMDAwKQogICAgLy8gdGVzdCDot5HpgZMKICAgIC8vIGxldCBpID0gMTsKICAgIC8vIGxldCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgIC8vICAgaWYgKGkgPT0gMykgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAvLyAgIHRoaXMubXNnTGlzdC5wdXNoKHsiX2xjYXR0cnMiOnsiZ2lmdCI6eyJhbmNob3JJZCI6IjEwMDA3ODc4IiwiYW5jaG9yTmFtZSI6IuWwj+mlreeykl8xMDAwNzg3OCIsImlkIjoiMTI5MTUyMDY5MzA2MzY4MTYiLCJuYW1lIjoi5ruh5rGJ5YWo5bitIiwibnVtYmVyIjoxLCJwaWN0dXJlIjoiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvZ2lmdHMvbWFuY2h1LzIwMTkxMDE4MTkzMDE4MTMwMzE0NTI2MjA2NzcxNDMucG5nIiwic2hvd0dpZnQiOnRydWUsInRvdGFsRmVlIjoyMDAwMDB9LCJwVHlwZSI6MCwicGlkIjoiMTAwMDc4NzgiLCJzaWduIjoiQjU3NUEwREE3OEY4QUI2QTBBMjBENEQxNTQ2QzgyNzkiLCJ1c2VyIjp7ImF2YXRhciI6Imh0dHBzOi8vcGljLmltaWZhbi5saXZlL2F2YXRhci8yMDIwMDExNjEyMjgzMzE0MDU0NTM0OTAyMzk5MDMzLmpwZyIsImlkIjoiNjc4MjM1NSIsIm5hbWUiOiJmcmVkIn19LCJfbGN0ZXh0IjoiMTI5MTUyMDY5MzA2MzY4MTYiLCJfbGN0eXBlIjoyfSkKICAgIC8vIHRoaXMubWVzc2FnZUl0ZW0gPSB7CiAgICAvLyAgICJfbGNhdHRycyI6IHsKICAgIC8vICAgICAicFR5cGUiOiAxLAogICAgLy8gICAgICJydyI6IHsKICAgIC8vICAgICAgICJhbmNob3JJZCI6ICI2MTQ0NDQ0IiwKICAgIC8vICAgICAgICJhbmNob3JOYW1lIjogIuS4jeacveWwkeW5tOaipiIsCiAgICAvLyAgICAgICAiZHVyYXRpb24iOiAxMDAwMCwKICAgIC8vICAgICAgICJpc0p1bXAiOiAxLAogICAgLy8gICAgICAgImxldmVsIjogMCwKICAgIC8vICAgICAgICJuYW1lIjogIuezluaenOW6hOWbrSIsCiAgICAvLyAgICAgICAibnVtYmVyIjogMiwKICAgIC8vICAgICAgICJwaWN0dXJlIjogImh0dHBzOi8vcGljLmltaWZhbi5saXZlL2dpZnRzL2ZydWl0Q2FzdGxlLzIwMTkxMDE4MTk0MTAzMTMwMzE0NTI2MjA2NzcxNTEucG5nIiwKICAgIC8vICAgICAgICJ0aW1lcyI6IDMsCiAgICAvLyAgICAgICAidHlwZSI6IDEKICAgIC8vICAgICB9LAogICAgLy8gICAgICJzaWduIjogIjY0QzNBM0UyN0I1REI2REFGRTFGM0M0NkI2RDlGRUFFIiwKICAgIC8vICAgICAidXNlciI6IHsKICAgIC8vICAgICAgICJhdmF0YXIiOiAiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvYXZhdGFyLzIwMTkxMDMxMTk0NTUxMTMxODMwNTc4NTAxNjMyMDkucG5nIiwKICAgIC8vICAgICAgICJpZCI6ICIzNDg2MDc0IiwKICAgIC8vICAgICAgICJuYW1lIjogIuaZqOabpuWQu+aciCIKICAgIC8vICAgICB9CiAgICAvLyAgIH0sICJfbGN0ZXh0IjogIuaZqOabpuWQu+aciOi1oOmAgee7meS4u+aSreS4jeacveWwkeW5tOaipiAyIOS4qiDns5bmnpzluoTlm63vvIHlv6vmnaXlm7Top4LlkKchIiwgIl9sY3R5cGUiOiA0CiAgICAvLyB9CiAgICAvLyAgIGkrKwogICAgLy8KICAgIC8vICAgY29uc29sZS5sb2coJ3NldFRpbWVvdXQnKTsKICAgIC8vCiAgICAvLyB9LCAxMDAwKQogICAgLy8g5bCB56aB5rWL6K+VCiAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgdGhpcy51c2VySW5mbz0gewogICAgLy8gICAgIGNoYW5uZWxSb2xlVHlwZTogMiwKICAgIC8vICAgICBmb2xsb3c6IGZhbHNlLAogICAgLy8gICAgIGZvcmJpZDogdHJ1ZSwKICAgIC8vICAgICBmb3JiaWRFbmRUaW1lOiAxNTc3OTYzNTg3MTM5CiAgICAvLyAgIH07CiAgICAvLyB9LDMwMDApCiAgICAvLyDnuqLljIUg5rWL6K+VCiAgICAvLyB0aGlzLmhvbmdiYW9MaXN0LnB1c2goeyJfbGNhdHRycyI6eyJwVHlwZSI6MCwic2lnbiI6IjM3RDkxMDlFMzA1NzA1Mzc1QTI5NjBCRUIzMDAwMjIyIiwibGN1aWQiOiJDSEFUX1VTRVJfMzUwNjMyOSIsInBpZCI6IjEwMDAwMTU3IiwicnAiOnsidGltZSI6NTAwMCwiaWQiOiIzNTA2MzI5In19LCJfbGN0eXBlIjozLCJfbGN0ZXh0Ijoi5Li75pKt5pepIn0pCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5oYW5kbGVTY3JvbGwsIHRydWUpOwogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5EYW5tYWt1SW5pdCgpOwogICAgfSk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIC8vIOenu+mZpOW8ueW5leWSjHJlc2l6ZeebkeWQrAogICAgdGhpcy5kYW5tYWt1LmRlc3Ryb3koKTsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLmRhbm1ha3VSZXNpemUpOwogIH0sCiAgbWV0aG9kczogewogICAgLy/mu5rliqjmnaEKICAgIGhhbmRsZVNjcm9sbDogZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKCkgewogICAgICB0aGlzLnNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldDsKICAgICAgY29uc29sZS5sb2codGhpcy5zY3JvbGxUb3ApOwoKICAgICAgaWYgKHRoaXMuc2Nyb2xsVG9wID49IDcwMCkgewogICAgICAgIHRoaXMudmlkZW9zaG93ID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnZpZGVvc2hvdyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgZ2V0Rm9sZFN0YXRlOiBmdW5jdGlvbiBnZXRGb2xkU3RhdGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8gbGV0IGxlZnRGb2xkU3RhdGUgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgibGVmdEZvbGRTdGF0ZSIpOwogICAgICAvLyB0aGlzLmlzRm9sZCA9CiAgICAgIC8vICAgbGVmdEZvbGRTdGF0ZSA9PT0gbnVsbCB8fCBsZWZ0Rm9sZFN0YXRlID09PSAiZmFsc2UiID8gZmFsc2UgOiB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRyZWZzLnJlY29tbWVuZC5pbml0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIERhbm1ha3VJbml0OiBmdW5jdGlvbiBEYW5tYWt1SW5pdCgpIHsKICAgICAgdGhpcy5kYW5tYWt1ID0gbmV3IERhbm1ha3UoewogICAgICAgIC8vIOeUqOS6juaYvuekuuW8ueW5leeahOOAjOiInuWPsOOAjeS8muiiq+a3u+WKoOWIsOivpeWuueWZqOS4rQogICAgICAgIGNvbnRhaW5lcjogdGhpcy4kcmVmcy5kYW5tYWt1LAogICAgICAgIC8vIGNvbnRhaW5lcjogdGhpcy4kcmVmcy5kUGxheWVyLAogICAgICAgIC8vIGNvbnRhaW5lcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rhbm1ha3UnKSwKICAgICAgICAvLyBjb250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlby1wbGF5ZXInKSwKICAgICAgICAvLyB2aWRlbzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRwbGF5ZXItdmlkZW8nKSwKICAgICAgICAvLyDlvLnluZXmlbDmja7mlbDnu4TvvIzlnKggZW1pdCBBUEkg5Lit5Lya6K+05piO5YW25qC85byPCiAgICAgICAgY29tbWVudHM6IFtdLAogICAgICAgIC8vIOaUr+aMgSBET00g5byV5pOO5ZKMIGNhbnZhcyDlvJXmk47jgIJjYW52YXMg5byV5pOO5LiA6Iis5q+UIERPTSDmm7Tpq5jmlYjvvIzkvYbnm7jlr7nmm7TogJflhoXlrZjjgIIKICAgICAgICAvLyDpu5jorqTkuLogRE9NIOW8leaTjgogICAgICAgIC8vIGVuZ2luZTogJ2NhbnZhcycsCiAgICAgICAgLy8g5by55bmV6YCf5bqm77yM5Lmf5Y+v5Lul55SoIHNwZWVkIEFQSSDorr7nva4KICAgICAgICBzcGVlZDogMTA1CiAgICAgIH0pOyAvLyBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIC8vICAgdGhpcy5kYW5tYWt1LmVtaXQoY29tbWVudCk7CiAgICAgIC8vIH0sMjAwKQoKICAgICAgdGhpcy5kYW5tYWt1UmVzaXplKCk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLmRhbm1ha3VSZXNpemUpOwogICAgfSwKICAgIGRhbm1ha3VSZXNpemU6IGRlYm91bmNlKGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5kYW5tYWt1KTsKICAgICAgdGhpcy5kYW5tYWt1LnJlc2l6ZSgpOwogICAgfSwgMjAwLCBmYWxzZSksCgogICAgLyoqDQogICAgICog6aOY56qX5by55bmV6Ieq5bex55qEdHlwZSDlr7nlupTkuInnp43lrZfkvZMNCiAgICAgKiDlsZXnpLrnmoTmtojmga/nsbvlnovvvJoNCiAgICAgKiAtMeeUqOaIt+WPkemAgeeahOa2iOaBr+OAgSAjZmZmZmZmDQogICAgICogMeasoui/jua2iOaBr+OAgeWFs+azqOa2iOaBr+OAgSNGRkM5NTUNCiAgICAgKiAy5oqi57qi5YyF5raI5oGvICNGRjdGNjQNCiAgICAgKiBAcGFyYW0gbWVzc2FnZQ0KICAgICAqIEBwYXJhbSB0eXBlDQogICAgICovCiAgICBzZW5kRGFubWFrdTogZnVuY3Rpb24gc2VuZERhbm1ha3UobWVzc2FnZSwgdHlwZSkgewogICAgICB2YXIgY29sb3JNYXAgPSB7CiAgICAgICAgIi0xIjogIiNmZmZmZmYiLAogICAgICAgIDE6ICIjRkZDOTU1IiwKICAgICAgICAyOiAiI0ZGN0Y2NCIKICAgICAgfTsKICAgICAgdmFyIGNvbW1lbnQgPSB7CiAgICAgICAgdGV4dDogbWVzc2FnZSwKICAgICAgICAvLyDpu5jorqTkuLogcnRs77yI5LuO5Y+z5Yiw5bem77yJ77yM5pSv5oyBIGx0cuOAgXJ0bOOAgXRvcOOAgWJvdHRvbeOAggogICAgICAgIG1vZGU6ICJydGwiLAogICAgICAgIC8vIOWcqOS9v+eUqCBET00g5byV5pOO5pe277yMRGFubWFrdSDkvJrkuLrmr4/kuIDmnaHlvLnluZXliJvlu7rkuIDkuKogPGRpdj4g6IqC54K577yMCiAgICAgICAgLy8g5Lul5LiLIENTUyDmoLflvI/kvJrnm7TmjqXorr7nva7liLAgZGl2LnN0eWxlIOS4igogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAvLyB0b3A6ICczMHB4JywKICAgICAgICAgIHpJbmRleDogMTAsCiAgICAgICAgICBmb250U2l6ZTogIjI0cHgiLAogICAgICAgICAgZm9udFdlaWdodDogIjcwMCIsCiAgICAgICAgICBvcGFjaXR5OiAiMC44NCIsCiAgICAgICAgICBsaW5lSGVpZ2h0OiAiMzNweCIsCiAgICAgICAgICBjb2xvcjogY29sb3JNYXBbdHlwZV0sCiAgICAgICAgICBwYWRkaW5nOiAiNHB4IDAiLAogICAgICAgICAgdGV4dFNoYWRvdzogIjFweCAwcHggMXB4IHJnYmEoMzQsMzQsMzQsMSkiCiAgICAgICAgfSAvLyDoh6rlrprkuYnmuLLmn5PlmagKICAgICAgICAvLyDlvZMgYHJlbmRlcmAg5a2X5q615a2Y5Zyo5pe2LCBgdGV4dGAsIGBodG1sYCwgYHN0eWxlYCDlkowgYGNhbnZhc1N0eWxlYCDlsIbooqvlv73nlaXjgIIKICAgICAgICAvLyDlnKjkvb/nlKggRE9NIOW8leaTjuaXtu+8jOivpeWHveaVsOW6lOW9k+i/lOWbnuS4gOS4qiBIVE1MRWxlbWVudOOAggogICAgICAgIC8vIHJlbmRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gdmFyICRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAvLyB2YXIgJGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwogICAgICAgIC8vICRpbWcuc3JjID0gJy9wYXRoL3RvL3h4eC5wbmcnOwogICAgICAgIC8vICRkaXYuYXBwZW5kQ2hpbGQoJGltZyk7CiAgICAgICAgLy8gcmV0dXJuICRkaXY7CiAgICAgICAgLy8gfSwKICAgICAgICAvLyDlnKjkvb/nlKggY2FudmFzIOW8leaTjuaXtu+8jOivpeWHveaVsOW6lOW9k+i/lOWbnuS4gOS4qiBIVE1MQ2FudmFzRWxlbWVudOOAggogICAgICAgIC8vIHJlbmRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgLy8gICBjYW52YXMud2lkdGggPSAzMjA7CiAgICAgICAgLy8gICBjYW52YXMuaGVpZ2h0ID0gMTgwOwogICAgICAgIC8vICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIC8vICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIC8vICAgY3R4LmFyYyg3NSwgNzUsIDUwLCAwLCAyICogTWF0aC5QSSk7CiAgICAgICAgLy8gICBjdHguc3Ryb2tlKCk7CiAgICAgICAgLy8gICByZXR1cm4gY2FudmFzOwogICAgICAgIC8vIH0KCiAgICAgIH07CiAgICAgIHRoaXMuZGFubWFrdS5lbWl0KGNvbW1lbnQpOwogICAgfSwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgLy8g5bem5L6n6L655qCP5b2T5YmN54q25oCBCiAgICAgIC8vIHRoaXMuZ2V0Rm9sZFN0YXRlKCk7CiAgICAgIGNvbnNvbGUubG9nKDY2NjYpOwogICAgICB0aGlzLmxpdmVyb29tID0gdGhpcy4kcm91dGUucGFyYW1zLmxpdmVyb29tOyAvLyBpZiAodGhpcy5nZXRDaGFubmVsSW5mbyBpbnN0YW5jZW9mIFByb21pc2UpIHsKICAgICAgLy8gICBjb25zb2xlLmxvZygieWVzIFByb21pc2UiKTsKICAgICAgLy8gfSBlbHNlIGNvbnNvbGUubG9nKCJubyBQcm9taXNlIik7CgogICAgICB0aGlzLmdldENoYW5uZWxJbmZvKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coInllcyBQcm9taXNlIik7CgogICAgICAgIF90aGlzMy5jb25uZXRDb252ZXJzYXRpb24oKTsKCiAgICAgICAgX3RoaXMzLmdldHJlY29tbWVuZExpdmVMaXN0KCk7CiAgICAgIH0pOwogICAgICB0aGlzLmdldEdpZnRMaXN0KCk7IC8vIHRoaXMuZ2V0UmFua2luZygpOwoKICAgICAgdGhpcy5nZXRsb2dpbkluZm8oKTsKICAgICAgdGhpcy5lbnRlclJvb20oKTsKICAgIH0sCiAgICBzZW5kR2lmdFN1Y2Nlc3M6IGZ1bmN0aW9uIHNlbmRHaWZ0U3VjY2VzcyhkYXRhKSB7CiAgICAgIHRoaXMuJHNldCh0aGlzLnVzZXJMb2dpbiwgImNyZWRpdCIsIGRhdGEuY3JlZGl0KTsKICAgIH0sCiAgICAvLyDojrflj5bnm7Tmkq3pl7Tkv6Hmga8KICAgIGdldGxvZ2luSW5mbzogZnVuY3Rpb24gZ2V0bG9naW5JbmZvKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5pc0xvZ2luKSByZXR1cm47CiAgICAgIHJldHVybiBsb2dpbkluZm8oKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQudXNlckxvZ2luID0gcmVzLmRhdGE7IC8vIHRoaXMudXNlclN0YXR1cy51c2VySW5mby5iYWxhbmNlID0gcmVzLmRhdGEuYWNjb3VudER0by5taUNvaW4uYmFsYW5jZQogICAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGlzLnVzZXJTdGF0dXMudXNlckluZm8uYmFsYW5jZScsdGhpcy51c2VyU3RhdHVzLnVzZXJJbmZvLmJhbGFuY2UpCgogICAgICAgIGNvbnNvbGUubG9nKCLnm7Tmkq3pl7Qt5Liq5Lq65L+h5oGvIiwgcmVzKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5b2T5YmN55So5oi36L+b5YWl55u05pKt6Ze055qE5L+h5oGvCiAgICBlbnRlclJvb206IGZ1bmN0aW9uIGVudGVyUm9vbSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICAvLyBpZiAoIXRoaXMuaXNMb2dpbikgcmV0dXJuOwogICAgICByZXR1cm4gX2VudGVyUm9vbSh7CiAgICAgICAgY2lkOiB0aGlzLmxpdmVyb29tCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNS51c2VySW5mbyA9IHJlcy5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPluebtOaSremXtOS/oeaBrwogICAgZ2V0Q2hhbm5lbEluZm86IGZ1bmN0aW9uIGdldENoYW5uZWxJbmZvKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBjaGFubmVsSW5mbyh7CiAgICAgICAgY2lkOiB0aGlzLmxpdmVyb29tCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNi5jaGFubmVsSW5mbyA9IHJlcy5kYXRhOwogICAgICAgIGRvY3VtZW50LnRpdGxlID0gX3RoaXM2LmNoYW5uZWxJbmZvLm5hbWU7CiAgICAgICAgY29uc29sZS5sb2coMTEyMjMzKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bmjqjojZDliJfooagKICAgIGdldHJlY29tbWVuZExpdmVMaXN0OiBmdW5jdGlvbiBnZXRyZWNvbW1lbmRMaXZlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gcmVjb21tZW5kTGl2ZUxpc3QoewogICAgICAgIHJlY29tbWVuZEFuY2hvclR5cGU6ICJTRUFSQ0hfUEFHRSIgLy8gc2l6ZTogMTAsCgogICAgICB9LCB7fSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8g5pyq5byA5pKtCiAgICAgICAgaWYgKF90aGlzNy5jaGFubmVsSW5mby5wbGF5U3RhdHVzQ29kZSA9PSA5MDUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCcxJyk7CiAgICAgICAgICBfdGhpczcucmVjb21tZW5kVmlkZW8yID0gcmVzLmRhdGEuc2xpY2UoMCwgMik7CiAgICAgICAgICBfdGhpczcucmVjb21tZW5kTGlzdCA9IHJlcy5kYXRhLnNsaWNlKDIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczcucmVjb21tZW5kTGlzdCA9IHJlcy5kYXRhOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g56S854mp5YiX6KGoCiAgICBnZXRHaWZ0TGlzdDogZnVuY3Rpb24gZ2V0R2lmdExpc3QoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9nZXRHaWZ0TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzOC5naWZ0TGlzdCA9IHJlcy5kYXRhOyAvLyB0aGlzLmdpZnRMaXN0ID0gW3Jlcy5kYXRhWzBdLHJlcy5kYXRhWzBdLHJlcy5kYXRhWzBdLHJlcy5kYXRhWzBdLHJlcy5kYXRhWzBdLHJlcy5kYXRhWzBdLHJlcy5kYXRhWzBdLHJlcy5kYXRhWzBdXTsKCiAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgX3RoaXM4LiRzZXQoX3RoaXM4LmdpZnRMaXN0VG9PYmplY3QsIGl0ZW0uaWQsIGl0ZW0pOwogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOamnOWNlQogICAgZ2V0UmFua2luZzogZnVuY3Rpb24gZ2V0UmFua2luZygpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gcXVlcnlSb29tUmFua2luZyh7CiAgICAgICAgYW5jaG9ySWQ6IHRoaXMubGl2ZXJvb20sCiAgICAgICAgdHlwZTogMAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczkucmFua09iamVjdCA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDoioLmtYHlpITnkIYg5pu05paw5qac5Y2VCiAgICBnZXRSYW5rOiBkZWJvdW5jZShmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuZ2V0UmFua2luZygpOwogICAgfSwgMTAwMCwgZmFsc2UpLAogICAgLy8g5by55bmV5Yid5aeL5YyWCiAgICBjb25uZXRDb252ZXJzYXRpb246IGZ1bmN0aW9uIGNvbm5ldENvbnZlcnNhdGlvbigpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdmFyIGVycm9yOyAvLyB0aHJvdyBlcnJvcjvpgqPmiJHkuI3nn6XpgZPkvaDnlKh5YXJu5bCx5pyJ5LqGCgogICAgICBjb25zb2xlLmxvZygi6ZO+5o6l6IGK5aSp5a6kLeeUqOaIt+S/oeaBryIsIHRoaXMudXNlclN0YXR1cyk7CiAgICAgIHZhciBjbGllbnRJZCA9ICJDSEFUX1ZJU0lUT1JfIiArIHV1aWR2NCgpOwoKICAgICAgaWYgKHRoaXMuaXNMb2dpbikgewogICAgICAgIGNsaWVudElkID0gIkNIQVRfVVNFUl8iICsgdGhpcy51c2VyU3RhdHVzLnVzZXJJbmZvLnVpZDsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coIumTvuaOpeiBiuWkqeWupGNsaWVudElkIiwgY2xpZW50SWQpOwogICAgICBDaGF0LmdldENoYXRSb29tKGNsaWVudElkLCB0aGlzLmNoYW5uZWxJbmZvLmNoYXRSb29tc1swXSkudGhlbiggLy8gdGVzdC0t5Yqg5YWl562+5ZCNCiAgICAgIGZ1bmN0aW9uIChjb252ZXJzYXRpb24pIHsKICAgICAgICBjb25zb2xlLmxvZyhjb252ZXJzYXRpb24sICJjb252ZXJzYXRpb24iKTsKCiAgICAgICAgX3RoaXMxMC5tc2dMaXN0LnB1c2goewogICAgICAgICAgX2xjdHlwZTogMSwKICAgICAgICAgIC8vIF9sY3RleHQ6IGDmrKLov47mnaXliLDnp5jppa3nm7Tmkq0keyB0aGlzLmNoYW5uZWxJbmZvLnVuYW1lIH3nmoTnm7Tmkq3pl7TvvIznm5Hmkq3kurrlkZjlsIblr7nnm7Tmkq3pl7Tov5vooYwyNOWwj+aXtuW3oeafpe+8jOemgeatouS8oOaSreS7u+S9lei/neazleOAgei/neinhOOAgeS9juS/l+OAgeaatOWKm+etieS4jeiJr+S/oeaBr+eahOihjOS4uuOAgmAKICAgICAgICAgIF9sY3RleHQ6ICJcdTcyMzFcdTc0MDNcdTc5ODFcdTZCNjJcdTY3MkFcdTYyMTBcdTVFNzRcdTRFQkFcdTkwMDFcdTc5M0NcdTdCNDlcdTRFRDhcdThEMzlcdTg4NENcdTRFM0FcdTMwMDFcdTRFMjVcdTc5ODFcdTRFM0JcdTY0QURcdThCRjFcdTVCRkNcdTY3MkFcdTYyMTBcdTVFNzRcdTRFQkFcdTZEODhcdThEMzlcdTMwMDJcdTU5ODJcdTc2RjRcdTY0QURcdTk1RjRcdTUxRkFcdTczQjBcdThGRERcdTZDRDVcdThGRERcdTg5QzRcdTMwMDFcdTgyNzJcdTYwQzVcdTRGNEVcdTRGRDdcdTMwMDFcdThENENcdTUzNUFcdTMwMDFcdThCRjFcdTVCRkNcdTZCM0FcdThCQzhcdTdCNDlcdTg4NENcdTRFM0FcdUZGMENcdThCRjdcdTUzQ0FcdTY1RjZcdTRFM0VcdTYyQTVcdTMwMDJcdTdCQTFcdTc0MDZcdTU0NTgyNFx1NUMwRlx1NjVGNlx1NTcyOFx1N0VCRlx1NURFMVx1NjdFNVx1NUU3Nlx1NjNBNVx1NTNEN1x1NEUzRVx1NjJBNVx1MzAwMiIKICAgICAgICB9KTsgLy8gdGhpcy5zZW5kRGFubWFrdShg5qyi6L+O5p2l5Yiw56eY6aWt55u05pKtJHsgdGhpcy5jaGFubmVsSW5mby51bmFtZSB955qE55u05pKt6Ze077yM55u05pKt6Ze05L6d5rOV5a+555u05pKt5YaF5a656L+b6KGMMjTlsI/ml7blt6Hmn6XvvIznpoHmraLku7vkvZXkvKDmkq3ov53nq6DjgIHov53op4TjgIHkvY7kv5fjgIHmmrTlipvnrYnkuI3oia/kv6Hmga/nmoTooYzkuLrjgIJgLCAxKQoKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIC8vIOato+W4uOS6pOS6kgogICAgICAgICAgY29udmVyc2F0aW9uLm9uKGV2ZW50Lk1FU1NBR0UsIGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJldmVudC5NRVNTQUdFIiwgZXZlbnQuTUVTU0FHRSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJtZXNzYWdlIiwgbWVzc2FnZSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJtZXNzYWdlLmNvbnRlbnQiLCBtZXNzYWdlLmNvbnRlbnQpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlLmNvbnRlbnQsICJjb250ZW50Y29udGVudGNvbnRlbnRjb250ZW50Y29udGVudCIpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlLmNvbnRlbnQuX2xjdGV4dCwgIm1lc3NhZ2VtZXNzYWdlbWVzc2FnZW1lc3NhZ2VtZXNzYWdlIik7CgogICAgICAgICAgICBfdGhpczEwLmFzc2lnbmVkTWVzc2FnZShtZXNzYWdlLmNvbnRlbnQpOwogICAgICAgICAgfSk7IC8vIC8vIOW8ueWHuuaPkOekuu+8jOWRiuefpeW9k+WJjeeUqOaIt+eahCBjbGllbnRJZCDlnKjlhbbku5borr7lpIfkuIrnmbvlvZXkuoYKCiAgICAgICAgICBjb252ZXJzYXRpb24ub24oZXZlbnQuQ09ORkxJQ1QsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8gVE9ETyDkupLouKLllaYKICAgICAgICAgICAgY29uc29sZS5sb2coIuS6kui4ouWVpiIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLlvLnluZXmnI3liqHlmajliqDovb3lpLHotKUiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIhumFjeW8ueW5lei/lOWbnuaVsOaNrgogICAgYXNzaWduZWRNZXNzYWdlOiBmdW5jdGlvbiBhc3NpZ25lZE1lc3NhZ2UobWVzc2FnZSkgewogICAgICB2YXIgdGV4dCA9IG1lc3NhZ2UuX2xjdGV4dDsKICAgICAgdmFyIHR5cGUgPSBtZXNzYWdlLl9sY3R5cGU7CiAgICAgIHZhciBtZDVTdHJpbmcgPSBtZDVTZWNyZXQodGV4dCk7CiAgICAgIHZhciBzaWduID0gbWVzc2FnZS5fbGNhdHRycy5zaWduOwogICAgICAvKioNCiAgICAgICAqIOWboOS4uuWKoOWvhueahOWtl+espuS4suWQq+aciWxlYW5DbG91ZOeahOWxj+iUveivjSwg5Lya6KKr6L2s5YyW5Li6Kiwg5omA5Lul5ZCE5Liq5a6i5oi356uv6ZyA6KaB5aKe5Yqg5Lul5LiL6YC76L6RDQogICAgICAgKiDnrKzkuIDmraU6IOWIpOaWreWtl+espuS4suS4reaYr+WQpuWMheWQqyo6IOS4jeWMheWQq+ebtOaOpeWvueavlA0KICAgICAgICog56ys5LqM5q2lOiDlpoLmnpzljIXlkKsqLCDliJnliKTmlq0q5piv5ZCm5Li656ys5LiA5LiqLCDlpoLmnpzmmK/nrKzkuIDkuKrliJnkuI3ov5vooYzlr7nmr5Qs55u05o6l5bGV56S6DQogICAgICAgKiDnrKzkuInmraU6IOWmguaenOS4jeaYr+esrOS4gOS4quWImeWIh+WJsuWtl+espuS4siwg6I635Y+WKuWJjemdoueahOmDqOWIhiwg54S25ZCO5ZKM5pys5Zyw5oiq5Y+W55u45ZCM6ZW/5bqm54S25ZCO5Zyo6L+b6KGM5a+55q+UDQogICAgICAgKi8KCiAgICAgIGlmIChzaWduLmluZGV4T2YoIioiKSA+IC0xKSB7CiAgICAgICAgc2lnbiA9IHNpZ24uc3BsaXQoIioiKVswXTsKICAgICAgICBtZDVTdHJpbmcgPSBtZDVTdHJpbmcuc2xpY2UoMCwgc2lnbi5sZW5ndGgpOwogICAgICAgIGNvbnNvbGUubG9nKHNpZ24sICJzaWduIik7CiAgICAgICAgY29uc29sZS5sb2cobWQ1U3RyaW5nLCAibWQ1c3RyaW5nIik7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKG1kNVN0cmluZyA9PT0gc2lnbiwgIm1kNVN0cmluZyA9PT0gc2lnbiIpOwoKICAgICAgaWYgKG1kNVN0cmluZyA9PT0gc2lnbiAmJiBtZDVTdHJpbmcgIT09ICJmYWxzZSIpIHsKICAgICAgICBjb25zb2xlLmxvZygicmVjZWl2ZSBtZXNzYWdlOiIgKyB0ZXh0KTsgLy8g5by55bmV5paH5qGICgogICAgICAgIGlmICh0eXBlID09PSAtMSB8fCB0eXBlID09PSAxIHx8IHR5cGUgPT09IDIgfHwgdHlwZSA9PT0gNSkgewogICAgICAgICAgdGhpcy5tc2dMaXN0LnB1c2goSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtZXNzYWdlKSkpOwogICAgICAgIH0gLy8g6aOY56qX5by55bmVCgoKICAgICAgICBpZiAodHlwZSA9PT0gLTEpIHsKICAgICAgICAgIHRoaXMuc2VuZERhbm1ha3UodGV4dCwgIi0xIik7CiAgICAgICAgfQoKICAgICAgICBpZiAodHlwZSA9PT0gMSkgewogICAgICAgICAgdGhpcy5zZW5kRGFubWFrdSh0ZXh0LCBtZXNzYWdlLl9sY2F0dHJzLnNtID09PSAwID8gMiA6IDEpOwogICAgICAgIH0gLy8g56aB6KiAIOWIpOaWreeahOaYr+S4jeaYr+W9k+WJjeeZu+mZhueUqOaItwoKCiAgICAgICAgaWYgKHR5cGUgPT09IDUgJiYgbWVzc2FnZS5fbGNhdHRycy5mYi51aWQgPT09IHRoaXMudXNlckxvZ2luLmlkKSB7CiAgICAgICAgICB0aGlzLmVudGVyUm9vbSgpOwogICAgICAgIH0gLy8g6K6+572u5oi/566hIOWIpOaWreeahOaYr+S4jeaYr+W9k+WJjeeZu+mZhueUqOaItwoKCiAgICAgICAgaWYgKHR5cGUgPT09IDYgJiYgbWVzc2FnZS5fbGNhdHRycy5tYW5hZ2VyLmlkID09PSB0aGlzLnVzZXJMb2dpbi5pZCkgewogICAgICAgICAgdGhpcy5lbnRlclJvb20oKTsKICAgICAgICB9IC8vIOekvOeJqQoKCiAgICAgICAgaWYgKHR5cGUgPT09IDIpIHsKICAgICAgICAgIHRoaXMuZ2lmdEl0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UuX2xjYXR0cnMpKTsgLy8gdGhpcy5nZXRSYW5rKCk7CiAgICAgICAgfSAvLyDnuqLljIUKCgogICAgICAgIGlmICh0eXBlID09PSAzKSB7CiAgICAgICAgICB0aGlzLmhvbmdiYW9MaXN0LnB1c2goSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtZXNzYWdlKSkpOwogICAgICAgIH0gLy8g6LeR6YGTCgoKICAgICAgICBpZiAodHlwZSA9PT0gNCkgewogICAgICAgICAgdGhpcy5tZXNzYWdlSXRlbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOWPkemAgea2iOaBrwogICAgc2VuZE1zZzogZnVuY3Rpb24gc2VuZE1zZyhtc2cpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2cobXNnLCAic2VuZE1zZyIpOwogICAgICB2YXIgc2lnbiA9IG1kNVNlY3JldChtc2cpOwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHVzZXI6IHsKICAgICAgICAgIGlkOiB0aGlzLnVzZXJMb2dpbi5pZCwKICAgICAgICAgIG5hbWU6IHRoaXMudXNlckxvZ2luLnVuYW1lLAogICAgICAgICAgcm9sZTogdGhpcy51c2VySW5mby5jaGFubmVsUm9sZVR5cGUsCiAgICAgICAgICBhdmF0YXI6IHRoaXMudXNlckxvZ2luLmF2YXRhclVybAogICAgICAgIH0sCiAgICAgICAgcFR5cGU6IDAsCiAgICAgICAgcGlkOiB0aGlzLmxpdmVyb29tLAogICAgICAgIGxjdWlkOiAiQ0hBVF9VU0VSXyIuY29uY2F0KHRoaXMudXNlckxvZ2luLmlkKSwKICAgICAgICBzaWduOiBzaWduCiAgICAgIH07CiAgICAgIENoYXQuc2VuZE1zZyhtc2csIHBhcmFtcykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coInN1Y2Nlc3MiKTsKCiAgICAgICAgX3RoaXMxMS5tc2dMaXN0LnB1c2goewogICAgICAgICAgX2xjYXR0cnM6IHsKICAgICAgICAgICAgdXNlcjogewogICAgICAgICAgICAgIHJvbGU6IF90aGlzMTEudXNlckluZm8uY2hhbm5lbFJvbGVUeXBlLAogICAgICAgICAgICAgIG5hbWU6IF90aGlzMTEudXNlckxvZ2luLnVuYW1lLAogICAgICAgICAgICAgIGlkOiBfdGhpczExLnVzZXJMb2dpbi5pZCwKICAgICAgICAgICAgICBhdmF0YXI6IF90aGlzMTEudXNlckxvZ2luLmF2YXRhclVybAogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgX2xjdHlwZTogLTEsCiAgICAgICAgICBfbGN0ZXh0OiBtc2cKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMxMS5zZW5kRGFubWFrdShtc2csICItMSIpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIC8vIOWxleekuueZu+mZhuW8ueeqlwogICAgICB0aGlzLiRyZWZzLmxvZ2luLm9wZW5Mb2dpbkRpYWxvZygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Liveroom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,OAAA,cAAA,MAAA,sCAAA;AACA,OAAA,YAAA,MAAA,oCAAA;AACA,OAAA,cAAA,MAAA,sCAAA;AACA,OAAA,YAAA,MAAA,oCAAA;AACA,OAAA,aAAA,MAAA,qCAAA;AACA,OAAA,YAAA,MAAA,oCAAA,C,CACA;;AACA,OAAA,mBAAA,MAAA,2CAAA;AACA,OAAA,iBAAA,MAAA,yCAAA;AACA,OAAA,kBAAA,MAAA,8CAAA;AAEA,OAAA,WAAA,MAAA,gCAAA;AACA,OAAA,OAAA,MAAA,0BAAA;AACA,OAAA,QAAA,MAAA,sCAAA;AACA,OAAA,WAAA,MAAA,oCAAA;AAEA,SAAA,SAAA,QAAA,gBAAA;AACA,OAAA,KAAA,IAAA,MAAA,iBAAA;AACA,SAAA,KAAA,QAAA,sBAAA;AACA,SACA,gBADA,EAEA,WAFA,EAGA,SAAA,IAAA,UAHA,EAIA,WAAA,IAAA,YAJA,EAKA,SALA,QAMA,gBANA;AAOA,SAAA,iBAAA,QAAA,WAAA;AAEA,SAAA,QAAA,QAAA,6BAAA,C,CACA;;AACA,OAAA,OAAA,MAAA,SAAA;AACA,SAAA,EAAA,IAAA,MAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA,cADA;AAEA,IAAA,YAAA,EAAA,YAFA;AAGA,IAAA,YAAA,EAAA,YAHA;AAIA;AACA,IAAA,cAAA,EAAA,cALA;AAMA,IAAA,YAAA,EAAA,YANA;AAOA,IAAA,mBAAA,EAAA,mBAPA;AAQA,IAAA,aAAA,EAAA,aARA;AASA,IAAA,iBAAA,EAAA,iBATA;AAUA,IAAA,kBAAA,EAAA,kBAVA;AAWA,IAAA,WAAA,EAAA,WAXA;AAYA,IAAA,OAAA,EAAA,OAZA;AAaA,IAAA,QAAA,EAAA,QAbA;AAcA,IAAA,WAAA,EAAA;AAdA,GAFA;AAkBA,EAAA,IAlBA,kBAkBA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,CADA;AAEA,MAAA,MAAA,EAAA,IAFA;AAGA,MAAA,SAAA,EAAA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtCA,OAHA;AA2CA,MAAA,QAAA,EAAA,EA3CA;AA4CA,MAAA,WAAA,EAAA,EA5CA;AA4CA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,eAAA,EAAA,CADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,MAAA,EAAA,KAHA;AAIA,QAAA,aAAA,EAAA;AAJA,OA7CA;AAkDA;AACA,MAAA,QAAA,EAAA,EAnDA;AAmDA;AACA,MAAA,gBAAA,EAAA,EApDA;AAoDA;AACA,MAAA,WAAA,EAAA,EArDA;AAqDA;AACA,MAAA,aAAA,EAAA,EAtDA;AAsDA;AACA,MAAA,eAAA,EAAA,EAvDA;AAuDA;AACA,MAAA,UAAA,EAAA,EAxDA;AAyDA,MAAA,WAAA,EAAA,EAzDA;AA0DA,MAAA,QAAA,EAAA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA,OA1DA;AA8EA,MAAA,OAAA,EAAA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1DA,OA9EA;AAyIA;AACA,MAAA,OAAA,EAAA,IA1IA,CA0IA;;AA1IA,KAAA;AA4IA,GA/JA;AAgKA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,OAAA;AACA,KAHA;AAIA,IAAA,cAJA,4BAIA;AACA,UAAA,KAAA,MAAA,EAAA;AACA,eAAA;AACA,UAAA,WAAA,QADA;AAEA,UAAA,KAAA,qBAFA;AAGA,UAAA,QAAA,EAAA;AAHA,SAAA;AAKA,OANA,MAMA;AACA,eAAA;AACA,UAAA,WAAA,SADA;AAEA,UAAA,KAAA,sBAFA;AAGA,UAAA,QAAA,EAAA;AAHA,SAAA;AAKA;AACA,KAlBA;AAmBA,IAAA,UAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,eAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA;AACA,OAHA;AAIA,MAAA,GAJA,eAIA,GAJA,EAIA;AACA,eAAA,KAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,GAAA,CAAA;AACA;AANA;AAnBA,GAhKA;AA4LA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA;AACA,WAAA,IAAA;AACA,KAJA,CAKA;AACA;AACA;AACA;;AARA,GA5LA;AAuMA,EAAA,OAvMA,qBAuMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAA,IAAA,GAXA,CAYA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,GAlTA;AAoTA,EAAA,OApTA,qBAoTA;AAAA;;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,YAAA,EAAA,IAAA;AACA,SAA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","sourcesContent":["<template>\r\n  <section>\r\n    <loginPop ref=\"login\" @successLogin=\"init\"></loginPop>\r\n    <div :class=\"[{ fold: isFold }, 'main-header']\">\r\n      <homeNav :navLogo=\"true\"></homeNav>\r\n      <!--      <homeNav :navLogo=\"false\"></homeNav>-->\r\n    </div>\r\n    <div class=\"liveroom\" :class=\"[{ fold: isFold }, 'main-container']\">\r\n      <LeftSideBar @changeFoldState=\"getFoldState\"></LeftSideBar>\r\n      <div class=\"main-wrap\">\r\n        <LiveroomHeader\r\n          :channelInfo=\"channelInfo\"\r\n          v-bind:follow.sync=\"userInfo.follow\"\r\n          @login=\"login\"\r\n        ></LiveroomHeader>\r\n\r\n        <div class=\"empty\" ref=\"danmaku\" id=\"danmaku\">\r\n          <videoPlayer ref=\"dPlayer\" :roomId=\"liveroom\" :notLivingSuggest=\"recommendVideo2\"></videoPlayer>\r\n          <!--          <LiveroomPaodao :messageItem=\"messageItem\"></LiveroomPaodao>-->\r\n        </div>\r\n        <LiveroomGift\r\n          :userLogin=\"userLogin\"\r\n          :channelInfo=\"channelInfo\"\r\n          :giftList=\"giftList\"\r\n          @sendGiftSuccess=\"sendGiftSuccess\"\r\n          @login=\"login\"\r\n        ></LiveroomGift>\r\n        <LiveroomRecommend ref=\"recommend\" :recommendList=\"recommendList\"></LiveroomRecommend>\r\n      </div>\r\n      <div class=\"chat-wrap\">\r\n        <liveroomNotice :msg=\"channelInfo.notice\"></liveroomNotice>\r\n        <!-- <liveroomRank></liveroomRank> -->\r\n        <liveroomChat\r\n          :giftListToObject=\"giftListToObject\"\r\n          :hongbaoList=\"hongbaoList\"\r\n          :userLogin=\"userLogin\"\r\n          :msgList=\"msgList\"\r\n          :giftItem=\"giftItem\"\r\n          :userInfo=\"userInfo\"\r\n          @login=\"login\"\r\n          @hongBaoSuccess=\"getloginInfo\"\r\n        ></liveroomChat>\r\n        <liveroomInput :userInfo=\"userInfo\" @sendMsg=\"sendMsg\" @login=\"login\"></liveroomInput>\r\n        <LiveroomLoginDialog @login=\"login\"></LiveroomLoginDialog>\r\n      </div>\r\n    </div>\r\n    <liveroomSmallvideo></liveroomSmallvideo>\r\n  </section>\r\n</template>\r\n<script>\r\nimport LiveroomHeader from \"@/components/liveroom/LiveroomHeader\";\r\nimport LiveroomGift from \"@/components/liveroom/LiveroomGift\";\r\nimport liveroomNotice from \"@/components/liveroom/LiveroomNotice\";\r\nimport liveroomRank from \"@/components/liveroom/LiveroomRank\";\r\nimport liveroomInput from \"@/components/liveroom/LiveroomInput\";\r\nimport liveroomChat from \"@/components/liveroom/LiveroomChat\";\r\n// import LiveroomPaodao from \"@/components/liveroom/LiveroomPaodao\";\r\nimport LiveroomLoginDialog from \"@/components/liveroom/LiveroomLoginDialog\";\r\nimport LiveroomRecommend from \"@/components/liveroom/LiveroomRecommend\";\r\nimport liveroomSmallvideo from \"@/components/liveroom/liveroomSmallvideo.vue\"\r\n\r\nimport LeftSideBar from \"@/components/left-side-bar.vue\";\r\nimport homeNav from \"@/views/home/homeNav.vue\";\r\nimport loginPop from \"@/components/login/loginTipPopup.vue\";\r\nimport videoPlayer from \"@/components/video/videoPlayer.vue\";\r\n\r\nimport { md5Secret } from \"@/utils/md5.js\";\r\nimport * as Chat from \"@/utils/chat.js\";\r\nimport { event } from \"@/utils/leancloud.js\";\r\nimport {\r\n  queryRoomRanking,\r\n  channelInfo,\r\n  enterRoom,\r\n  getGiftList,\r\n  loginInfo\r\n} from \"@/api/liveroom\";\r\nimport { recommendLiveList } from \"@/api/api\";\r\n\r\nimport { debounce } from \"@/utils/debounceAndthrottle\";\r\n// import Cookies from 'js-cookie';\r\nimport Danmaku from \"danmaku\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport default {\r\n  name: \"LiveRoom\",\r\n  components: {\r\n    LiveroomHeader,\r\n    LiveroomGift,\r\n    liveroomChat,\r\n    // LiveroomPaodao,\r\n    liveroomNotice,\r\n    liveroomRank,\r\n    LiveroomLoginDialog,\r\n    liveroomInput,\r\n    LiveroomRecommend,\r\n    liveroomSmallvideo,\r\n    LeftSideBar,\r\n    homeNav,\r\n    loginPop,\r\n    videoPlayer\r\n  },\r\n  data() {\r\n    return {\r\n      flag: 3,\r\n      isFold: true,\r\n      userLogin: {\r\n        // \"id\": \"6806129\",\r\n        // \"token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4LXp5LXVzZXItaWQiOiI2ODA2MTI5IiwiaXNzIjoiemhhbmd5dSIsImV4cCI6MTU3OTUxOTY0MiwiaWF0IjoxNTc4MzEwMDQyfQ.VU2NbKftvSJTRe1tTcXtRoWW4UnGg36gGGbHq3KgSBfhDLNjptkLsYPNyhsU_lpaZJ97Hq4LnA8Q8ThgPmAtnQ\",\r\n        // \"mobile\": \"184****6272\",\r\n        // \"uname\": \"足球精英\",\r\n        // \"status\": 0,\r\n        // \"avatarUrl\": \"https://pic.imifan.live/avatar/2019121013081813608091574583384.jpg\",\r\n        // \"accountDto\": {\r\n        //   \"_id\": \"13183057850163215\",\r\n        //   \"uid\": \"6806129\",\r\n        //   \"cashAccount\": {\r\n        //     \"totalBalance\": 9011,\r\n        //     \"balance\": 9011,\r\n        //     \"frzBalance\": 0,\r\n        //     \"totalRecharge\": 12000,\r\n        //     \"totalWithdrawal\": 10000\r\n        //   },\r\n        //   \"salaryAccount\": {\r\n        //     \"totalBalance\": 6000,\r\n        //     \"balance\": 5000,\r\n        //     \"frzBalance\": 1000,\r\n        //     \"totalRecharge\": 0,\r\n        //     \"totalWithdrawal\": 0\r\n        //   },\r\n        //   \"cashAssets\": 8011,\r\n        //   \"miCoin\": {\r\n        //     \"balance\": 379898800,\r\n        //     \"totalExpend\": 1099998,\r\n        //     \"totalRecharge\": 1099998\r\n        //   },\r\n        //   \"cashTotalRecharge\": 1111998,\r\n        //   \"cashTotalWithdrawal\": 10000\r\n        // },\r\n        // \"isAnchor\": true,\r\n        // \"favorite\": 1,\r\n        // \"wxBindStatus\": \"BIND\",\r\n        // \"wxName\": \"mimo\",\r\n        // \"canEditUname\": true,\r\n        // \"logOutStatus\": \"INAUDIT\"\r\n      },\r\n      liveroom: \"\",\r\n      channelInfo: {}, // 主播信息\r\n      userInfo: {\r\n        channelRoleType: 0,\r\n        follow: false,\r\n        forbid: false,\r\n        forbidEndTime: null\r\n      }, // 用户在当前直播间信息\r\n      giftList: [], // 礼物列表\r\n      giftListToObject: {}, // 礼物列表\r\n      hongbaoList: [], // 红包列表\r\n      recommendList: [], // 推荐列表\r\n      recommendVideo2: [], // 未开播推荐列表\r\n      rankObject: {},\r\n      messageItem: {},\r\n      giftItem: {\r\n        // \"gift\": {\r\n        //   \"anchorId\": \"6919164\",\r\n        //   \"anchorName\": \"冯曦妤\",\r\n        //   \"id\": 12915206930636802,\r\n        //   \"name\": \"浪味仙\",\r\n        //   \"number\": 1,\r\n        //   \"picture\": \"https://pic.imifan.live/gifts/langXianXian/2019101819283913031452620677141.png\",\r\n        //   \"showGift\": true,\r\n        //   \"totalFee\": 10\r\n        // },\r\n        // \"pType\": 0,\r\n        // \"pid\": \"6919164\",\r\n        // \"sign\": \"286403A393C275046C3053CA7EBE4ADD\",\r\n        // \"user\": {\r\n        //   \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\r\n        //   \"id\": \"3486074\",\r\n        //   \"name\": \"晨曦吻月\"\r\n        // }\r\n      },\r\n      msgList: [\r\n        // 四种角色发送弹幕\r\n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000004\",\"user\":{\"role\":0,\"name\":\"春暖花开567\",\"id\":\"10000004\"}},\"_lctype\":-1,\"_lctext\":\"主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1\"},\r\n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":1,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早1\"},\r\n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":2,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早2\"},\r\n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":9,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早3\"},\r\n        // {\"_lcattrs\":{\"gift\":{\"anchorId\":\"6336335\",\"anchorName\":\"老牛解说\",\"id\":12915206930636801,\"name\":\"饭团\",\"number\":1,\"picture\":\"https://pic.imifan.live/gifts/riceBall/2019101819132913031452620677128.png\",\"showGift\":true,\"totalFee\":10},\"pType\":0,\"pid\":\"6336335\",\"sign\":\"F5AE7BF879696F2ECE83AADD2359E229\",\"user\":{\"avatar\":\"https://pic.imifan.live/avatar/2019111210320013250427765727273.jpg\",\"id\":\"6741398\",\"name\":\"凉白开\"}},\"_lctext\":\"12915206930636801\",\"_lctype\":2}, {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":0,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1\"},\r\n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":1,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早1\"},\r\n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":2,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早2\"},\r\n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":9,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早3\"},\r\n        // {\"_lcattrs\":{\"gift\":{\"anchorId\":\"6336335\",\"anchorName\":\"老牛解说\",\"id\":12915206930636801,\"name\":\"饭团\",\"number\":1,\"picture\":\"https://pic.imifan.live/gifts/riceBall/2019101819132913031452620677128.png\",\"showGift\":true,\"totalFee\":10},\"pType\":0,\"pid\":\"6336335\",\"sign\":\"F5AE7BF879696F2ECE83AADD2359E229\",\"user\":{\"avatar\":\"https://pic.imifan.live/avatar/2019111210320013250427765727273.jpg\",\"id\":\"6741398\",\"name\":\"凉白开\"}},\"_lctext\":\"12915206930636801\",\"_lctype\":2},\r\n        // {\r\n        //   \"_lctype\": 1,\r\n        //   \"_lctext\": \"小飞机关注了这个主播\",\r\n        //   \"_lcattrs\": {\r\n        //     \"user\": { \"id\": \"20032019\", \"name\": \"晨曦吻月\", \"role\": 9, \"avatar\": \"xxxxxx\" },\r\n        //     \"sm\": { \"type\": 0 },\r\n        //     \"gift\": { \"id\": 83743784138, \"number\": 12, \"totalFee\": 1200, \"anchorId\": \"726265\" },\r\n        //     \"rw\": { \"type\": 0, \"level\": 0, \"isJump\": 0 },\r\n        //     \"pType\": 0,\r\n        //     \"pid\": \"126712676\"\r\n        //   }\r\n        // },\r\n        // {\r\n        //   \"_lctype\": 1,\r\n        //   \"_lctext\": \"公告\",\r\n        //   \"_lcattrs\": {\r\n        //     \"user\": { \"id\": \"20032019\", \"name\": \"晨曦吻月\", \"role\": 9, \"avatar\": \"xxxxxx\" },\r\n        //     \"sm\": { \"type\": 1 },\r\n        //     \"gift\": { \"id\": 83743784138, \"number\": 12, \"totalFee\": 1200, \"anchorId\": \"726265\" },\r\n        //     \"rw\": { \"type\": 0, \"level\": 0, \"isJump\": 0 },\r\n        //     \"pType\": 0,\r\n        //     \"pid\": \"126712676\"\r\n        //   }\r\n        // },\r\n        // {\r\n        //   \"_lctype\": 5,\r\n        //   \"_lctext\": \"ban\",\r\n        //   \"_lcattrs\": {\r\n        //     \"user\": { \"id\": \"20032019\", \"name\": \"晨曦吻月\", \"role\": 9, \"avatar\": \"xxxxxx\" },\r\n        //     \"sm\": { \"type\": 0 },\r\n        //     \"gift\": { \"id\": 83743784138, \"number\": 12, \"totalFee\": 1200, \"anchorId\": \"726265\" },\r\n        //     \"rw\": { \"type\": 0, \"level\": 0, \"isJump\": 0 },\r\n        //     \"pType\": 0,\r\n        //     \"pid\": \"126712676\"\r\n        //   }\r\n        // },\r\n        // {\r\n        //   \"_lctype\": 1,\r\n        //   \"_lctext\": \"小飞机关注了这个主播\",\r\n        //   \"_lcattrs\": {\r\n        //     \"user\": { \"id\": \"20032019\", \"name\": \"晨曦吻月\", \"role\": 9, \"avatar\": \"xxxxxx\" },\r\n        //     \"sm\": { \"type\": 0 },\r\n        //     \"gift\": { \"id\": 83743784138, \"number\": 12, \"totalFee\": 1200, \"anchorId\": \"726265\" },\r\n        //     \"rw\": { \"type\": 0, \"level\": 0, \"isJump\": 0 },\r\n        //     \"pType\": 0,\r\n        //     \"pid\": \"126712676\"\r\n        //   }\r\n        // }\r\n      ], // 弹幕列表\r\n      danmaku: null, // 视频弹幕\r\n    };\r\n  },\r\n  computed: {\r\n    isLogin() {\r\n      return this.$store.getters.isLogin;\r\n    },\r\n    topNavStyleObj() {\r\n      if (this.isFold) {\r\n          return {\r\n            paddingLeft: `48px`,\r\n            width: `calc(100% - 48px)`,\r\n            minWidth: \"1132px\"\r\n          };\r\n        } else {\r\n          return {\r\n            paddingLeft: `240px`,\r\n            width: `calc(100% - 240px)`,\r\n            minWidth: \"948px\"\r\n          };\r\n        }\r\n    },\r\n    userStatus: {\r\n      get() {\r\n        return this.$store.state.userStatus;\r\n      },\r\n      set(val) {\r\n        return this.$store.commit(\"updateUserStatus\", val);\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    $route() {\r\n      // 对路由变化作出响应\r\n      this.init();\r\n    }\r\n    // isLogin(value) {\r\n    //   // 监听登陆成功 组件暴露功能 暂未使用\r\n    //   if(value) this.init()\r\n    // }\r\n  },\r\n\r\n  created() {\r\n    // let sign = \"123*5\";\r\n    // let md5string = \"12345\";\r\n    //\r\n    // if (sign.indexOf(\"*\") > -1) {\r\n    //   console.log((sign = sign.split(\"*\")[0]), \"sign.split('*')[0]\");\r\n    //   console.log((md5string = md5string.slice(0, sign.length)), \"md5string\");\r\n    // }\r\n    // console.log(md5string === sign);\r\n    // document.cookie = 'xx-user-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4LXp5LXVzZXItaWQiOiIzNDg2MDc0IiwiaXNzIjoiemhhbmd5dSIsImV4cCI6MTU3OTE1NDcyOCwiaWF0IjoxNTc3OTQ1MTI4fQ.fdWr8bgcExT3a7Qr8k-AMEF142FqK09RtqMWAHc4TECvJA7V_gD2F8v7UMsJKhbAspgWdN84byJfh3IALkg70w'\r\n    // Cookies.set('xx-user-token','eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4LXp5LXVzZXItaWQiOiIzNDg2MDc0IiwiaXNzIjoiemhhbmd5dSIsImV4cCI6MTU3OTE1NDcyOCwiaWF0IjoxNTc3OTQ1MTI4fQ.fdWr8bgcExT3a7Qr8k-AMEF142FqK09RtqMWAHc4TECvJA7V_gD2F8v7UMsJKhbAspgWdN84byJfh3IALkg70w')\r\n    this.init();\r\n    // setTimeout(() => {\r\n    //   this.msgList.push({\r\n    //     name: 111,\r\n    //     content: 222222\r\n    //   })\r\n    // },3000)\r\n\r\n    // test chatroom\r\n    // let index = 1;\r\n    // setInterval(() => {\r\n    //   console.log('msgList push');\r\n    //   this.msgList.push({\r\n    //     name: 111,\r\n    //     content: 222222+ index\r\n    //   })\r\n    //   index++\r\n    // },3000)\r\n\r\n    // test 礼物横幅\r\n    // let i = 1;\r\n    // let timer = setInterval(() => {\r\n    //   if (i == 10) clearInterval(timer);\r\n    //   this.giftItem = {\r\n    //     \"gift\": {\r\n    //       \"anchorId\": \"6919164\",\r\n    //       \"anchorName\": \"冯曦妤\",\r\n    //       \"id\": 12915206930636802,\r\n    //       \"name\": \"浪味仙\",\r\n    //       \"number\": 1,\r\n    //       \"picture\": \"https://pic.imifan.live/gifts/langXianXian/2019101819283913031452620677141.png\",\r\n    //       \"showGift\": true,\r\n    //       \"totalFee\": 10 * i\r\n    //     },\r\n    //     \"pType\": 0,\r\n    //     \"pid\": \"6919164\",\r\n    //     \"sign\": \"286403A393C275046C3053CA7EBE4ADD\",\r\n    //     \"user\": {\r\n    //       \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\r\n    //       \"id\": \"3486074\",\r\n    //       \"name\": \"晨曦吻月\"\r\n    //     }\r\n    //   }\r\n    //   i++\r\n    //\r\n    //   console.log('setTimeout-----------------------');\r\n    //   this.getRank();\r\n    //\r\n    // }, 1000)\r\n\r\n    // test 跑道\r\n    // let i = 1;\r\n    // let timer = setInterval(() => {\r\n    //   if (i == 3) clearInterval(timer);\r\n    //   this.msgList.push({\"_lcattrs\":{\"gift\":{\"anchorId\":\"10007878\",\"anchorName\":\"小饭粒_10007878\",\"id\":\"12915206930636816\",\"name\":\"满汉全席\",\"number\":1,\"picture\":\"https://pic.imifan.live/gifts/manchu/2019101819301813031452620677143.png\",\"showGift\":true,\"totalFee\":200000},\"pType\":0,\"pid\":\"10007878\",\"sign\":\"B575A0DA78F8AB6A0A20D4D1546C8279\",\"user\":{\"avatar\":\"https://pic.imifan.live/avatar/2020011612283314054534902399033.jpg\",\"id\":\"6782355\",\"name\":\"fred\"}},\"_lctext\":\"12915206930636816\",\"_lctype\":2})\r\n    // this.messageItem = {\r\n    //   \"_lcattrs\": {\r\n    //     \"pType\": 1,\r\n    //     \"rw\": {\r\n    //       \"anchorId\": \"6144444\",\r\n    //       \"anchorName\": \"不朽少年梦\",\r\n    //       \"duration\": 10000,\r\n    //       \"isJump\": 1,\r\n    //       \"level\": 0,\r\n    //       \"name\": \"糖果庄园\",\r\n    //       \"number\": 2,\r\n    //       \"picture\": \"https://pic.imifan.live/gifts/fruitCastle/2019101819410313031452620677151.png\",\r\n    //       \"times\": 3,\r\n    //       \"type\": 1\r\n    //     },\r\n    //     \"sign\": \"64C3A3E27B5DB6DAFE1F3C46B6D9FEAE\",\r\n    //     \"user\": {\r\n    //       \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\r\n    //       \"id\": \"3486074\",\r\n    //       \"name\": \"晨曦吻月\"\r\n    //     }\r\n    //   }, \"_lctext\": \"晨曦吻月赠送给主播不朽少年梦 2 个 糖果庄园！快来围观吧!\", \"_lctype\": 4\r\n    // }\r\n    //   i++\r\n    //\r\n    //   console.log('setTimeout');\r\n    //\r\n    // }, 1000)\r\n\r\n    // 封禁测试\r\n    // setTimeout(() => {\r\n    //   this.userInfo= {\r\n    //     channelRoleType: 2,\r\n    //     follow: false,\r\n    //     forbid: true,\r\n    //     forbidEndTime: 1577963587139\r\n    //   };\r\n    // },3000)\r\n\r\n    // 红包 测试\r\n    // this.hongbaoList.push({\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"rp\":{\"time\":5000,\"id\":\"3506329\"}},\"_lctype\":3,\"_lctext\":\"主播早\"})\r\n  },\r\n\r\n  mounted() {\r\n    window.addEventListener(\"scroll\", this.handleScroll, true);\r\n    this.$nextTick(() => {\r\n      this.DanmakuInit();\r\n    });\r\n  },\r\n  destroyed() {\r\n    // 移除弹幕和resize监听\r\n    this.danmaku.destroy();\r\n    window.removeEventListener(\"resize\", this.danmakuResize);\r\n  },\r\n  methods: {\r\n    //滚动条\r\n    handleScroll() {\r\n      this.scrollTop = window.pageYOffset;\r\n      console.log(this.scrollTop);\r\n      if (this.scrollTop >= 700) {\r\n        this.videoshow = true;\r\n      } else {\r\n        this.videoshow = false;\r\n      }\r\n    },\r\n    getFoldState() {\r\n      // let leftFoldState = window.sessionStorage.getItem(\"leftFoldState\");\r\n      // this.isFold =\r\n      //   leftFoldState === null || leftFoldState === \"false\" ? false : true;\r\n      this.$nextTick(() => {\r\n        this.$refs.recommend.init();\r\n      });\r\n    },\r\n    DanmakuInit() {\r\n      this.danmaku = new Danmaku({\r\n        // 用于显示弹幕的「舞台」会被添加到该容器中\r\n        container: this.$refs.danmaku,\r\n        // container: this.$refs.dPlayer,\r\n        // container: document.querySelector('#danmaku'),\r\n        // container: document.querySelector('.video-player'),\r\n        // video: document.querySelector('.dplayer-video'),\r\n\r\n        // 弹幕数据数组，在 emit API 中会说明其格式\r\n        comments: [],\r\n\r\n        // 支持 DOM 引擎和 canvas 引擎。canvas 引擎一般比 DOM 更高效，但相对更耗内存。\r\n        // 默认为 DOM 引擎\r\n        // engine: 'canvas',\r\n\r\n        // 弹幕速度，也可以用 speed API 设置\r\n        speed: 105\r\n      });\r\n\r\n      // setInterval(() => {\r\n      //   this.danmaku.emit(comment);\r\n      // },200)\r\n      this.danmakuResize();\r\n      window.addEventListener(\"resize\", this.danmakuResize);\r\n    },\r\n    danmakuResize: debounce(\r\n      function() {\r\n        console.log(this.danmaku);\r\n        this.danmaku.resize();\r\n      },\r\n      200,\r\n      false\r\n    ),\r\n    /**\r\n     * 飘窗弹幕自己的type 对应三种字体\r\n     * 展示的消息类型：\r\n     * -1用户发送的消息、 #ffffff\r\n     * 1欢迎消息、关注消息、#FFC955\r\n     * 2抢红包消息 #FF7F64\r\n     * @param message\r\n     * @param type\r\n     */\r\n    sendDanmaku(message, type) {\r\n      let colorMap = {\r\n        \"-1\": \"#ffffff\",\r\n        1: \"#FFC955\",\r\n        2: \"#FF7F64\"\r\n      };\r\n      let comment = {\r\n        text: message,\r\n\r\n        // 默认为 rtl（从右到左），支持 ltr、rtl、top、bottom。\r\n        mode: \"rtl\",\r\n\r\n        // 在使用 DOM 引擎时，Danmaku 会为每一条弹幕创建一个 <div> 节点，\r\n        // 以下 CSS 样式会直接设置到 div.style 上\r\n        style: {\r\n          // top: '30px',\r\n          zIndex: 10,\r\n          fontSize: \"24px\",\r\n          fontWeight: \"700\",\r\n          opacity: \"0.84\",\r\n          lineHeight: \"33px\",\r\n          color: colorMap[type],\r\n          padding: \"4px 0\",\r\n          textShadow: \"1px 0px 1px rgba(34,34,34,1)\"\r\n        }\r\n\r\n        // 自定义渲染器\r\n        // 当 `render` 字段存在时, `text`, `html`, `style` 和 `canvasStyle` 将被忽略。\r\n\r\n        // 在使用 DOM 引擎时，该函数应当返回一个 HTMLElement。\r\n        // render: function() {\r\n        // var $div = document.createElement('div');\r\n        // var $img = document.createElement('img');\r\n        // $img.src = '/path/to/xxx.png';\r\n        // $div.appendChild($img);\r\n        // return $div;\r\n        // },\r\n        // 在使用 canvas 引擎时，该函数应当返回一个 HTMLCanvasElement。\r\n        // render: function() {\r\n        //   var canvas = document.createElement('canvas');\r\n        //   canvas.width = 320;\r\n        //   canvas.height = 180;\r\n        //   var ctx = canvas.getContext('2d');\r\n        //   ctx.beginPath();\r\n        //   ctx.arc(75, 75, 50, 0, 2 * Math.PI);\r\n        //   ctx.stroke();\r\n        //   return canvas;\r\n        // }\r\n      };\r\n      this.danmaku.emit(comment);\r\n    },\r\n    init() {\r\n      // 左侧边栏当前状态\r\n      // this.getFoldState();\r\n      console.log(6666);\r\n      this.liveroom = this.$route.params.liveroom;\r\n      // if (this.getChannelInfo instanceof Promise) {\r\n      //   console.log(\"yes Promise\");\r\n      // } else console.log(\"no Promise\");\r\n      this.getChannelInfo().then(()=>{\r\n          console.log(\"yes Promise\");\r\n          this.connetConversation();\r\n          this.getrecommendLiveList();\r\n      })      \r\n      this.getGiftList();\r\n      // this.getRanking();\r\n      this.getloginInfo();\r\n      this.enterRoom();\r\n    },\r\n    sendGiftSuccess(data) {\r\n      this.$set(this.userLogin, \"credit\", data.credit);\r\n    },\r\n    // 获取直播间信息\r\n    getloginInfo() {\r\n      if (!this.isLogin) return;\r\n      return loginInfo().then(res => {\r\n        this.userLogin = res.data;\r\n        // this.userStatus.userInfo.balance = res.data.accountDto.miCoin.balance\r\n        // console.log('this.userStatus.userInfo.balance',this.userStatus.userInfo.balance)\r\n        console.log(\"直播间-个人信息\", res);\r\n      });\r\n    },\r\n    // 当前用户进入直播间的信息\r\n    enterRoom() {\r\n      // if (!this.isLogin) return;\r\n      return enterRoom({ cid: this.liveroom }).then(res => {\r\n        this.userInfo = res.data;\r\n        console.log(res);\r\n      });\r\n    },\r\n    // 获取直播间信息\r\n    getChannelInfo() {\r\n    return channelInfo({ cid: this.liveroom }).then(res => {\r\n           this.channelInfo = res.data;\r\n           document.title = this.channelInfo.name;\r\n           console.log(112233);\r\n           console.log(res);\r\n        });\r\n    },\r\n    // 获取推荐列表\r\n    getrecommendLiveList() {\r\n      return recommendLiveList(\r\n        {\r\n          recommendAnchorType: \"SEARCH_PAGE\"\r\n          // size: 10,\r\n        },\r\n        {}\r\n      ).then(res => {\r\n        // 未开播\r\n        if (this.channelInfo.playStatusCode == 905) {\r\n          console.log('1')\r\n          this.recommendVideo2 = res.data.slice(0, 2);\r\n          this.recommendList = res.data.slice(2);\r\n        } else {\r\n          this.recommendList = res.data;\r\n        }\r\n        console.log(res);\r\n      });\r\n    },\r\n    // 礼物列表\r\n    getGiftList() {\r\n      return getGiftList().then(res => {\r\n        this.giftList = res.data;\r\n        // this.giftList = [res.data[0],res.data[0],res.data[0],res.data[0],res.data[0],res.data[0],res.data[0],res.data[0]];\r\n\r\n        res.data.forEach(item => {\r\n          this.$set(this.giftListToObject, item.id, item);\r\n        });\r\n        console.log(res);\r\n      });\r\n    },\r\n    // 榜单\r\n    getRanking() {\r\n      return queryRoomRanking({ anchorId: this.liveroom, type: 0 }).then(res => {\r\n        this.rankObject = res.data;\r\n      });\r\n    },\r\n    // 节流处理 更新榜单\r\n    getRank: debounce(\r\n      function() {\r\n        this.getRanking();\r\n      },\r\n      1000,\r\n      false\r\n    ),\r\n    // 弹幕初始化\r\n    connetConversation() {\r\n      var error;\r\n      // throw error;那我不知道你用yarn就有了\r\n      console.log(\"链接聊天室-用户信息\", this.userStatus);\r\n      let clientId = \"CHAT_VISITOR_\" + uuidv4();\r\n      if (this.isLogin) {\r\n        clientId = \"CHAT_USER_\" + this.userStatus.userInfo.uid;\r\n      }\r\n      console.log(\"链接聊天室clientId\", clientId);\r\n      Chat.getChatRoom(clientId, this.channelInfo.chatRooms[0]).then(\r\n        // test--加入签名\r\n        conversation => {\r\n          console.log(conversation, \"conversation\");\r\n          this.msgList.push({\r\n            _lctype: 1,\r\n            // _lctext: `欢迎来到秘饭直播${ this.channelInfo.uname }的直播间，监播人员将对直播间进行24小时巡查，禁止传播任何违法、违规、低俗、暴力等不良信息的行为。`\r\n            _lctext: `爱球禁止未成年人送礼等付费行为、严禁主播诱导未成年人消费。如直播间出现违法违规、色情低俗、赌博、诱导欺诈等行为，请及时举报。管理员24小时在线巡查并接受举报。`\r\n          });\r\n          // this.sendDanmaku(`欢迎来到秘饭直播${ this.channelInfo.uname }的直播间，直播间依法对直播内容进行24小时巡查，禁止任何传播违章、违规、低俗、暴力等不良信息的行为。`, 1)\r\n          try {\r\n            // 正常交互\r\n            conversation.on(event.MESSAGE, message => {\r\n              console.log(\"event.MESSAGE\", event.MESSAGE);\r\n              console.log(\"message\", message);\r\n              console.log(\"message.content\", message.content);\r\n              console.log(\r\n                message.content,\r\n                \"contentcontentcontentcontentcontent\"\r\n              );\r\n              console.log(\r\n                message.content._lctext,\r\n                \"messagemessagemessagemessagemessage\"\r\n              );\r\n              this.assignedMessage(message.content);\r\n            });\r\n            // // 弹出提示，告知当前用户的 clientId 在其他设备上登录了\r\n            conversation.on(event.CONFLICT, function() {\r\n              // TODO 互踢啦\r\n              console.log(\"互踢啦\");\r\n            });\r\n          } catch (error) {\r\n            console.log(\"弹幕服务器加载失败\");\r\n          }\r\n        }\r\n      );\r\n    },\r\n    // 分配弹幕返回数据\r\n    assignedMessage(message) {\r\n      let text = message._lctext;\r\n      let type = message._lctype;\r\n      let md5String = md5Secret(text);\r\n      let sign = message._lcattrs.sign;\r\n      /**\r\n       * 因为加密的字符串含有leanCloud的屏蔽词, 会被转化为*, 所以各个客户端需要增加以下逻辑\r\n       * 第一步: 判断字符串中是否包含*: 不包含直接对比\r\n       * 第二步: 如果包含*, 则判断*是否为第一个, 如果是第一个则不进行对比,直接展示\r\n       * 第三步: 如果不是第一个则切割字符串, 获取*前面的部分, 然后和本地截取相同长度然后在进行对比\r\n       */\r\n      if (sign.indexOf(\"*\") > -1) {\r\n        sign = sign.split(\"*\")[0];\r\n        md5String = md5String.slice(0, sign.length);\r\n\r\n        console.log(sign, \"sign\");\r\n        console.log(md5String, \"md5string\");\r\n      }\r\n      console.log(md5String === sign, \"md5String === sign\");\r\n      if (md5String === sign && md5String !== \"false\") {\r\n        console.log(\"receive message:\" + text);\r\n        // 弹幕文案\r\n        if (type === -1 || type === 1 || type === 2 || type === 5) {\r\n          this.msgList.push(JSON.parse(JSON.stringify(message)));\r\n        }\r\n        // 飘窗弹幕\r\n        if (type === -1) {\r\n          this.sendDanmaku(text, \"-1\");\r\n        }\r\n        if (type === 1) {\r\n          this.sendDanmaku(text, message._lcattrs.sm === 0 ? 2 : 1);\r\n        }\r\n        // 禁言 判断的是不是当前登陆用户\r\n        if (type === 5 && message._lcattrs.fb.uid === this.userLogin.id) {\r\n          this.enterRoom();\r\n        }\r\n        // 设置房管 判断的是不是当前登陆用户\r\n        if (type === 6 && message._lcattrs.manager.id === this.userLogin.id) {\r\n          this.enterRoom();\r\n        }\r\n        // 礼物\r\n        if (type === 2) {\r\n          this.giftItem = JSON.parse(JSON.stringify(message._lcattrs));\r\n          // this.getRank();\r\n        }\r\n        // 红包\r\n        if (type === 3) {\r\n          this.hongbaoList.push(JSON.parse(JSON.stringify(message)));\r\n        }\r\n        // 跑道\r\n        if (type === 4) {\r\n          this.messageItem = JSON.parse(JSON.stringify(message));\r\n        }\r\n      }\r\n    },\r\n    // 发送消息\r\n    sendMsg(msg) {\r\n      console.log(msg, \"sendMsg\");\r\n      let sign = md5Secret(msg);\r\n      let params = {\r\n        user: {\r\n          id: this.userLogin.id,\r\n          name: this.userLogin.uname,\r\n          role: this.userInfo.channelRoleType,\r\n          avatar: this.userLogin.avatarUrl\r\n        },\r\n        pType: 0,\r\n        pid: this.liveroom,\r\n        lcuid: `CHAT_USER_${this.userLogin.id}`,\r\n        sign\r\n      };\r\n      Chat.sendMsg(msg, params).then(() => {\r\n        console.log(\"success\");\r\n        this.msgList.push({\r\n          _lcattrs: {\r\n            user: {\r\n              role: this.userInfo.channelRoleType,\r\n              name: this.userLogin.uname,\r\n              id: this.userLogin.id,\r\n              avatar: this.userLogin.avatarUrl\r\n            }\r\n          },\r\n          _lctype: -1,\r\n          _lctext: msg\r\n        });\r\n        this.sendDanmaku(msg, \"-1\");\r\n      });\r\n    },\r\n    login() {\r\n      // 展示登陆弹窗\r\n      this.$refs.login.openLoginDialog();\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/css/_index.scss\";\r\n\r\n.video-player {\r\n  /*position: absolute;*/\r\n  /*width: 100%;*/\r\n  /*height:100%;*/\r\n}\r\n\r\n.topNav {\r\n  position: fixed;\r\n  z-index: $z-index1;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  min-width: 948px;\r\n  padding-left: 240px;\r\n  // transition: all 0.5s;\r\n  background-color: #fff;\r\n}\r\n\r\n.main-header {\r\n  position: fixed;\r\n  z-index: 21;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n\r\n  ::v-deep.home-nav {\r\n    /*width: calc(100% - 480px);*/\r\n    /*margin: 0 240px;*/\r\n    /*box-sizing:border-box;*/\r\n  }\r\n}\r\n\r\n.main-container {\r\n  padding-left: 240px;\r\n\r\n  &.fold {\r\n    padding-left: 48px;\r\n  }\r\n}\r\n\r\n.liveroom {\r\n  position: relative;\r\n  padding-top: 60px;\r\n  padding-right: 370px;\r\n\r\n  background-color: $bg-main;\r\n  @extend %clearfix;\r\n}\r\n\r\n.main-wrap {\r\n  margin: 20px 20px 20px 35px;\r\n  min-width: 535px;\r\n  // float:left;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.chat-wrap {\r\n  position: fixed;\r\n  z-index: 3;\r\n  right: 0;\r\n  top: 80px;\r\n  overflow: hidden;\r\n  border-radius: 10px;\r\n  width: 370px;\r\n  height: 100%;\r\n\r\n  background-color: #fff;\r\n\r\n  border: 1px solid $color-border;\r\n  border-top: 0px solid $color-border;\r\n  border-right: 0px solid $color-border;\r\n}\r\n\r\n.empty {\r\n  position: relative;\r\n  /*height: 350px;*/\r\n  background-color: #ccc;\r\n  // hack 更改弹幕定位方式 保证视频在文档流内\r\n  & > ::v-deep div:not(:only-child):last-of-type {\r\n    position: absolute !important;\r\n    z-index: 19 !important;\r\n    top: 0 !important;\r\n    /*background-color: red!important;*/\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}