{"remainingRequest":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/babel-loader/lib/index.js!/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/src/views/Liveroom.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/src/views/Liveroom.vue","mtime":1596600786422},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js","mtime":1595570902420},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/babel-loader/lib/index.js","mtime":1595570901804},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js","mtime":1595570902420},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/vue-loader/lib/index.js","mtime":1595570907990}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBMaXZlcm9vbUhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvbGl2ZXJvb20vTGl2ZXJvb21IZWFkZXIiOwppbXBvcnQgTGl2ZXJvb21HaWZ0IGZyb20gIkAvY29tcG9uZW50cy9saXZlcm9vbS9MaXZlcm9vbUdpZnQiOwppbXBvcnQgbGl2ZXJvb21Ob3RpY2UgZnJvbSAiQC9jb21wb25lbnRzL2xpdmVyb29tL0xpdmVyb29tTm90aWNlIjsgLy8gaW1wb3J0IGxpdmVyb29tUmFuayBmcm9tICJAL2NvbXBvbmVudHMvbGl2ZXJvb20vTGl2ZXJvb21SYW5rIjsKCmltcG9ydCBsaXZlcm9vbUlucHV0IGZyb20gIkAvY29tcG9uZW50cy9saXZlcm9vbS9MaXZlcm9vbUlucHV0IjsKaW1wb3J0IGxpdmVyb29tQ2hhdCBmcm9tICJAL2NvbXBvbmVudHMvbGl2ZXJvb20vTGl2ZXJvb21DaGF0IjsgLy8gaW1wb3J0IExpdmVyb29tUGFvZGFvIGZyb20gIkAvY29tcG9uZW50cy9saXZlcm9vbS9MaXZlcm9vbVBhb2RhbyI7CgppbXBvcnQgTGl2ZXJvb21Mb2dpbkRpYWxvZyBmcm9tICJAL2NvbXBvbmVudHMvbGl2ZXJvb20vTGl2ZXJvb21Mb2dpbkRpYWxvZyI7CmltcG9ydCBMaXZlcm9vbVJlY29tbWVuZCBmcm9tICJAL2NvbXBvbmVudHMvbGl2ZXJvb20vTGl2ZXJvb21SZWNvbW1lbmQiOwppbXBvcnQgbGl2ZXJvb21TbWFsbHZpZGVvIGZyb20gIkAvY29tcG9uZW50cy9saXZlcm9vbS9saXZlcm9vbVNtYWxsdmlkZW8udnVlIjsKaW1wb3J0IExlZnRTaWRlQmFyIGZyb20gIkAvY29tcG9uZW50cy9sZWZ0LXNpZGUtYmFyLnZ1ZSI7CmltcG9ydCBob21lTmF2IGZyb20gIkAvdmlld3MvaG9tZS9ob21lTmF2LnZ1ZSI7CmltcG9ydCBsb2dpblBvcCBmcm9tICJAL2NvbXBvbmVudHMvbG9naW4vbG9naW5UaXBQb3B1cC52dWUiOwppbXBvcnQgdmlkZW9QbGF5ZXIgZnJvbSAiQC9jb21wb25lbnRzL3ZpZGVvL3ZpZGVvUGxheWVyLnZ1ZSI7CmltcG9ydCB7IG1kNVNlY3JldCB9IGZyb20gIkAvdXRpbHMvbWQ1LmpzIjsKaW1wb3J0ICogYXMgQ2hhdCBmcm9tICJAL3V0aWxzL2NoYXQuanMiOwppbXBvcnQgeyBldmVudCB9IGZyb20gIkAvdXRpbHMvbGVhbmNsb3VkLmpzIjsKaW1wb3J0IHsgcXVlcnlSb29tUmFua2luZywgY2hhbm5lbEluZm8sIGVudGVyUm9vbSBhcyBfZW50ZXJSb29tLCBnZXRHaWZ0TGlzdCBhcyBfZ2V0R2lmdExpc3QsIGxvZ2luSW5mbyB9IGZyb20gIkAvYXBpL2xpdmVyb29tIjsKaW1wb3J0IHsgcmVjb21tZW5kTGl2ZUxpc3QgfSBmcm9tICJAL2FwaS9hcGkiOwppbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gIkAvdXRpbHMvZGVib3VuY2VBbmR0aHJvdHRsZSI7IC8vIGltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZSc7CgppbXBvcnQgRGFubWFrdSBmcm9tICJkYW5tYWt1IjsKaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAidXVpZCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTGl2ZVJvb20iLAogIGNvbXBvbmVudHM6IHsKICAgIExpdmVyb29tSGVhZGVyOiBMaXZlcm9vbUhlYWRlciwKICAgIExpdmVyb29tR2lmdDogTGl2ZXJvb21HaWZ0LAogICAgbGl2ZXJvb21DaGF0OiBsaXZlcm9vbUNoYXQsCiAgICAvLyBMaXZlcm9vbVBhb2RhbywKICAgIGxpdmVyb29tTm90aWNlOiBsaXZlcm9vbU5vdGljZSwKICAgIC8vIGxpdmVyb29tUmFuaywKICAgIExpdmVyb29tTG9naW5EaWFsb2c6IExpdmVyb29tTG9naW5EaWFsb2csCiAgICBsaXZlcm9vbUlucHV0OiBsaXZlcm9vbUlucHV0LAogICAgTGl2ZXJvb21SZWNvbW1lbmQ6IExpdmVyb29tUmVjb21tZW5kLAogICAgbGl2ZXJvb21TbWFsbHZpZGVvOiBsaXZlcm9vbVNtYWxsdmlkZW8sCiAgICBMZWZ0U2lkZUJhcjogTGVmdFNpZGVCYXIsCiAgICBob21lTmF2OiBob21lTmF2LAogICAgbG9naW5Qb3A6IGxvZ2luUG9wLAogICAgdmlkZW9QbGF5ZXI6IHZpZGVvUGxheWVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmxhZzogMywKICAgICAgaXNGb2xkOiB0cnVlLAogICAgICB1c2VyTG9naW46IHsvLyAiaWQiOiAiNjgwNjEyOSIsCiAgICAgICAgLy8gInRva2VuIjogImV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSklVelV4TWlKOS5leUo0TFhwNUxYVnpaWEl0YVdRaU9pSTJPREEyTVRJNUlpd2lhWE56SWpvaWVtaGhibWQ1ZFNJc0ltVjRjQ0k2TVRVM09UVXhPVFkwTWl3aWFXRjBJam94TlRjNE16RXdNRFF5ZlEuVlUyTmJLZnR2U0pUUmUxdFRjWHRSb1dXNFVuR2czNmdHR2JIcTNLZ1NCZmhETE5qcHRrTHNZUE55aHNVX2xwYVpKOTdIcTRMbkE4UThUaGdQbUF0blEiLAogICAgICAgIC8vICJtb2JpbGUiOiAiMTg0KioqKjYyNzIiLAogICAgICAgIC8vICJ1bmFtZSI6ICLotrPnkIPnsr7oi7EiLAogICAgICAgIC8vICJzdGF0dXMiOiAwLAogICAgICAgIC8vICJhdmF0YXJVcmwiOiAiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvYXZhdGFyLzIwMTkxMjEwMTMwODE4MTM2MDgwOTE1NzQ1ODMzODQuanBnIiwKICAgICAgICAvLyAiYWNjb3VudER0byI6IHsKICAgICAgICAvLyAgICJfaWQiOiAiMTMxODMwNTc4NTAxNjMyMTUiLAogICAgICAgIC8vICAgInVpZCI6ICI2ODA2MTI5IiwKICAgICAgICAvLyAgICJjYXNoQWNjb3VudCI6IHsKICAgICAgICAvLyAgICAgInRvdGFsQmFsYW5jZSI6IDkwMTEsCiAgICAgICAgLy8gICAgICJiYWxhbmNlIjogOTAxMSwKICAgICAgICAvLyAgICAgImZyekJhbGFuY2UiOiAwLAogICAgICAgIC8vICAgICAidG90YWxSZWNoYXJnZSI6IDEyMDAwLAogICAgICAgIC8vICAgICAidG90YWxXaXRoZHJhd2FsIjogMTAwMDAKICAgICAgICAvLyAgIH0sCiAgICAgICAgLy8gICAic2FsYXJ5QWNjb3VudCI6IHsKICAgICAgICAvLyAgICAgInRvdGFsQmFsYW5jZSI6IDYwMDAsCiAgICAgICAgLy8gICAgICJiYWxhbmNlIjogNTAwMCwKICAgICAgICAvLyAgICAgImZyekJhbGFuY2UiOiAxMDAwLAogICAgICAgIC8vICAgICAidG90YWxSZWNoYXJnZSI6IDAsCiAgICAgICAgLy8gICAgICJ0b3RhbFdpdGhkcmF3YWwiOiAwCiAgICAgICAgLy8gICB9LAogICAgICAgIC8vICAgImNhc2hBc3NldHMiOiA4MDExLAogICAgICAgIC8vICAgIm1pQ29pbiI6IHsKICAgICAgICAvLyAgICAgImJhbGFuY2UiOiAzNzk4OTg4MDAsCiAgICAgICAgLy8gICAgICJ0b3RhbEV4cGVuZCI6IDEwOTk5OTgsCiAgICAgICAgLy8gICAgICJ0b3RhbFJlY2hhcmdlIjogMTA5OTk5OAogICAgICAgIC8vICAgfSwKICAgICAgICAvLyAgICJjYXNoVG90YWxSZWNoYXJnZSI6IDExMTE5OTgsCiAgICAgICAgLy8gICAiY2FzaFRvdGFsV2l0aGRyYXdhbCI6IDEwMDAwCiAgICAgICAgLy8gfSwKICAgICAgICAvLyAiaXNBbmNob3IiOiB0cnVlLAogICAgICAgIC8vICJmYXZvcml0ZSI6IDEsCiAgICAgICAgLy8gInd4QmluZFN0YXR1cyI6ICJCSU5EIiwKICAgICAgICAvLyAid3hOYW1lIjogIm1pbW8iLAogICAgICAgIC8vICJjYW5FZGl0VW5hbWUiOiB0cnVlLAogICAgICAgIC8vICJsb2dPdXRTdGF0dXMiOiAiSU5BVURJVCIKICAgICAgfSwKICAgICAgbGl2ZXJvb206ICIiLAogICAgICBjaGFubmVsSW5mbzoge30sCiAgICAgIC8vIOS4u+aSreS/oeaBrwogICAgICB1c2VySW5mbzogewogICAgICAgIGNoYW5uZWxSb2xlVHlwZTogMCwKICAgICAgICBmb2xsb3c6IGZhbHNlLAogICAgICAgIGZvcmJpZDogZmFsc2UsCiAgICAgICAgZm9yYmlkRW5kVGltZTogbnVsbAogICAgICB9LAogICAgICAvLyDnlKjmiLflnKjlvZPliY3nm7Tmkq3pl7Tkv6Hmga8KICAgICAgZ2lmdExpc3Q6IFtdLAogICAgICAvLyDnpLznianliJfooagKICAgICAgZ2lmdExpc3RUb09iamVjdDoge30sCiAgICAgIC8vIOekvOeJqeWIl+ihqAogICAgICBob25nYmFvTGlzdDogW10sCiAgICAgIC8vIOe6ouWMheWIl+ihqAogICAgICByZWNvbW1lbmRMaXN0OiBbXSwKICAgICAgLy8g5o6o6I2Q5YiX6KGoCiAgICAgIHJlY29tbWVuZFZpZGVvMjogW10sCiAgICAgIC8vIOacquW8gOaSreaOqOiNkOWIl+ihqAogICAgICByYW5rT2JqZWN0OiB7fSwKICAgICAgbWVzc2FnZUl0ZW06IHt9LAogICAgICBnaWZ0SXRlbTogey8vICJnaWZ0IjogewogICAgICAgIC8vICAgImFuY2hvcklkIjogIjY5MTkxNjQiLAogICAgICAgIC8vICAgImFuY2hvck5hbWUiOiAi5Yav5pum5aakIiwKICAgICAgICAvLyAgICJpZCI6IDEyOTE1MjA2OTMwNjM2ODAyLAogICAgICAgIC8vICAgIm5hbWUiOiAi5rWq5ZGz5LuZIiwKICAgICAgICAvLyAgICJudW1iZXIiOiAxLAogICAgICAgIC8vICAgInBpY3R1cmUiOiAiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvZ2lmdHMvbGFuZ1hpYW5YaWFuLzIwMTkxMDE4MTkyODM5MTMwMzE0NTI2MjA2NzcxNDEucG5nIiwKICAgICAgICAvLyAgICJzaG93R2lmdCI6IHRydWUsCiAgICAgICAgLy8gICAidG90YWxGZWUiOiAxMAogICAgICAgIC8vIH0sCiAgICAgICAgLy8gInBUeXBlIjogMCwKICAgICAgICAvLyAicGlkIjogIjY5MTkxNjQiLAogICAgICAgIC8vICJzaWduIjogIjI4NjQwM0EzOTNDMjc1MDQ2QzMwNTNDQTdFQkU0QUREIiwKICAgICAgICAvLyAidXNlciI6IHsKICAgICAgICAvLyAgICJhdmF0YXIiOiAiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvYXZhdGFyLzIwMTkxMDMxMTk0NTUxMTMxODMwNTc4NTAxNjMyMDkucG5nIiwKICAgICAgICAvLyAgICJpZCI6ICIzNDg2MDc0IiwKICAgICAgICAvLyAgICJuYW1lIjogIuaZqOabpuWQu+aciCIKICAgICAgICAvLyB9CiAgICAgIH0sCiAgICAgIG1zZ0xpc3Q6IFsvLyDlm5vnp43op5LoibLlj5HpgIHlvLnluZUKICAgICAgICAvLyB7Il9sY2F0dHJzIjp7InBUeXBlIjowLCJzaWduIjoiMzdEOTEwOUUzMDU3MDUzNzVBMjk2MEJFQjMwMDAyMjIiLCJsY3VpZCI6IkNIQVRfVVNFUl8zNTA2MzI5IiwicGlkIjoiMTAwMDAwMDQiLCJ1c2VyIjp7InJvbGUiOjAsIm5hbWUiOiLmmKXmmpboirHlvIA1NjciLCJpZCI6IjEwMDAwMDA0In19LCJfbGN0eXBlIjotMSwiX2xjdGV4dCI6IuS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kxIn0sCiAgICAgICAgLy8geyJfbGNhdHRycyI6eyJwVHlwZSI6MCwic2lnbiI6IjM3RDkxMDlFMzA1NzA1Mzc1QTI5NjBCRUIzMDAwMjIyIiwibGN1aWQiOiJDSEFUX1VTRVJfMzUwNjMyOSIsInBpZCI6IjEwMDAwMTU3IiwidXNlciI6eyJyb2xlIjoxLCJuYW1lIjoi5pil5pqW6Iqx5byANTY3IiwiaWQiOiIzNTA2MzI5In19LCJfbGN0eXBlIjotMSwiX2xjdGV4dCI6IuS4u+aSreaXqTEifSwKICAgICAgICAvLyB7Il9sY2F0dHJzIjp7InBUeXBlIjowLCJzaWduIjoiMzdEOTEwOUUzMDU3MDUzNzVBMjk2MEJFQjMwMDAyMjIiLCJsY3VpZCI6IkNIQVRfVVNFUl8zNTA2MzI5IiwicGlkIjoiMTAwMDAxNTciLCJ1c2VyIjp7InJvbGUiOjIsIm5hbWUiOiLmmKXmmpboirHlvIA1NjciLCJpZCI6IjM1MDYzMjkifX0sIl9sY3R5cGUiOi0xLCJfbGN0ZXh0Ijoi5Li75pKt5pepMiJ9LAogICAgICAgIC8vIHsiX2xjYXR0cnMiOnsicFR5cGUiOjAsInNpZ24iOiIzN0Q5MTA5RTMwNTcwNTM3NUEyOTYwQkVCMzAwMDIyMiIsImxjdWlkIjoiQ0hBVF9VU0VSXzM1MDYzMjkiLCJwaWQiOiIxMDAwMDE1NyIsInVzZXIiOnsicm9sZSI6OSwibmFtZSI6IuaYpeaaluiKseW8gDU2NyIsImlkIjoiMzUwNjMyOSJ9fSwiX2xjdHlwZSI6LTEsIl9sY3RleHQiOiLkuLvmkq3ml6kzIn0sCiAgICAgICAgLy8geyJfbGNhdHRycyI6eyJnaWZ0Ijp7ImFuY2hvcklkIjoiNjMzNjMzNSIsImFuY2hvck5hbWUiOiLogIHniZvop6Por7QiLCJpZCI6MTI5MTUyMDY5MzA2MzY4MDEsIm5hbWUiOiLppa3lm6IiLCJudW1iZXIiOjEsInBpY3R1cmUiOiJodHRwczovL3BpYy5pbWlmYW4ubGl2ZS9naWZ0cy9yaWNlQmFsbC8yMDE5MTAxODE5MTMyOTEzMDMxNDUyNjIwNjc3MTI4LnBuZyIsInNob3dHaWZ0Ijp0cnVlLCJ0b3RhbEZlZSI6MTB9LCJwVHlwZSI6MCwicGlkIjoiNjMzNjMzNSIsInNpZ24iOiJGNUFFN0JGODc5Njk2RjJFQ0U4M0FBREQyMzU5RTIyOSIsInVzZXIiOnsiYXZhdGFyIjoiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvYXZhdGFyLzIwMTkxMTEyMTAzMjAwMTMyNTA0Mjc3NjU3MjcyNzMuanBnIiwiaWQiOiI2NzQxMzk4IiwibmFtZSI6IuWHieeZveW8gCJ9fSwiX2xjdGV4dCI6IjEyOTE1MjA2OTMwNjM2ODAxIiwiX2xjdHlwZSI6Mn0sIHsiX2xjYXR0cnMiOnsicFR5cGUiOjAsInNpZ24iOiIzN0Q5MTA5RTMwNTcwNTM3NUEyOTYwQkVCMzAwMDIyMiIsImxjdWlkIjoiQ0hBVF9VU0VSXzM1MDYzMjkiLCJwaWQiOiIxMDAwMDE1NyIsInVzZXIiOnsicm9sZSI6MCwibmFtZSI6IuaYpeaaluiKseW8gDU2NyIsImlkIjoiMzUwNjMyOSJ9fSwiX2xjdHlwZSI6LTEsIl9sY3RleHQiOiLkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMSJ9LAogICAgICAgIC8vIHsiX2xjYXR0cnMiOnsicFR5cGUiOjAsInNpZ24iOiIzN0Q5MTA5RTMwNTcwNTM3NUEyOTYwQkVCMzAwMDIyMiIsImxjdWlkIjoiQ0hBVF9VU0VSXzM1MDYzMjkiLCJwaWQiOiIxMDAwMDE1NyIsInVzZXIiOnsicm9sZSI6MSwibmFtZSI6IuaYpeaaluiKseW8gDU2NyIsImlkIjoiMzUwNjMyOSJ9fSwiX2xjdHlwZSI6LTEsIl9sY3RleHQiOiLkuLvmkq3ml6kxIn0sCiAgICAgICAgLy8geyJfbGNhdHRycyI6eyJwVHlwZSI6MCwic2lnbiI6IjM3RDkxMDlFMzA1NzA1Mzc1QTI5NjBCRUIzMDAwMjIyIiwibGN1aWQiOiJDSEFUX1VTRVJfMzUwNjMyOSIsInBpZCI6IjEwMDAwMTU3IiwidXNlciI6eyJyb2xlIjoyLCJuYW1lIjoi5pil5pqW6Iqx5byANTY3IiwiaWQiOiIzNTA2MzI5In19LCJfbGN0eXBlIjotMSwiX2xjdGV4dCI6IuS4u+aSreaXqTIifSwKICAgICAgICAvLyB7Il9sY2F0dHJzIjp7InBUeXBlIjowLCJzaWduIjoiMzdEOTEwOUUzMDU3MDUzNzVBMjk2MEJFQjMwMDAyMjIiLCJsY3VpZCI6IkNIQVRfVVNFUl8zNTA2MzI5IiwicGlkIjoiMTAwMDAxNTciLCJ1c2VyIjp7InJvbGUiOjksIm5hbWUiOiLmmKXmmpboirHlvIA1NjciLCJpZCI6IjM1MDYzMjkifX0sIl9sY3R5cGUiOi0xLCJfbGN0ZXh0Ijoi5Li75pKt5pepMyJ9LAogICAgICAgIC8vIHsiX2xjYXR0cnMiOnsiZ2lmdCI6eyJhbmNob3JJZCI6IjYzMzYzMzUiLCJhbmNob3JOYW1lIjoi6ICB54mb6Kej6K+0IiwiaWQiOjEyOTE1MjA2OTMwNjM2ODAxLCJuYW1lIjoi6aWt5ZuiIiwibnVtYmVyIjoxLCJwaWN0dXJlIjoiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvZ2lmdHMvcmljZUJhbGwvMjAxOTEwMTgxOTEzMjkxMzAzMTQ1MjYyMDY3NzEyOC5wbmciLCJzaG93R2lmdCI6dHJ1ZSwidG90YWxGZWUiOjEwfSwicFR5cGUiOjAsInBpZCI6IjYzMzYzMzUiLCJzaWduIjoiRjVBRTdCRjg3OTY5NkYyRUNFODNBQUREMjM1OUUyMjkiLCJ1c2VyIjp7ImF2YXRhciI6Imh0dHBzOi8vcGljLmltaWZhbi5saXZlL2F2YXRhci8yMDE5MTExMjEwMzIwMDEzMjUwNDI3NzY1NzI3MjczLmpwZyIsImlkIjoiNjc0MTM5OCIsIm5hbWUiOiLlh4nnmb3lvIAifX0sIl9sY3RleHQiOiIxMjkxNTIwNjkzMDYzNjgwMSIsIl9sY3R5cGUiOjJ9LAogICAgICAgIC8vIHsKICAgICAgICAvLyAgICJfbGN0eXBlIjogMSwKICAgICAgICAvLyAgICJfbGN0ZXh0IjogIuWwj+mjnuacuuWFs+azqOS6hui/meS4quS4u+aSrSIsCiAgICAgICAgLy8gICAiX2xjYXR0cnMiOiB7CiAgICAgICAgLy8gICAgICJ1c2VyIjogeyAiaWQiOiAiMjAwMzIwMTkiLCAibmFtZSI6ICLmmajmm6blkLvmnIgiLCAicm9sZSI6IDksICJhdmF0YXIiOiAieHh4eHh4IiB9LAogICAgICAgIC8vICAgICAic20iOiB7ICJ0eXBlIjogMCB9LAogICAgICAgIC8vICAgICAiZ2lmdCI6IHsgImlkIjogODM3NDM3ODQxMzgsICJudW1iZXIiOiAxMiwgInRvdGFsRmVlIjogMTIwMCwgImFuY2hvcklkIjogIjcyNjI2NSIgfSwKICAgICAgICAvLyAgICAgInJ3IjogeyAidHlwZSI6IDAsICJsZXZlbCI6IDAsICJpc0p1bXAiOiAwIH0sCiAgICAgICAgLy8gICAgICJwVHlwZSI6IDAsCiAgICAgICAgLy8gICAgICJwaWQiOiAiMTI2NzEyNjc2IgogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gewogICAgICAgIC8vICAgIl9sY3R5cGUiOiAxLAogICAgICAgIC8vICAgIl9sY3RleHQiOiAi5YWs5ZGKIiwKICAgICAgICAvLyAgICJfbGNhdHRycyI6IHsKICAgICAgICAvLyAgICAgInVzZXIiOiB7ICJpZCI6ICIyMDAzMjAxOSIsICJuYW1lIjogIuaZqOabpuWQu+aciCIsICJyb2xlIjogOSwgImF2YXRhciI6ICJ4eHh4eHgiIH0sCiAgICAgICAgLy8gICAgICJzbSI6IHsgInR5cGUiOiAxIH0sCiAgICAgICAgLy8gICAgICJnaWZ0IjogeyAiaWQiOiA4Mzc0Mzc4NDEzOCwgIm51bWJlciI6IDEyLCAidG90YWxGZWUiOiAxMjAwLCAiYW5jaG9ySWQiOiAiNzI2MjY1IiB9LAogICAgICAgIC8vICAgICAicnciOiB7ICJ0eXBlIjogMCwgImxldmVsIjogMCwgImlzSnVtcCI6IDAgfSwKICAgICAgICAvLyAgICAgInBUeXBlIjogMCwKICAgICAgICAvLyAgICAgInBpZCI6ICIxMjY3MTI2NzYiCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfSwKICAgICAgICAvLyB7CiAgICAgICAgLy8gICAiX2xjdHlwZSI6IDUsCiAgICAgICAgLy8gICAiX2xjdGV4dCI6ICJiYW4iLAogICAgICAgIC8vICAgIl9sY2F0dHJzIjogewogICAgICAgIC8vICAgICAidXNlciI6IHsgImlkIjogIjIwMDMyMDE5IiwgIm5hbWUiOiAi5pmo5pum5ZC75pyIIiwgInJvbGUiOiA5LCAiYXZhdGFyIjogInh4eHh4eCIgfSwKICAgICAgICAvLyAgICAgInNtIjogeyAidHlwZSI6IDAgfSwKICAgICAgICAvLyAgICAgImdpZnQiOiB7ICJpZCI6IDgzNzQzNzg0MTM4LCAibnVtYmVyIjogMTIsICJ0b3RhbEZlZSI6IDEyMDAsICJhbmNob3JJZCI6ICI3MjYyNjUiIH0sCiAgICAgICAgLy8gICAgICJydyI6IHsgInR5cGUiOiAwLCAibGV2ZWwiOiAwLCAiaXNKdW1wIjogMCB9LAogICAgICAgIC8vICAgICAicFR5cGUiOiAwLAogICAgICAgIC8vICAgICAicGlkIjogIjEyNjcxMjY3NiIKICAgICAgICAvLyAgIH0KICAgICAgICAvLyB9LAogICAgICAgIC8vIHsKICAgICAgICAvLyAgICJfbGN0eXBlIjogMSwKICAgICAgICAvLyAgICJfbGN0ZXh0IjogIuWwj+mjnuacuuWFs+azqOS6hui/meS4quS4u+aSrSIsCiAgICAgICAgLy8gICAiX2xjYXR0cnMiOiB7CiAgICAgICAgLy8gICAgICJ1c2VyIjogeyAiaWQiOiAiMjAwMzIwMTkiLCAibmFtZSI6ICLmmajmm6blkLvmnIgiLCAicm9sZSI6IDksICJhdmF0YXIiOiAieHh4eHh4IiB9LAogICAgICAgIC8vICAgICAic20iOiB7ICJ0eXBlIjogMCB9LAogICAgICAgIC8vICAgICAiZ2lmdCI6IHsgImlkIjogODM3NDM3ODQxMzgsICJudW1iZXIiOiAxMiwgInRvdGFsRmVlIjogMTIwMCwgImFuY2hvcklkIjogIjcyNjI2NSIgfSwKICAgICAgICAvLyAgICAgInJ3IjogeyAidHlwZSI6IDAsICJsZXZlbCI6IDAsICJpc0p1bXAiOiAwIH0sCiAgICAgICAgLy8gICAgICJwVHlwZSI6IDAsCiAgICAgICAgLy8gICAgICJwaWQiOiAiMTI2NzEyNjc2IgogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0KICAgICAgXSwKICAgICAgLy8g5by55bmV5YiX6KGoCiAgICAgIGRhbm1ha3U6IG51bGwgLy8g6KeG6aKR5by55bmVCgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0xvZ2luOiBmdW5jdGlvbiBpc0xvZ2luKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5pc0xvZ2luOwogICAgfSwKICAgIHRvcE5hdlN0eWxlT2JqOiBmdW5jdGlvbiB0b3BOYXZTdHlsZU9iaigpIHsKICAgICAgaWYgKHRoaXMuaXNGb2xkKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHBhZGRpbmdMZWZ0OiAiNDhweCIsCiAgICAgICAgICB3aWR0aDogImNhbGMoMTAwJSAtIDQ4cHgpIiwKICAgICAgICAgIG1pbldpZHRoOiAiMTEzMnB4IgogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHBhZGRpbmdMZWZ0OiAiMjQwcHgiLAogICAgICAgICAgd2lkdGg6ICJjYWxjKDEwMCUgLSAyNDBweCkiLAogICAgICAgICAgbWluV2lkdGg6ICI5NDhweCIKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgdXNlclN0YXR1czogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXNlclN0YXR1czsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlVXNlclN0YXR1cyIsIHZhbCk7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSgpIHsKICAgICAgLy8g5a+56Lev55Sx5Y+Y5YyW5L2c5Ye65ZON5bqUCiAgICAgIHRoaXMuaW5pdCgpOwogICAgfSAvLyBpc0xvZ2luKHZhbHVlKSB7CiAgICAvLyAgIC8vIOebkeWQrOeZu+mZhuaIkOWKnyDnu4Tku7bmmrTpnLLlip/og70g5pqC5pyq5L2/55SoCiAgICAvLyAgIGlmKHZhbHVlKSB0aGlzLmluaXQoKQogICAgLy8gfQoKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyBsZXQgc2lnbiA9ICIxMjMqNSI7CiAgICAvLyBsZXQgbWQ1c3RyaW5nID0gIjEyMzQ1IjsKICAgIC8vCiAgICAvLyBpZiAoc2lnbi5pbmRleE9mKCIqIikgPiAtMSkgewogICAgLy8gICBjb25zb2xlLmxvZygoc2lnbiA9IHNpZ24uc3BsaXQoIioiKVswXSksICJzaWduLnNwbGl0KCcqJylbMF0iKTsKICAgIC8vICAgY29uc29sZS5sb2coKG1kNXN0cmluZyA9IG1kNXN0cmluZy5zbGljZSgwLCBzaWduLmxlbmd0aCkpLCAibWQ1c3RyaW5nIik7CiAgICAvLyB9CiAgICAvLyBjb25zb2xlLmxvZyhtZDVzdHJpbmcgPT09IHNpZ24pOwogICAgLy8gZG9jdW1lbnQuY29va2llID0gJ3h4LXVzZXItdG9rZW49ZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6VXhNaUo5LmV5SjRMWHA1TFhWelpYSXRhV1FpT2lJek5EZzJNRGMwSWl3aWFYTnpJam9pZW1oaGJtZDVkU0lzSW1WNGNDSTZNVFUzT1RFMU5EY3lPQ3dpYVdGMElqb3hOVGMzT1RRMU1USTRmUS5mZFdyOGJnY0V4VDNhN1FyOGstQU1FRjE0MkZxSzA5UnRxTVdBSGM0VEVDdkpBN1ZfZ0QyRjh2N1VNc0pLaGJBc3BnV2ROODRieUpmaDNJQUxrZzcwdycKICAgIC8vIENvb2tpZXMuc2V0KCd4eC11c2VyLXRva2VuJywnZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6VXhNaUo5LmV5SjRMWHA1TFhWelpYSXRhV1FpT2lJek5EZzJNRGMwSWl3aWFYTnpJam9pZW1oaGJtZDVkU0lzSW1WNGNDSTZNVFUzT1RFMU5EY3lPQ3dpYVdGMElqb3hOVGMzT1RRMU1USTRmUS5mZFdyOGJnY0V4VDNhN1FyOGstQU1FRjE0MkZxSzA5UnRxTVdBSGM0VEVDdkpBN1ZfZ0QyRjh2N1VNc0pLaGJBc3BnV2ROODRieUpmaDNJQUxrZzcwdycpCiAgICB0aGlzLmluaXQoKTsgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAvLyAgIHRoaXMubXNnTGlzdC5wdXNoKHsKICAgIC8vICAgICBuYW1lOiAxMTEsCiAgICAvLyAgICAgY29udGVudDogMjIyMjIyCiAgICAvLyAgIH0pCiAgICAvLyB9LDMwMDApCiAgICAvLyB0ZXN0IGNoYXRyb29tCiAgICAvLyBsZXQgaW5kZXggPSAxOwogICAgLy8gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgLy8gICBjb25zb2xlLmxvZygnbXNnTGlzdCBwdXNoJyk7CiAgICAvLyAgIHRoaXMubXNnTGlzdC5wdXNoKHsKICAgIC8vICAgICBuYW1lOiAxMTEsCiAgICAvLyAgICAgY29udGVudDogMjIyMjIyKyBpbmRleAogICAgLy8gICB9KQogICAgLy8gICBpbmRleCsrCiAgICAvLyB9LDMwMDApCiAgICAvLyB0ZXN0IOekvOeJqeaoquW5hQogICAgLy8gbGV0IGkgPSAxOwogICAgLy8gbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgLy8gICBpZiAoaSA9PSAxMCkgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAvLyAgIHRoaXMuZ2lmdEl0ZW0gPSB7CiAgICAvLyAgICAgImdpZnQiOiB7CiAgICAvLyAgICAgICAiYW5jaG9ySWQiOiAiNjkxOTE2NCIsCiAgICAvLyAgICAgICAiYW5jaG9yTmFtZSI6ICLlhq/mm6blpqQiLAogICAgLy8gICAgICAgImlkIjogMTI5MTUyMDY5MzA2MzY4MDIsCiAgICAvLyAgICAgICAibmFtZSI6ICLmtarlkbPku5kiLAogICAgLy8gICAgICAgIm51bWJlciI6IDEsCiAgICAvLyAgICAgICAicGljdHVyZSI6ICJodHRwczovL3BpYy5pbWlmYW4ubGl2ZS9naWZ0cy9sYW5nWGlhblhpYW4vMjAxOTEwMTgxOTI4MzkxMzAzMTQ1MjYyMDY3NzE0MS5wbmciLAogICAgLy8gICAgICAgInNob3dHaWZ0IjogdHJ1ZSwKICAgIC8vICAgICAgICJ0b3RhbEZlZSI6IDEwICogaQogICAgLy8gICAgIH0sCiAgICAvLyAgICAgInBUeXBlIjogMCwKICAgIC8vICAgICAicGlkIjogIjY5MTkxNjQiLAogICAgLy8gICAgICJzaWduIjogIjI4NjQwM0EzOTNDMjc1MDQ2QzMwNTNDQTdFQkU0QUREIiwKICAgIC8vICAgICAidXNlciI6IHsKICAgIC8vICAgICAgICJhdmF0YXIiOiAiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvYXZhdGFyLzIwMTkxMDMxMTk0NTUxMTMxODMwNTc4NTAxNjMyMDkucG5nIiwKICAgIC8vICAgICAgICJpZCI6ICIzNDg2MDc0IiwKICAgIC8vICAgICAgICJuYW1lIjogIuaZqOabpuWQu+aciCIKICAgIC8vICAgICB9CiAgICAvLyAgIH0KICAgIC8vICAgaSsrCiAgICAvLwogICAgLy8gICBjb25zb2xlLmxvZygnc2V0VGltZW91dC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7CiAgICAvLyAgIHRoaXMuZ2V0UmFuaygpOwogICAgLy8KICAgIC8vIH0sIDEwMDApCiAgICAvLyB0ZXN0IOi3kemBkwogICAgLy8gbGV0IGkgPSAxOwogICAgLy8gbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgLy8gICBpZiAoaSA9PSAzKSBjbGVhckludGVydmFsKHRpbWVyKTsKICAgIC8vICAgdGhpcy5tc2dMaXN0LnB1c2goeyJfbGNhdHRycyI6eyJnaWZ0Ijp7ImFuY2hvcklkIjoiMTAwMDc4NzgiLCJhbmNob3JOYW1lIjoi5bCP6aWt57KSXzEwMDA3ODc4IiwiaWQiOiIxMjkxNTIwNjkzMDYzNjgxNiIsIm5hbWUiOiLmu6HmsYnlhajluK0iLCJudW1iZXIiOjEsInBpY3R1cmUiOiJodHRwczovL3BpYy5pbWlmYW4ubGl2ZS9naWZ0cy9tYW5jaHUvMjAxOTEwMTgxOTMwMTgxMzAzMTQ1MjYyMDY3NzE0My5wbmciLCJzaG93R2lmdCI6dHJ1ZSwidG90YWxGZWUiOjIwMDAwMH0sInBUeXBlIjowLCJwaWQiOiIxMDAwNzg3OCIsInNpZ24iOiJCNTc1QTBEQTc4RjhBQjZBMEEyMEQ0RDE1NDZDODI3OSIsInVzZXIiOnsiYXZhdGFyIjoiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvYXZhdGFyLzIwMjAwMTE2MTIyODMzMTQwNTQ1MzQ5MDIzOTkwMzMuanBnIiwiaWQiOiI2NzgyMzU1IiwibmFtZSI6ImZyZWQifX0sIl9sY3RleHQiOiIxMjkxNTIwNjkzMDYzNjgxNiIsIl9sY3R5cGUiOjJ9KQogICAgLy8gdGhpcy5tZXNzYWdlSXRlbSA9IHsKICAgIC8vICAgIl9sY2F0dHJzIjogewogICAgLy8gICAgICJwVHlwZSI6IDEsCiAgICAvLyAgICAgInJ3IjogewogICAgLy8gICAgICAgImFuY2hvcklkIjogIjYxNDQ0NDQiLAogICAgLy8gICAgICAgImFuY2hvck5hbWUiOiAi5LiN5py95bCR5bm05qKmIiwKICAgIC8vICAgICAgICJkdXJhdGlvbiI6IDEwMDAwLAogICAgLy8gICAgICAgImlzSnVtcCI6IDEsCiAgICAvLyAgICAgICAibGV2ZWwiOiAwLAogICAgLy8gICAgICAgIm5hbWUiOiAi57OW5p6c5bqE5ZutIiwKICAgIC8vICAgICAgICJudW1iZXIiOiAyLAogICAgLy8gICAgICAgInBpY3R1cmUiOiAiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvZ2lmdHMvZnJ1aXRDYXN0bGUvMjAxOTEwMTgxOTQxMDMxMzAzMTQ1MjYyMDY3NzE1MS5wbmciLAogICAgLy8gICAgICAgInRpbWVzIjogMywKICAgIC8vICAgICAgICJ0eXBlIjogMQogICAgLy8gICAgIH0sCiAgICAvLyAgICAgInNpZ24iOiAiNjRDM0EzRTI3QjVEQjZEQUZFMUYzQzQ2QjZEOUZFQUUiLAogICAgLy8gICAgICJ1c2VyIjogewogICAgLy8gICAgICAgImF2YXRhciI6ICJodHRwczovL3BpYy5pbWlmYW4ubGl2ZS9hdmF0YXIvMjAxOTEwMzExOTQ1NTExMzE4MzA1Nzg1MDE2MzIwOS5wbmciLAogICAgLy8gICAgICAgImlkIjogIjM0ODYwNzQiLAogICAgLy8gICAgICAgIm5hbWUiOiAi5pmo5pum5ZC75pyIIgogICAgLy8gICAgIH0KICAgIC8vICAgfSwgIl9sY3RleHQiOiAi5pmo5pum5ZC75pyI6LWg6YCB57uZ5Li75pKt5LiN5py95bCR5bm05qKmIDIg5LiqIOezluaenOW6hOWbre+8geW/q+adpeWbtOinguWQpyEiLCAiX2xjdHlwZSI6IDQKICAgIC8vIH0KICAgIC8vICAgaSsrCiAgICAvLwogICAgLy8gICBjb25zb2xlLmxvZygnc2V0VGltZW91dCcpOwogICAgLy8KICAgIC8vIH0sIDEwMDApCiAgICAvLyDlsIHnpoHmtYvor5UKICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgLy8gICB0aGlzLnVzZXJJbmZvPSB7CiAgICAvLyAgICAgY2hhbm5lbFJvbGVUeXBlOiAyLAogICAgLy8gICAgIGZvbGxvdzogZmFsc2UsCiAgICAvLyAgICAgZm9yYmlkOiB0cnVlLAogICAgLy8gICAgIGZvcmJpZEVuZFRpbWU6IDE1Nzc5NjM1ODcxMzkKICAgIC8vICAgfTsKICAgIC8vIH0sMzAwMCkKICAgIC8vIOe6ouWMhSDmtYvor5UKICAgIC8vIHRoaXMuaG9uZ2Jhb0xpc3QucHVzaCh7Il9sY2F0dHJzIjp7InBUeXBlIjowLCJzaWduIjoiMzdEOTEwOUUzMDU3MDUzNzVBMjk2MEJFQjMwMDAyMjIiLCJsY3VpZCI6IkNIQVRfVVNFUl8zNTA2MzI5IiwicGlkIjoiMTAwMDAxNTciLCJycCI6eyJ0aW1lIjo1MDAwLCJpZCI6IjM1MDYzMjkifX0sIl9sY3R5cGUiOjMsIl9sY3RleHQiOiLkuLvmkq3ml6kifSkKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLmhhbmRsZVNjcm9sbCwgdHJ1ZSk7CiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLkRhbm1ha3VJbml0KCk7CiAgICB9KTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgLy8g56e76Zmk5by55bmV5ZKMcmVzaXpl55uR5ZCsCiAgICB0aGlzLmRhbm1ha3UuZGVzdHJveSgpOwogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMuZGFubWFrdVJlc2l6ZSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+a7muWKqOadoQogICAgaGFuZGxlU2Nyb2xsOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoKSB7CiAgICAgIHRoaXMuc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0OwogICAgICBjb25zb2xlLmxvZyh0aGlzLnNjcm9sbFRvcCk7CgogICAgICBpZiAodGhpcy5zY3JvbGxUb3AgPj0gNzAwKSB7CiAgICAgICAgdGhpcy52aWRlb3Nob3cgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudmlkZW9zaG93ID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBnZXRGb2xkU3RhdGU6IGZ1bmN0aW9uIGdldEZvbGRTdGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyBsZXQgbGVmdEZvbGRTdGF0ZSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJsZWZ0Rm9sZFN0YXRlIik7CiAgICAgIC8vIHRoaXMuaXNGb2xkID0KICAgICAgLy8gICBsZWZ0Rm9sZFN0YXRlID09PSBudWxsIHx8IGxlZnRGb2xkU3RhdGUgPT09ICJmYWxzZSIgPyBmYWxzZSA6IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJHJlZnMucmVjb21tZW5kLmluaXQoKTsKICAgICAgfSk7CiAgICB9LAogICAgRGFubWFrdUluaXQ6IGZ1bmN0aW9uIERhbm1ha3VJbml0KCkgewogICAgICB0aGlzLmRhbm1ha3UgPSBuZXcgRGFubWFrdSh7CiAgICAgICAgLy8g55So5LqO5pi+56S65by55bmV55qE44CM6Iie5Y+w44CN5Lya6KKr5re75Yqg5Yiw6K+l5a655Zmo5LitCiAgICAgICAgY29udGFpbmVyOiB0aGlzLiRyZWZzLmRhbm1ha3UsCiAgICAgICAgLy8gY29udGFpbmVyOiB0aGlzLiRyZWZzLmRQbGF5ZXIsCiAgICAgICAgLy8gY29udGFpbmVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGFubWFrdScpLAogICAgICAgIC8vIGNvbnRhaW5lcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpZGVvLXBsYXllcicpLAogICAgICAgIC8vIHZpZGVvOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHBsYXllci12aWRlbycpLAogICAgICAgIC8vIOW8ueW5leaVsOaNruaVsOe7hO+8jOWcqCBlbWl0IEFQSSDkuK3kvJror7TmmI7lhbbmoLzlvI8KICAgICAgICBjb21tZW50czogW10sCiAgICAgICAgLy8g5pSv5oyBIERPTSDlvJXmk47lkowgY2FudmFzIOW8leaTjuOAgmNhbnZhcyDlvJXmk47kuIDoiKzmr5QgRE9NIOabtOmrmOaViO+8jOS9huebuOWvueabtOiAl+WGheWtmOOAggogICAgICAgIC8vIOm7mOiupOS4uiBET00g5byV5pOOCiAgICAgICAgLy8gZW5naW5lOiAnY2FudmFzJywKICAgICAgICAvLyDlvLnluZXpgJ/luqbvvIzkuZ/lj6/ku6XnlKggc3BlZWQgQVBJIOiuvue9rgogICAgICAgIHNwZWVkOiAxMDUKICAgICAgfSk7IC8vIHNldEludGVydmFsKCgpID0+IHsKICAgICAgLy8gICB0aGlzLmRhbm1ha3UuZW1pdChjb21tZW50KTsKICAgICAgLy8gfSwyMDApCgogICAgICB0aGlzLmRhbm1ha3VSZXNpemUoKTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMuZGFubWFrdVJlc2l6ZSk7CiAgICB9LAogICAgZGFubWFrdVJlc2l6ZTogZGVib3VuY2UoZnVuY3Rpb24gKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmRhbm1ha3UpOwogICAgICB0aGlzLmRhbm1ha3UucmVzaXplKCk7CiAgICB9LCAyMDAsIGZhbHNlKSwKCiAgICAvKioKICAgICAqIOmjmOeql+W8ueW5leiHquW3seeahHR5cGUg5a+55bqU5LiJ56eN5a2X5L2TCiAgICAgKiDlsZXnpLrnmoTmtojmga/nsbvlnovvvJoKICAgICAqIC0x55So5oi35Y+R6YCB55qE5raI5oGv44CBICNmZmZmZmYKICAgICAqIDHmrKLov47mtojmga/jgIHlhbPms6jmtojmga/jgIEjRkZDOTU1CiAgICAgKiAy5oqi57qi5YyF5raI5oGvICNGRjdGNjQKICAgICAqIEBwYXJhbSBtZXNzYWdlCiAgICAgKiBAcGFyYW0gdHlwZQogICAgICovCiAgICBzZW5kRGFubWFrdTogZnVuY3Rpb24gc2VuZERhbm1ha3UobWVzc2FnZSwgdHlwZSkgewogICAgICB2YXIgY29sb3JNYXAgPSB7CiAgICAgICAgIi0xIjogIiNmZmZmZmYiLAogICAgICAgIDE6ICIjRkZDOTU1IiwKICAgICAgICAyOiAiI0ZGN0Y2NCIKICAgICAgfTsKICAgICAgdmFyIGNvbW1lbnQgPSB7CiAgICAgICAgdGV4dDogbWVzc2FnZSwKICAgICAgICAvLyDpu5jorqTkuLogcnRs77yI5LuO5Y+z5Yiw5bem77yJ77yM5pSv5oyBIGx0cuOAgXJ0bOOAgXRvcOOAgWJvdHRvbeOAggogICAgICAgIG1vZGU6ICJydGwiLAogICAgICAgIC8vIOWcqOS9v+eUqCBET00g5byV5pOO5pe277yMRGFubWFrdSDkvJrkuLrmr4/kuIDmnaHlvLnluZXliJvlu7rkuIDkuKogPGRpdj4g6IqC54K577yMCiAgICAgICAgLy8g5Lul5LiLIENTUyDmoLflvI/kvJrnm7TmjqXorr7nva7liLAgZGl2LnN0eWxlIOS4igogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAvLyB0b3A6ICczMHB4JywKICAgICAgICAgIHpJbmRleDogMTAsCiAgICAgICAgICBmb250U2l6ZTogIjI0cHgiLAogICAgICAgICAgZm9udFdlaWdodDogIjcwMCIsCiAgICAgICAgICBvcGFjaXR5OiAiMC44NCIsCiAgICAgICAgICBsaW5lSGVpZ2h0OiAiMzNweCIsCiAgICAgICAgICBjb2xvcjogY29sb3JNYXBbdHlwZV0sCiAgICAgICAgICBwYWRkaW5nOiAiNHB4IDAiLAogICAgICAgICAgdGV4dFNoYWRvdzogIjFweCAwcHggMXB4IHJnYmEoMzQsMzQsMzQsMSkiCiAgICAgICAgfSAvLyDoh6rlrprkuYnmuLLmn5PlmagKICAgICAgICAvLyDlvZMgYHJlbmRlcmAg5a2X5q615a2Y5Zyo5pe2LCBgdGV4dGAsIGBodG1sYCwgYHN0eWxlYCDlkowgYGNhbnZhc1N0eWxlYCDlsIbooqvlv73nlaXjgIIKICAgICAgICAvLyDlnKjkvb/nlKggRE9NIOW8leaTjuaXtu+8jOivpeWHveaVsOW6lOW9k+i/lOWbnuS4gOS4qiBIVE1MRWxlbWVudOOAggogICAgICAgIC8vIHJlbmRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gdmFyICRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAvLyB2YXIgJGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwogICAgICAgIC8vICRpbWcuc3JjID0gJy9wYXRoL3RvL3h4eC5wbmcnOwogICAgICAgIC8vICRkaXYuYXBwZW5kQ2hpbGQoJGltZyk7CiAgICAgICAgLy8gcmV0dXJuICRkaXY7CiAgICAgICAgLy8gfSwKICAgICAgICAvLyDlnKjkvb/nlKggY2FudmFzIOW8leaTjuaXtu+8jOivpeWHveaVsOW6lOW9k+i/lOWbnuS4gOS4qiBIVE1MQ2FudmFzRWxlbWVudOOAggogICAgICAgIC8vIHJlbmRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgLy8gICBjYW52YXMud2lkdGggPSAzMjA7CiAgICAgICAgLy8gICBjYW52YXMuaGVpZ2h0ID0gMTgwOwogICAgICAgIC8vICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIC8vICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIC8vICAgY3R4LmFyYyg3NSwgNzUsIDUwLCAwLCAyICogTWF0aC5QSSk7CiAgICAgICAgLy8gICBjdHguc3Ryb2tlKCk7CiAgICAgICAgLy8gICByZXR1cm4gY2FudmFzOwogICAgICAgIC8vIH0KCiAgICAgIH07CiAgICAgIHRoaXMuZGFubWFrdS5lbWl0KGNvbW1lbnQpOwogICAgfSwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgLy8g5bem5L6n6L655qCP5b2T5YmN54q25oCBCiAgICAgIC8vIHRoaXMuZ2V0Rm9sZFN0YXRlKCk7CiAgICAgIGNvbnNvbGUubG9nKDY2NjYpOwogICAgICB0aGlzLmxpdmVyb29tID0gdGhpcy4kcm91dGUucGFyYW1zLmxpdmVyb29tOyAvLyBpZiAodGhpcy5nZXRDaGFubmVsSW5mbyBpbnN0YW5jZW9mIFByb21pc2UpIHsKICAgICAgLy8gICBjb25zb2xlLmxvZygieWVzIFByb21pc2UiKTsKICAgICAgLy8gfSBlbHNlIGNvbnNvbGUubG9nKCJubyBQcm9taXNlIik7CgogICAgICB0aGlzLmdldENoYW5uZWxJbmZvKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coInllcyBQcm9taXNlIik7CgogICAgICAgIF90aGlzMy5jb25uZXRDb252ZXJzYXRpb24oKTsKCiAgICAgICAgX3RoaXMzLmdldHJlY29tbWVuZExpdmVMaXN0KCk7CiAgICAgIH0pOwogICAgICB0aGlzLmdldEdpZnRMaXN0KCk7IC8vIHRoaXMuZ2V0UmFua2luZygpOwoKICAgICAgdGhpcy5nZXRsb2dpbkluZm8oKTsKICAgICAgdGhpcy5lbnRlclJvb20oKTsKICAgIH0sCiAgICBzZW5kR2lmdFN1Y2Nlc3M6IGZ1bmN0aW9uIHNlbmRHaWZ0U3VjY2VzcyhkYXRhKSB7CiAgICAgIHRoaXMuJHNldCh0aGlzLnVzZXJMb2dpbiwgImNyZWRpdCIsIGRhdGEuY3JlZGl0KTsKICAgIH0sCiAgICAvLyDojrflj5bnm7Tmkq3pl7Tkv6Hmga8KICAgIGdldGxvZ2luSW5mbzogZnVuY3Rpb24gZ2V0bG9naW5JbmZvKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5pc0xvZ2luKSByZXR1cm47CiAgICAgIHJldHVybiBsb2dpbkluZm8oKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQudXNlckxvZ2luID0gcmVzLmRhdGE7IC8vIHRoaXMudXNlclN0YXR1cy51c2VySW5mby5iYWxhbmNlID0gcmVzLmRhdGEuYWNjb3VudER0by5taUNvaW4uYmFsYW5jZQogICAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGlzLnVzZXJTdGF0dXMudXNlckluZm8uYmFsYW5jZScsdGhpcy51c2VyU3RhdHVzLnVzZXJJbmZvLmJhbGFuY2UpCgogICAgICAgIGNvbnNvbGUubG9nKCLnm7Tmkq3pl7Qt5Liq5Lq65L+h5oGvIiwgcmVzKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5b2T5YmN55So5oi36L+b5YWl55u05pKt6Ze055qE5L+h5oGvCiAgICBlbnRlclJvb206IGZ1bmN0aW9uIGVudGVyUm9vbSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICAvLyBpZiAoIXRoaXMuaXNMb2dpbikgcmV0dXJuOwogICAgICByZXR1cm4gX2VudGVyUm9vbSh7CiAgICAgICAgY2lkOiB0aGlzLmxpdmVyb29tCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNS51c2VySW5mbyA9IHJlcy5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPluebtOaSremXtOS/oeaBrwogICAgZ2V0Q2hhbm5lbEluZm86IGZ1bmN0aW9uIGdldENoYW5uZWxJbmZvKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBjaGFubmVsSW5mbyh7CiAgICAgICAgY2lkOiB0aGlzLmxpdmVyb29tCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNi5jaGFubmVsSW5mbyA9IHJlcy5kYXRhOwogICAgICAgIGRvY3VtZW50LnRpdGxlID0gX3RoaXM2LmNoYW5uZWxJbmZvLm5hbWU7CiAgICAgICAgY29uc29sZS5sb2coMTEyMjMzKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bmjqjojZDliJfooagKICAgIGdldHJlY29tbWVuZExpdmVMaXN0OiBmdW5jdGlvbiBnZXRyZWNvbW1lbmRMaXZlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gcmVjb21tZW5kTGl2ZUxpc3QoewogICAgICAgIHJlY29tbWVuZEFuY2hvclR5cGU6ICJTRUFSQ0hfUEFHRSIgLy8gc2l6ZTogMTAsCgogICAgICB9LCB7fSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8g5pyq5byA5pKtCiAgICAgICAgaWYgKF90aGlzNy5jaGFubmVsSW5mby5wbGF5U3RhdHVzQ29kZSA9PSA5MDUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCcxJyk7CiAgICAgICAgICBfdGhpczcucmVjb21tZW5kVmlkZW8yID0gcmVzLmRhdGEuc2xpY2UoMCwgMik7CiAgICAgICAgICBfdGhpczcucmVjb21tZW5kTGlzdCA9IHJlcy5kYXRhLnNsaWNlKDIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczcucmVjb21tZW5kTGlzdCA9IHJlcy5kYXRhOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g56S854mp5YiX6KGoCiAgICBnZXRHaWZ0TGlzdDogZnVuY3Rpb24gZ2V0R2lmdExpc3QoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9nZXRHaWZ0TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzOC5naWZ0TGlzdCA9IHJlcy5kYXRhOyAvLyB0aGlzLmdpZnRMaXN0ID0gW3Jlcy5kYXRhWzBdLHJlcy5kYXRhWzBdLHJlcy5kYXRhWzBdLHJlcy5kYXRhWzBdLHJlcy5kYXRhWzBdLHJlcy5kYXRhWzBdLHJlcy5kYXRhWzBdLHJlcy5kYXRhWzBdXTsKCiAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgX3RoaXM4LiRzZXQoX3RoaXM4LmdpZnRMaXN0VG9PYmplY3QsIGl0ZW0uaWQsIGl0ZW0pOwogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOamnOWNlQogICAgZ2V0UmFua2luZzogZnVuY3Rpb24gZ2V0UmFua2luZygpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gcXVlcnlSb29tUmFua2luZyh7CiAgICAgICAgYW5jaG9ySWQ6IHRoaXMubGl2ZXJvb20sCiAgICAgICAgdHlwZTogMAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczkucmFua09iamVjdCA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDoioLmtYHlpITnkIYg5pu05paw5qac5Y2VCiAgICBnZXRSYW5rOiBkZWJvdW5jZShmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuZ2V0UmFua2luZygpOwogICAgfSwgMTAwMCwgZmFsc2UpLAogICAgLy8g5by55bmV5Yid5aeL5YyWCiAgICBjb25uZXRDb252ZXJzYXRpb246IGZ1bmN0aW9uIGNvbm5ldENvbnZlcnNhdGlvbigpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdmFyIGVycm9yOyAvLyB0aHJvdyBlcnJvcjvpgqPmiJHkuI3nn6XpgZPkvaDnlKh5YXJu5bCx5pyJ5LqGCgogICAgICBjb25zb2xlLmxvZygi6ZO+5o6l6IGK5aSp5a6kLeeUqOaIt+S/oeaBryIsIHRoaXMudXNlclN0YXR1cyk7CiAgICAgIHZhciBjbGllbnRJZCA9ICJDSEFUX1ZJU0lUT1JfIiArIHV1aWR2NCgpOwoKICAgICAgaWYgKHRoaXMuaXNMb2dpbikgewogICAgICAgIGNsaWVudElkID0gIkNIQVRfVVNFUl8iICsgdGhpcy51c2VyU3RhdHVzLnVzZXJJbmZvLnVpZDsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coIumTvuaOpeiBiuWkqeWupGNsaWVudElkIiwgY2xpZW50SWQpOwogICAgICBDaGF0LmdldENoYXRSb29tKGNsaWVudElkLCB0aGlzLmNoYW5uZWxJbmZvLmNoYXRSb29tc1swXSkudGhlbiggLy8gdGVzdC0t5Yqg5YWl562+5ZCNCiAgICAgIGZ1bmN0aW9uIChjb252ZXJzYXRpb24pIHsKICAgICAgICBjb25zb2xlLmxvZyhjb252ZXJzYXRpb24sICJjb252ZXJzYXRpb24iKTsKCiAgICAgICAgX3RoaXMxMC5tc2dMaXN0LnB1c2goewogICAgICAgICAgX2xjdHlwZTogMSwKICAgICAgICAgIC8vIF9sY3RleHQ6IGDmrKLov47mnaXliLDnp5jppa3nm7Tmkq0keyB0aGlzLmNoYW5uZWxJbmZvLnVuYW1lIH3nmoTnm7Tmkq3pl7TvvIznm5Hmkq3kurrlkZjlsIblr7nnm7Tmkq3pl7Tov5vooYwyNOWwj+aXtuW3oeafpe+8jOemgeatouS8oOaSreS7u+S9lei/neazleOAgei/neinhOOAgeS9juS/l+OAgeaatOWKm+etieS4jeiJr+S/oeaBr+eahOihjOS4uuOAgmAKICAgICAgICAgIF9sY3RleHQ6ICJcdTcyMzFcdTc0MDNcdTc5ODFcdTZCNjJcdTY3MkFcdTYyMTBcdTVFNzRcdTRFQkFcdTkwMDFcdTc5M0NcdTdCNDlcdTRFRDhcdThEMzlcdTg4NENcdTRFM0FcdTMwMDFcdTRFMjVcdTc5ODFcdTRFM0JcdTY0QURcdThCRjFcdTVCRkNcdTY3MkFcdTYyMTBcdTVFNzRcdTRFQkFcdTZEODhcdThEMzlcdTMwMDJcdTU5ODJcdTc2RjRcdTY0QURcdTk1RjRcdTUxRkFcdTczQjBcdThGRERcdTZDRDVcdThGRERcdTg5QzRcdTMwMDFcdTgyNzJcdTYwQzVcdTRGNEVcdTRGRDdcdTMwMDFcdThENENcdTUzNUFcdTMwMDFcdThCRjFcdTVCRkNcdTZCM0FcdThCQzhcdTdCNDlcdTg4NENcdTRFM0FcdUZGMENcdThCRjdcdTUzQ0FcdTY1RjZcdTRFM0VcdTYyQTVcdTMwMDJcdTdCQTFcdTc0MDZcdTU0NTgyNFx1NUMwRlx1NjVGNlx1NTcyOFx1N0VCRlx1NURFMVx1NjdFNVx1NUU3Nlx1NjNBNVx1NTNEN1x1NEUzRVx1NjJBNVx1MzAwMiIKICAgICAgICB9KTsgLy8gdGhpcy5zZW5kRGFubWFrdShg5qyi6L+O5p2l5Yiw56eY6aWt55u05pKtJHsgdGhpcy5jaGFubmVsSW5mby51bmFtZSB955qE55u05pKt6Ze077yM55u05pKt6Ze05L6d5rOV5a+555u05pKt5YaF5a656L+b6KGMMjTlsI/ml7blt6Hmn6XvvIznpoHmraLku7vkvZXkvKDmkq3ov53nq6DjgIHov53op4TjgIHkvY7kv5fjgIHmmrTlipvnrYnkuI3oia/kv6Hmga/nmoTooYzkuLrjgIJgLCAxKQoKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIC8vIOato+W4uOS6pOS6kgogICAgICAgICAgY29udmVyc2F0aW9uLm9uKGV2ZW50Lk1FU1NBR0UsIGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJldmVudC5NRVNTQUdFIiwgZXZlbnQuTUVTU0FHRSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJtZXNzYWdlIiwgbWVzc2FnZSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJtZXNzYWdlLmNvbnRlbnQiLCBtZXNzYWdlLmNvbnRlbnQpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlLmNvbnRlbnQsICJjb250ZW50Y29udGVudGNvbnRlbnRjb250ZW50Y29udGVudCIpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlLmNvbnRlbnQuX2xjdGV4dCwgIm1lc3NhZ2VtZXNzYWdlbWVzc2FnZW1lc3NhZ2VtZXNzYWdlIik7CgogICAgICAgICAgICBfdGhpczEwLmFzc2lnbmVkTWVzc2FnZShtZXNzYWdlLmNvbnRlbnQpOwogICAgICAgICAgfSk7IC8vIC8vIOW8ueWHuuaPkOekuu+8jOWRiuefpeW9k+WJjeeUqOaIt+eahCBjbGllbnRJZCDlnKjlhbbku5borr7lpIfkuIrnmbvlvZXkuoYKCiAgICAgICAgICBjb252ZXJzYXRpb24ub24oZXZlbnQuQ09ORkxJQ1QsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8gVE9ETyDkupLouKLllaYKICAgICAgICAgICAgY29uc29sZS5sb2coIuS6kui4ouWVpiIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLlvLnluZXmnI3liqHlmajliqDovb3lpLHotKUiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIhumFjeW8ueW5lei/lOWbnuaVsOaNrgogICAgYXNzaWduZWRNZXNzYWdlOiBmdW5jdGlvbiBhc3NpZ25lZE1lc3NhZ2UobWVzc2FnZSkgewogICAgICB2YXIgdGV4dCA9IG1lc3NhZ2UuX2xjdGV4dDsKICAgICAgdmFyIHR5cGUgPSBtZXNzYWdlLl9sY3R5cGU7CiAgICAgIHZhciBtZDVTdHJpbmcgPSBtZDVTZWNyZXQodGV4dCk7CiAgICAgIHZhciBzaWduID0gbWVzc2FnZS5fbGNhdHRycy5zaWduOwogICAgICAvKioKICAgICAgICog5Zug5Li65Yqg5a+G55qE5a2X56ym5Liy5ZCr5pyJbGVhbkNsb3Vk55qE5bGP6JS96K+NLCDkvJrooqvovazljJbkuLoqLCDmiYDku6XlkITkuKrlrqLmiLfnq6/pnIDopoHlop7liqDku6XkuIvpgLvovpEKICAgICAgICog56ys5LiA5q2lOiDliKTmlq3lrZfnrKbkuLLkuK3mmK/lkKbljIXlkKsqOiDkuI3ljIXlkKvnm7TmjqXlr7nmr5QKICAgICAgICog56ys5LqM5q2lOiDlpoLmnpzljIXlkKsqLCDliJnliKTmlq0q5piv5ZCm5Li656ys5LiA5LiqLCDlpoLmnpzmmK/nrKzkuIDkuKrliJnkuI3ov5vooYzlr7nmr5Qs55u05o6l5bGV56S6CiAgICAgICAqIOesrOS4ieatpTog5aaC5p6c5LiN5piv56ys5LiA5Liq5YiZ5YiH5Ymy5a2X56ym5LiyLCDojrflj5Yq5YmN6Z2i55qE6YOo5YiGLCDnhLblkI7lkozmnKzlnLDmiKrlj5bnm7jlkIzplb/luqbnhLblkI7lnKjov5vooYzlr7nmr5QKICAgICAgICovCgogICAgICBpZiAoc2lnbi5pbmRleE9mKCIqIikgPiAtMSkgewogICAgICAgIHNpZ24gPSBzaWduLnNwbGl0KCIqIilbMF07CiAgICAgICAgbWQ1U3RyaW5nID0gbWQ1U3RyaW5nLnNsaWNlKDAsIHNpZ24ubGVuZ3RoKTsKICAgICAgICBjb25zb2xlLmxvZyhzaWduLCAic2lnbiIpOwogICAgICAgIGNvbnNvbGUubG9nKG1kNVN0cmluZywgIm1kNXN0cmluZyIpOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZyhtZDVTdHJpbmcgPT09IHNpZ24sICJtZDVTdHJpbmcgPT09IHNpZ24iKTsKCiAgICAgIGlmIChtZDVTdHJpbmcgPT09IHNpZ24gJiYgbWQ1U3RyaW5nICE9PSAiZmFsc2UiKSB7CiAgICAgICAgY29uc29sZS5sb2coInJlY2VpdmUgbWVzc2FnZToiICsgdGV4dCk7IC8vIOW8ueW5leaWh+ahiAoKICAgICAgICBpZiAodHlwZSA9PT0gLTEgfHwgdHlwZSA9PT0gMSB8fCB0eXBlID09PSAyIHx8IHR5cGUgPT09IDUpIHsKICAgICAgICAgIHRoaXMubXNnTGlzdC5wdXNoKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpKTsKICAgICAgICB9IC8vIOmjmOeql+W8ueW5lQoKCiAgICAgICAgaWYgKHR5cGUgPT09IC0xKSB7CiAgICAgICAgICB0aGlzLnNlbmREYW5tYWt1KHRleHQsICItMSIpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHR5cGUgPT09IDEpIHsKICAgICAgICAgIHRoaXMuc2VuZERhbm1ha3UodGV4dCwgbWVzc2FnZS5fbGNhdHRycy5zbSA9PT0gMCA/IDIgOiAxKTsKICAgICAgICB9IC8vIOemgeiogCDliKTmlq3nmoTmmK/kuI3mmK/lvZPliY3nmbvpmYbnlKjmiLcKCgogICAgICAgIGlmICh0eXBlID09PSA1ICYmIG1lc3NhZ2UuX2xjYXR0cnMuZmIudWlkID09PSB0aGlzLnVzZXJMb2dpbi5pZCkgewogICAgICAgICAgdGhpcy5lbnRlclJvb20oKTsKICAgICAgICB9IC8vIOiuvue9ruaIv+euoSDliKTmlq3nmoTmmK/kuI3mmK/lvZPliY3nmbvpmYbnlKjmiLcKCgogICAgICAgIGlmICh0eXBlID09PSA2ICYmIG1lc3NhZ2UuX2xjYXR0cnMubWFuYWdlci5pZCA9PT0gdGhpcy51c2VyTG9naW4uaWQpIHsKICAgICAgICAgIHRoaXMuZW50ZXJSb29tKCk7CiAgICAgICAgfSAvLyDnpLzniakKCgogICAgICAgIGlmICh0eXBlID09PSAyKSB7CiAgICAgICAgICB0aGlzLmdpZnRJdGVtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtZXNzYWdlLl9sY2F0dHJzKSk7IC8vIHRoaXMuZ2V0UmFuaygpOwogICAgICAgIH0gLy8g57qi5YyFCgoKICAgICAgICBpZiAodHlwZSA9PT0gMykgewogICAgICAgICAgdGhpcy5ob25nYmFvTGlzdC5wdXNoKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpKTsKICAgICAgICB9IC8vIOi3kemBkwoKCiAgICAgICAgaWYgKHR5cGUgPT09IDQpIHsKICAgICAgICAgIHRoaXMubWVzc2FnZUl0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDlj5HpgIHmtojmga8KICAgIHNlbmRNc2c6IGZ1bmN0aW9uIHNlbmRNc2cobXNnKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKG1zZywgInNlbmRNc2ciKTsKICAgICAgdmFyIHNpZ24gPSBtZDVTZWNyZXQobXNnKTsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICB1c2VyOiB7CiAgICAgICAgICBpZDogdGhpcy51c2VyTG9naW4uaWQsCiAgICAgICAgICBuYW1lOiB0aGlzLnVzZXJMb2dpbi51bmFtZSwKICAgICAgICAgIHJvbGU6IHRoaXMudXNlckluZm8uY2hhbm5lbFJvbGVUeXBlLAogICAgICAgICAgYXZhdGFyOiB0aGlzLnVzZXJMb2dpbi5hdmF0YXJVcmwKICAgICAgICB9LAogICAgICAgIHBUeXBlOiAwLAogICAgICAgIHBpZDogdGhpcy5saXZlcm9vbSwKICAgICAgICBsY3VpZDogIkNIQVRfVVNFUl8iLmNvbmNhdCh0aGlzLnVzZXJMb2dpbi5pZCksCiAgICAgICAgc2lnbjogc2lnbgogICAgICB9OwogICAgICBDaGF0LnNlbmRNc2cobXNnLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCJzdWNjZXNzIik7CgogICAgICAgIF90aGlzMTEubXNnTGlzdC5wdXNoKHsKICAgICAgICAgIF9sY2F0dHJzOiB7CiAgICAgICAgICAgIHVzZXI6IHsKICAgICAgICAgICAgICByb2xlOiBfdGhpczExLnVzZXJJbmZvLmNoYW5uZWxSb2xlVHlwZSwKICAgICAgICAgICAgICBuYW1lOiBfdGhpczExLnVzZXJMb2dpbi51bmFtZSwKICAgICAgICAgICAgICBpZDogX3RoaXMxMS51c2VyTG9naW4uaWQsCiAgICAgICAgICAgICAgYXZhdGFyOiBfdGhpczExLnVzZXJMb2dpbi5hdmF0YXJVcmwKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIF9sY3R5cGU6IC0xLAogICAgICAgICAgX2xjdGV4dDogbXNnCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzMTEuc2VuZERhbm1ha3UobXNnLCAiLTEiKTsKICAgICAgfSk7CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICAvLyDlsZXnpLrnmbvpmYblvLnnqpcKICAgICAgdGhpcy4kcmVmcy5sb2dpbi5vcGVuTG9naW5EaWFsb2coKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Liveroom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,OAAA,cAAA,MAAA,sCAAA;AACA,OAAA,YAAA,MAAA,oCAAA;AACA,OAAA,cAAA,MAAA,sCAAA,C,CACA;;AACA,OAAA,aAAA,MAAA,qCAAA;AACA,OAAA,YAAA,MAAA,oCAAA,C,CACA;;AACA,OAAA,mBAAA,MAAA,2CAAA;AACA,OAAA,iBAAA,MAAA,yCAAA;AACA,OAAA,kBAAA,MAAA,8CAAA;AAEA,OAAA,WAAA,MAAA,gCAAA;AACA,OAAA,OAAA,MAAA,0BAAA;AACA,OAAA,QAAA,MAAA,sCAAA;AACA,OAAA,WAAA,MAAA,oCAAA;AAEA,SAAA,SAAA,QAAA,gBAAA;AACA,OAAA,KAAA,IAAA,MAAA,iBAAA;AACA,SAAA,KAAA,QAAA,sBAAA;AACA,SACA,gBADA,EAEA,WAFA,EAGA,SAAA,IAAA,UAHA,EAIA,WAAA,IAAA,YAJA,EAKA,SALA,QAMA,gBANA;AAOA,SAAA,iBAAA,QAAA,WAAA;AAEA,SAAA,QAAA,QAAA,6BAAA,C,CACA;;AACA,OAAA,OAAA,MAAA,SAAA;AACA,SAAA,EAAA,IAAA,MAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA,cADA;AAEA,IAAA,YAAA,EAAA,YAFA;AAGA,IAAA,YAAA,EAAA,YAHA;AAIA;AACA,IAAA,cAAA,EAAA,cALA;AAMA;AACA,IAAA,mBAAA,EAAA,mBAPA;AAQA,IAAA,aAAA,EAAA,aARA;AASA,IAAA,iBAAA,EAAA,iBATA;AAUA,IAAA,kBAAA,EAAA,kBAVA;AAWA,IAAA,WAAA,EAAA,WAXA;AAYA,IAAA,OAAA,EAAA,OAZA;AAaA,IAAA,QAAA,EAAA,QAbA;AAcA,IAAA,WAAA,EAAA;AAdA,GAFA;AAkBA,EAAA,IAlBA,kBAkBA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,CADA;AAEA,MAAA,MAAA,EAAA,IAFA;AAGA,MAAA,SAAA,EAAA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtCA,OAHA;AA2CA,MAAA,QAAA,EAAA,EA3CA;AA4CA,MAAA,WAAA,EAAA,EA5CA;AA4CA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,eAAA,EAAA,CADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,MAAA,EAAA,KAHA;AAIA,QAAA,aAAA,EAAA;AAJA,OA7CA;AAkDA;AACA,MAAA,QAAA,EAAA,EAnDA;AAmDA;AACA,MAAA,gBAAA,EAAA,EApDA;AAoDA;AACA,MAAA,WAAA,EAAA,EArDA;AAqDA;AACA,MAAA,aAAA,EAAA,EAtDA;AAsDA;AACA,MAAA,eAAA,EAAA,EAvDA;AAuDA;AACA,MAAA,UAAA,EAAA,EAxDA;AAyDA,MAAA,WAAA,EAAA,EAzDA;AA0DA,MAAA,QAAA,EAAA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA,OA1DA;AA8EA,MAAA,OAAA,EAAA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1DA,OA9EA;AAyIA;AACA,MAAA,OAAA,EAAA,IA1IA,CA0IA;;AA1IA,KAAA;AA4IA,GA/JA;AAgKA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,OAAA;AACA,KAHA;AAIA,IAAA,cAJA,4BAIA;AACA,UAAA,KAAA,MAAA,EAAA;AACA,eAAA;AACA,UAAA,WAAA,QADA;AAEA,UAAA,KAAA,qBAFA;AAGA,UAAA,QAAA,EAAA;AAHA,SAAA;AAKA,OANA,MAMA;AACA,eAAA;AACA,UAAA,WAAA,SADA;AAEA,UAAA,KAAA,sBAFA;AAGA,UAAA,QAAA,EAAA;AAHA,SAAA;AAKA;AACA,KAlBA;AAmBA,IAAA,UAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,eAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA;AACA,OAHA;AAIA,MAAA,GAJA,eAIA,GAJA,EAIA;AACA,eAAA,KAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,GAAA,CAAA;AACA;AANA;AAnBA,GAhKA;AA4LA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA;AACA,WAAA,IAAA;AACA,KAJA,CAKA;AACA;AACA;AACA;;AARA,GA5LA;AAuMA,EAAA,OAvMA,qBAuMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAA,IAAA,GAXA,CAYA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,GAlTA;AAoTA,EAAA,OApTA,qBAoTA;AAAA;;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,YAAA,EAAA,IAAA;AACA,SAAA,SAAA,CAAA,YAAA;AACA,MAAA,KAAA,CAAA,WA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","sourcesContent":["<template>\n  <section>\n    <loginPop ref=\"login\" @successLogin=\"init\"></loginPop>\n    <div :class=\"[{ fold: isFold }, 'main-header']\">\n      <homeNav :navLogo=\"true\"></homeNav>\n      <!--      <homeNav :navLogo=\"false\"></homeNav>-->\n    </div>\n    <div class=\"liveroom\" :class=\"[{ fold: isFold }, 'main-container']\">\n      <LeftSideBar @changeFoldState=\"getFoldState\"></LeftSideBar>\n      <div class=\"main-wrap\">\n        <LiveroomHeader\n          :channelInfo=\"channelInfo\"\n          v-bind:follow.sync=\"userInfo.follow\"\n          @login=\"login\"\n        ></LiveroomHeader>\n\n        <div class=\"empty\" ref=\"danmaku\" id=\"danmaku\">\n          <videoPlayer ref=\"dPlayer\" :roomId=\"liveroom\" :notLivingSuggest=\"recommendVideo2\"></videoPlayer>\n          <!--          <LiveroomPaodao :messageItem=\"messageItem\"></LiveroomPaodao>-->\n        </div>\n        <LiveroomGift\n          :userLogin=\"userLogin\"\n          :channelInfo=\"channelInfo\"\n          :giftList=\"giftList\"\n          @sendGiftSuccess=\"sendGiftSuccess\"\n          @login=\"login\"\n        ></LiveroomGift>\n        <LiveroomRecommend ref=\"recommend\" :recommendList=\"recommendList\"></LiveroomRecommend>\n      </div>\n      <div class=\"chat-wrap\">\n        <liveroomNotice :msg=\"channelInfo.notice\"></liveroomNotice>\n        <liveroomChat\n          :giftListToObject=\"giftListToObject\"\n          :hongbaoList=\"hongbaoList\"\n          :userLogin=\"userLogin\"\n          :msgList=\"msgList\"\n          :giftItem=\"giftItem\"\n          :userInfo=\"userInfo\"\n          @login=\"login\"\n          @hongBaoSuccess=\"getloginInfo\"\n        ></liveroomChat>\n        <liveroomInput :userInfo=\"userInfo\" @sendMsg=\"sendMsg\" @login=\"login\"></liveroomInput>\n        <LiveroomLoginDialog @login=\"login\"></LiveroomLoginDialog>\n      </div>\n    </div>\n    <liveroomSmallvideo></liveroomSmallvideo>\n  </section>\n</template>\n<script>\nimport LiveroomHeader from \"@/components/liveroom/LiveroomHeader\";\nimport LiveroomGift from \"@/components/liveroom/LiveroomGift\";\nimport liveroomNotice from \"@/components/liveroom/LiveroomNotice\";\n// import liveroomRank from \"@/components/liveroom/LiveroomRank\";\nimport liveroomInput from \"@/components/liveroom/LiveroomInput\";\nimport liveroomChat from \"@/components/liveroom/LiveroomChat\";\n// import LiveroomPaodao from \"@/components/liveroom/LiveroomPaodao\";\nimport LiveroomLoginDialog from \"@/components/liveroom/LiveroomLoginDialog\";\nimport LiveroomRecommend from \"@/components/liveroom/LiveroomRecommend\";\nimport liveroomSmallvideo from \"@/components/liveroom/liveroomSmallvideo.vue\"\n\nimport LeftSideBar from \"@/components/left-side-bar.vue\";\nimport homeNav from \"@/views/home/homeNav.vue\";\nimport loginPop from \"@/components/login/loginTipPopup.vue\";\nimport videoPlayer from \"@/components/video/videoPlayer.vue\";\n\nimport { md5Secret } from \"@/utils/md5.js\";\nimport * as Chat from \"@/utils/chat.js\";\nimport { event } from \"@/utils/leancloud.js\";\nimport {\n  queryRoomRanking,\n  channelInfo,\n  enterRoom,\n  getGiftList,\n  loginInfo\n} from \"@/api/liveroom\";\nimport { recommendLiveList } from \"@/api/api\";\n\nimport { debounce } from \"@/utils/debounceAndthrottle\";\n// import Cookies from 'js-cookie';\nimport Danmaku from \"danmaku\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport default {\n  name: \"LiveRoom\",\n  components: {\n    LiveroomHeader,\n    LiveroomGift,\n    liveroomChat,\n    // LiveroomPaodao,\n    liveroomNotice,\n    // liveroomRank,\n    LiveroomLoginDialog,\n    liveroomInput,\n    LiveroomRecommend,\n    liveroomSmallvideo,\n    LeftSideBar,\n    homeNav,\n    loginPop,\n    videoPlayer\n  },\n  data() {\n    return {\n      flag: 3,\n      isFold: true,\n      userLogin: {\n        // \"id\": \"6806129\",\n        // \"token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4LXp5LXVzZXItaWQiOiI2ODA2MTI5IiwiaXNzIjoiemhhbmd5dSIsImV4cCI6MTU3OTUxOTY0MiwiaWF0IjoxNTc4MzEwMDQyfQ.VU2NbKftvSJTRe1tTcXtRoWW4UnGg36gGGbHq3KgSBfhDLNjptkLsYPNyhsU_lpaZJ97Hq4LnA8Q8ThgPmAtnQ\",\n        // \"mobile\": \"184****6272\",\n        // \"uname\": \"\",\n        // \"status\": 0,\n        // \"avatarUrl\": \"https://pic.imifan.live/avatar/2019121013081813608091574583384.jpg\",\n        // \"accountDto\": {\n        //   \"_id\": \"13183057850163215\",\n        //   \"uid\": \"6806129\",\n        //   \"cashAccount\": {\n        //     \"totalBalance\": 9011,\n        //     \"balance\": 9011,\n        //     \"frzBalance\": 0,\n        //     \"totalRecharge\": 12000,\n        //     \"totalWithdrawal\": 10000\n        //   },\n        //   \"salaryAccount\": {\n        //     \"totalBalance\": 6000,\n        //     \"balance\": 5000,\n        //     \"frzBalance\": 1000,\n        //     \"totalRecharge\": 0,\n        //     \"totalWithdrawal\": 0\n        //   },\n        //   \"cashAssets\": 8011,\n        //   \"miCoin\": {\n        //     \"balance\": 379898800,\n        //     \"totalExpend\": 1099998,\n        //     \"totalRecharge\": 1099998\n        //   },\n        //   \"cashTotalRecharge\": 1111998,\n        //   \"cashTotalWithdrawal\": 10000\n        // },\n        // \"isAnchor\": true,\n        // \"favorite\": 1,\n        // \"wxBindStatus\": \"BIND\",\n        // \"wxName\": \"mimo\",\n        // \"canEditUname\": true,\n        // \"logOutStatus\": \"INAUDIT\"\n      },\n      liveroom: \"\",\n      channelInfo: {}, // \n      userInfo: {\n        channelRoleType: 0,\n        follow: false,\n        forbid: false,\n        forbidEndTime: null\n      }, // \n      giftList: [], // \n      giftListToObject: {}, // \n      hongbaoList: [], // \n      recommendList: [], // \n      recommendVideo2: [], // \n      rankObject: {},\n      messageItem: {},\n      giftItem: {\n        // \"gift\": {\n        //   \"anchorId\": \"6919164\",\n        //   \"anchorName\": \"\",\n        //   \"id\": 12915206930636802,\n        //   \"name\": \"\",\n        //   \"number\": 1,\n        //   \"picture\": \"https://pic.imifan.live/gifts/langXianXian/2019101819283913031452620677141.png\",\n        //   \"showGift\": true,\n        //   \"totalFee\": 10\n        // },\n        // \"pType\": 0,\n        // \"pid\": \"6919164\",\n        // \"sign\": \"286403A393C275046C3053CA7EBE4ADD\",\n        // \"user\": {\n        //   \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\n        //   \"id\": \"3486074\",\n        //   \"name\": \"\"\n        // }\n      },\n      msgList: [\n        // \n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000004\",\"user\":{\"role\":0,\"name\":\"567\",\"id\":\"10000004\"}},\"_lctype\":-1,\"_lctext\":\"11111111111111111111111\"},\n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":1,\"name\":\"567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"1\"},\n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":2,\"name\":\"567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"2\"},\n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":9,\"name\":\"567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"3\"},\n        // {\"_lcattrs\":{\"gift\":{\"anchorId\":\"6336335\",\"anchorName\":\"\",\"id\":12915206930636801,\"name\":\"\",\"number\":1,\"picture\":\"https://pic.imifan.live/gifts/riceBall/2019101819132913031452620677128.png\",\"showGift\":true,\"totalFee\":10},\"pType\":0,\"pid\":\"6336335\",\"sign\":\"F5AE7BF879696F2ECE83AADD2359E229\",\"user\":{\"avatar\":\"https://pic.imifan.live/avatar/2019111210320013250427765727273.jpg\",\"id\":\"6741398\",\"name\":\"\"}},\"_lctext\":\"12915206930636801\",\"_lctype\":2}, {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":0,\"name\":\"567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"11111111111111111111111\"},\n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":1,\"name\":\"567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"1\"},\n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":2,\"name\":\"567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"2\"},\n        // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":9,\"name\":\"567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"3\"},\n        // {\"_lcattrs\":{\"gift\":{\"anchorId\":\"6336335\",\"anchorName\":\"\",\"id\":12915206930636801,\"name\":\"\",\"number\":1,\"picture\":\"https://pic.imifan.live/gifts/riceBall/2019101819132913031452620677128.png\",\"showGift\":true,\"totalFee\":10},\"pType\":0,\"pid\":\"6336335\",\"sign\":\"F5AE7BF879696F2ECE83AADD2359E229\",\"user\":{\"avatar\":\"https://pic.imifan.live/avatar/2019111210320013250427765727273.jpg\",\"id\":\"6741398\",\"name\":\"\"}},\"_lctext\":\"12915206930636801\",\"_lctype\":2},\n        // {\n        //   \"_lctype\": 1,\n        //   \"_lctext\": \"\",\n        //   \"_lcattrs\": {\n        //     \"user\": { \"id\": \"20032019\", \"name\": \"\", \"role\": 9, \"avatar\": \"xxxxxx\" },\n        //     \"sm\": { \"type\": 0 },\n        //     \"gift\": { \"id\": 83743784138, \"number\": 12, \"totalFee\": 1200, \"anchorId\": \"726265\" },\n        //     \"rw\": { \"type\": 0, \"level\": 0, \"isJump\": 0 },\n        //     \"pType\": 0,\n        //     \"pid\": \"126712676\"\n        //   }\n        // },\n        // {\n        //   \"_lctype\": 1,\n        //   \"_lctext\": \"\",\n        //   \"_lcattrs\": {\n        //     \"user\": { \"id\": \"20032019\", \"name\": \"\", \"role\": 9, \"avatar\": \"xxxxxx\" },\n        //     \"sm\": { \"type\": 1 },\n        //     \"gift\": { \"id\": 83743784138, \"number\": 12, \"totalFee\": 1200, \"anchorId\": \"726265\" },\n        //     \"rw\": { \"type\": 0, \"level\": 0, \"isJump\": 0 },\n        //     \"pType\": 0,\n        //     \"pid\": \"126712676\"\n        //   }\n        // },\n        // {\n        //   \"_lctype\": 5,\n        //   \"_lctext\": \"ban\",\n        //   \"_lcattrs\": {\n        //     \"user\": { \"id\": \"20032019\", \"name\": \"\", \"role\": 9, \"avatar\": \"xxxxxx\" },\n        //     \"sm\": { \"type\": 0 },\n        //     \"gift\": { \"id\": 83743784138, \"number\": 12, \"totalFee\": 1200, \"anchorId\": \"726265\" },\n        //     \"rw\": { \"type\": 0, \"level\": 0, \"isJump\": 0 },\n        //     \"pType\": 0,\n        //     \"pid\": \"126712676\"\n        //   }\n        // },\n        // {\n        //   \"_lctype\": 1,\n        //   \"_lctext\": \"\",\n        //   \"_lcattrs\": {\n        //     \"user\": { \"id\": \"20032019\", \"name\": \"\", \"role\": 9, \"avatar\": \"xxxxxx\" },\n        //     \"sm\": { \"type\": 0 },\n        //     \"gift\": { \"id\": 83743784138, \"number\": 12, \"totalFee\": 1200, \"anchorId\": \"726265\" },\n        //     \"rw\": { \"type\": 0, \"level\": 0, \"isJump\": 0 },\n        //     \"pType\": 0,\n        //     \"pid\": \"126712676\"\n        //   }\n        // }\n      ], // \n      danmaku: null, // \n    };\n  },\n  computed: {\n    isLogin() {\n      return this.$store.getters.isLogin;\n    },\n    topNavStyleObj() {\n      if (this.isFold) {\n          return {\n            paddingLeft: `48px`,\n            width: `calc(100% - 48px)`,\n            minWidth: \"1132px\"\n          };\n        } else {\n          return {\n            paddingLeft: `240px`,\n            width: `calc(100% - 240px)`,\n            minWidth: \"948px\"\n          };\n        }\n    },\n    userStatus: {\n      get() {\n        return this.$store.state.userStatus;\n      },\n      set(val) {\n        return this.$store.commit(\"updateUserStatus\", val);\n      }\n    }\n  },\n  watch: {\n    $route() {\n      // \n      this.init();\n    }\n    // isLogin(value) {\n    //   //   \n    //   if(value) this.init()\n    // }\n  },\n\n  created() {\n    // let sign = \"123*5\";\n    // let md5string = \"12345\";\n    //\n    // if (sign.indexOf(\"*\") > -1) {\n    //   console.log((sign = sign.split(\"*\")[0]), \"sign.split('*')[0]\");\n    //   console.log((md5string = md5string.slice(0, sign.length)), \"md5string\");\n    // }\n    // console.log(md5string === sign);\n    // document.cookie = 'xx-user-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4LXp5LXVzZXItaWQiOiIzNDg2MDc0IiwiaXNzIjoiemhhbmd5dSIsImV4cCI6MTU3OTE1NDcyOCwiaWF0IjoxNTc3OTQ1MTI4fQ.fdWr8bgcExT3a7Qr8k-AMEF142FqK09RtqMWAHc4TECvJA7V_gD2F8v7UMsJKhbAspgWdN84byJfh3IALkg70w'\n    // Cookies.set('xx-user-token','eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4LXp5LXVzZXItaWQiOiIzNDg2MDc0IiwiaXNzIjoiemhhbmd5dSIsImV4cCI6MTU3OTE1NDcyOCwiaWF0IjoxNTc3OTQ1MTI4fQ.fdWr8bgcExT3a7Qr8k-AMEF142FqK09RtqMWAHc4TECvJA7V_gD2F8v7UMsJKhbAspgWdN84byJfh3IALkg70w')\n    this.init();\n    // setTimeout(() => {\n    //   this.msgList.push({\n    //     name: 111,\n    //     content: 222222\n    //   })\n    // },3000)\n\n    // test chatroom\n    // let index = 1;\n    // setInterval(() => {\n    //   console.log('msgList push');\n    //   this.msgList.push({\n    //     name: 111,\n    //     content: 222222+ index\n    //   })\n    //   index++\n    // },3000)\n\n    // test \n    // let i = 1;\n    // let timer = setInterval(() => {\n    //   if (i == 10) clearInterval(timer);\n    //   this.giftItem = {\n    //     \"gift\": {\n    //       \"anchorId\": \"6919164\",\n    //       \"anchorName\": \"\",\n    //       \"id\": 12915206930636802,\n    //       \"name\": \"\",\n    //       \"number\": 1,\n    //       \"picture\": \"https://pic.imifan.live/gifts/langXianXian/2019101819283913031452620677141.png\",\n    //       \"showGift\": true,\n    //       \"totalFee\": 10 * i\n    //     },\n    //     \"pType\": 0,\n    //     \"pid\": \"6919164\",\n    //     \"sign\": \"286403A393C275046C3053CA7EBE4ADD\",\n    //     \"user\": {\n    //       \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\n    //       \"id\": \"3486074\",\n    //       \"name\": \"\"\n    //     }\n    //   }\n    //   i++\n    //\n    //   console.log('setTimeout-----------------------');\n    //   this.getRank();\n    //\n    // }, 1000)\n\n    // test \n    // let i = 1;\n    // let timer = setInterval(() => {\n    //   if (i == 3) clearInterval(timer);\n    //   this.msgList.push({\"_lcattrs\":{\"gift\":{\"anchorId\":\"10007878\",\"anchorName\":\"_10007878\",\"id\":\"12915206930636816\",\"name\":\"\",\"number\":1,\"picture\":\"https://pic.imifan.live/gifts/manchu/2019101819301813031452620677143.png\",\"showGift\":true,\"totalFee\":200000},\"pType\":0,\"pid\":\"10007878\",\"sign\":\"B575A0DA78F8AB6A0A20D4D1546C8279\",\"user\":{\"avatar\":\"https://pic.imifan.live/avatar/2020011612283314054534902399033.jpg\",\"id\":\"6782355\",\"name\":\"fred\"}},\"_lctext\":\"12915206930636816\",\"_lctype\":2})\n    // this.messageItem = {\n    //   \"_lcattrs\": {\n    //     \"pType\": 1,\n    //     \"rw\": {\n    //       \"anchorId\": \"6144444\",\n    //       \"anchorName\": \"\",\n    //       \"duration\": 10000,\n    //       \"isJump\": 1,\n    //       \"level\": 0,\n    //       \"name\": \"\",\n    //       \"number\": 2,\n    //       \"picture\": \"https://pic.imifan.live/gifts/fruitCastle/2019101819410313031452620677151.png\",\n    //       \"times\": 3,\n    //       \"type\": 1\n    //     },\n    //     \"sign\": \"64C3A3E27B5DB6DAFE1F3C46B6D9FEAE\",\n    //     \"user\": {\n    //       \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\n    //       \"id\": \"3486074\",\n    //       \"name\": \"\"\n    //     }\n    //   }, \"_lctext\": \" 2  !\", \"_lctype\": 4\n    // }\n    //   i++\n    //\n    //   console.log('setTimeout');\n    //\n    // }, 1000)\n\n    // \n    // setTimeout(() => {\n    //   this.userInfo= {\n    //     channelRoleType: 2,\n    //     follow: false,\n    //     forbid: true,\n    //     forbidEndTime: 1577963587139\n    //   };\n    // },3000)\n\n    //  \n    // this.hongbaoList.push({\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"rp\":{\"time\":5000,\"id\":\"3506329\"}},\"_lctype\":3,\"_lctext\":\"\"})\n  },\n\n  mounted() {\n    window.addEventListener(\"scroll\", this.handleScroll, true);\n    this.$nextTick(() => {\n      this.DanmakuInit();\n    });\n  },\n  destroyed() {\n    // resize\n    this.danmaku.destroy();\n    window.removeEventListener(\"resize\", this.danmakuResize);\n  },\n  methods: {\n    //\n    handleScroll() {\n      this.scrollTop = window.pageYOffset;\n      console.log(this.scrollTop);\n      if (this.scrollTop >= 700) {\n        this.videoshow = true;\n      } else {\n        this.videoshow = false;\n      }\n    },\n    getFoldState() {\n      // let leftFoldState = window.sessionStorage.getItem(\"leftFoldState\");\n      // this.isFold =\n      //   leftFoldState === null || leftFoldState === \"false\" ? false : true;\n      this.$nextTick(() => {\n        this.$refs.recommend.init();\n      });\n    },\n    DanmakuInit() {\n      this.danmaku = new Danmaku({\n        // \n        container: this.$refs.danmaku,\n        // container: this.$refs.dPlayer,\n        // container: document.querySelector('#danmaku'),\n        // container: document.querySelector('.video-player'),\n        // video: document.querySelector('.dplayer-video'),\n\n        //  emit API \n        comments: [],\n\n        //  DOM  canvas canvas  DOM \n        //  DOM \n        // engine: 'canvas',\n\n        //  speed API \n        speed: 105\n      });\n\n      // setInterval(() => {\n      //   this.danmaku.emit(comment);\n      // },200)\n      this.danmakuResize();\n      window.addEventListener(\"resize\", this.danmakuResize);\n    },\n    danmakuResize: debounce(\n      function() {\n        console.log(this.danmaku);\n        this.danmaku.resize();\n      },\n      200,\n      false\n    ),\n    /**\n     * type \n     * \n     * -1 #ffffff\n     * 1#FFC955\n     * 2 #FF7F64\n     * @param message\n     * @param type\n     */\n    sendDanmaku(message, type) {\n      let colorMap = {\n        \"-1\": \"#ffffff\",\n        1: \"#FFC955\",\n        2: \"#FF7F64\"\n      };\n      let comment = {\n        text: message,\n\n        //  rtl ltrrtltopbottom\n        mode: \"rtl\",\n\n        //  DOM Danmaku  <div> \n        //  CSS  div.style \n        style: {\n          // top: '30px',\n          zIndex: 10,\n          fontSize: \"24px\",\n          fontWeight: \"700\",\n          opacity: \"0.84\",\n          lineHeight: \"33px\",\n          color: colorMap[type],\n          padding: \"4px 0\",\n          textShadow: \"1px 0px 1px rgba(34,34,34,1)\"\n        }\n\n        // \n        //  `render` , `text`, `html`, `style`  `canvasStyle` \n\n        //  DOM  HTMLElement\n        // render: function() {\n        // var $div = document.createElement('div');\n        // var $img = document.createElement('img');\n        // $img.src = '/path/to/xxx.png';\n        // $div.appendChild($img);\n        // return $div;\n        // },\n        //  canvas  HTMLCanvasElement\n        // render: function() {\n        //   var canvas = document.createElement('canvas');\n        //   canvas.width = 320;\n        //   canvas.height = 180;\n        //   var ctx = canvas.getContext('2d');\n        //   ctx.beginPath();\n        //   ctx.arc(75, 75, 50, 0, 2 * Math.PI);\n        //   ctx.stroke();\n        //   return canvas;\n        // }\n      };\n      this.danmaku.emit(comment);\n    },\n    init() {\n      // \n      // this.getFoldState();\n      console.log(6666);\n      this.liveroom = this.$route.params.liveroom;\n      // if (this.getChannelInfo instanceof Promise) {\n      //   console.log(\"yes Promise\");\n      // } else console.log(\"no Promise\");\n      this.getChannelInfo().then(()=>{\n          console.log(\"yes Promise\");\n          this.connetConversation();\n          this.getrecommendLiveList();\n      })      \n      this.getGiftList();\n      // this.getRanking();\n      this.getloginInfo();\n      this.enterRoom();\n    },\n    sendGiftSuccess(data) {\n      this.$set(this.userLogin, \"credit\", data.credit);\n    },\n    // \n    getloginInfo() {\n      if (!this.isLogin) return;\n      return loginInfo().then(res => {\n        this.userLogin = res.data;\n        // this.userStatus.userInfo.balance = res.data.accountDto.miCoin.balance\n        // console.log('this.userStatus.userInfo.balance',this.userStatus.userInfo.balance)\n        console.log(\"-\", res);\n      });\n    },\n    // \n    enterRoom() {\n      // if (!this.isLogin) return;\n      return enterRoom({ cid: this.liveroom }).then(res => {\n        this.userInfo = res.data;\n        console.log(res);\n      });\n    },\n    // \n    getChannelInfo() {\n    return channelInfo({ cid: this.liveroom }).then(res => {\n           this.channelInfo = res.data;\n           document.title = this.channelInfo.name;\n           console.log(112233);\n           console.log(res);\n        });\n    },\n    // \n    getrecommendLiveList() {\n      return recommendLiveList(\n        {\n          recommendAnchorType: \"SEARCH_PAGE\"\n          // size: 10,\n        },\n        {}\n      ).then(res => {\n        // \n        if (this.channelInfo.playStatusCode == 905) {\n          console.log('1')\n          this.recommendVideo2 = res.data.slice(0, 2);\n          this.recommendList = res.data.slice(2);\n        } else {\n          this.recommendList = res.data;\n        }\n        console.log(res);\n      });\n    },\n    // \n    getGiftList() {\n      return getGiftList().then(res => {\n        this.giftList = res.data;\n        // this.giftList = [res.data[0],res.data[0],res.data[0],res.data[0],res.data[0],res.data[0],res.data[0],res.data[0]];\n\n        res.data.forEach(item => {\n          this.$set(this.giftListToObject, item.id, item);\n        });\n        console.log(res);\n      });\n    },\n    // \n    getRanking() {\n      return queryRoomRanking({ anchorId: this.liveroom, type: 0 }).then(res => {\n        this.rankObject = res.data;\n      });\n    },\n    //  \n    getRank: debounce(\n      function() {\n        this.getRanking();\n      },\n      1000,\n      false\n    ),\n    // \n    connetConversation() {\n      var error;\n      // throw error;yarn\n      console.log(\"-\", this.userStatus);\n      let clientId = \"CHAT_VISITOR_\" + uuidv4();\n      if (this.isLogin) {\n        clientId = \"CHAT_USER_\" + this.userStatus.userInfo.uid;\n      }\n      console.log(\"clientId\", clientId);\n      Chat.getChatRoom(clientId, this.channelInfo.chatRooms[0]).then(\n        // test--\n        conversation => {\n          console.log(conversation, \"conversation\");\n          this.msgList.push({\n            _lctype: 1,\n            // _lctext: `${ this.channelInfo.uname }24`\n            _lctext: `24`\n          });\n          // this.sendDanmaku(`${ this.channelInfo.uname }24`, 1)\n          try {\n            // \n            conversation.on(event.MESSAGE, message => {\n              console.log(\"event.MESSAGE\", event.MESSAGE);\n              console.log(\"message\", message);\n              console.log(\"message.content\", message.content);\n              console.log(\n                message.content,\n                \"contentcontentcontentcontentcontent\"\n              );\n              console.log(\n                message.content._lctext,\n                \"messagemessagemessagemessagemessage\"\n              );\n              this.assignedMessage(message.content);\n            });\n            // //  clientId \n            conversation.on(event.CONFLICT, function() {\n              // TODO \n              console.log(\"\");\n            });\n          } catch (error) {\n            console.log(\"\");\n          }\n        }\n      );\n    },\n    // \n    assignedMessage(message) {\n      let text = message._lctext;\n      let type = message._lctype;\n      let md5String = md5Secret(text);\n      let sign = message._lcattrs.sign;\n      /**\n       * leanCloud, *, \n       * : *: \n       * : *, *, ,\n       * : , *, \n       */\n      if (sign.indexOf(\"*\") > -1) {\n        sign = sign.split(\"*\")[0];\n        md5String = md5String.slice(0, sign.length);\n\n        console.log(sign, \"sign\");\n        console.log(md5String, \"md5string\");\n      }\n      console.log(md5String === sign, \"md5String === sign\");\n      if (md5String === sign && md5String !== \"false\") {\n        console.log(\"receive message:\" + text);\n        // \n        if (type === -1 || type === 1 || type === 2 || type === 5) {\n          this.msgList.push(JSON.parse(JSON.stringify(message)));\n        }\n        // \n        if (type === -1) {\n          this.sendDanmaku(text, \"-1\");\n        }\n        if (type === 1) {\n          this.sendDanmaku(text, message._lcattrs.sm === 0 ? 2 : 1);\n        }\n        //  \n        if (type === 5 && message._lcattrs.fb.uid === this.userLogin.id) {\n          this.enterRoom();\n        }\n        //  \n        if (type === 6 && message._lcattrs.manager.id === this.userLogin.id) {\n          this.enterRoom();\n        }\n        // \n        if (type === 2) {\n          this.giftItem = JSON.parse(JSON.stringify(message._lcattrs));\n          // this.getRank();\n        }\n        // \n        if (type === 3) {\n          this.hongbaoList.push(JSON.parse(JSON.stringify(message)));\n        }\n        // \n        if (type === 4) {\n          this.messageItem = JSON.parse(JSON.stringify(message));\n        }\n      }\n    },\n    // \n    sendMsg(msg) {\n      console.log(msg, \"sendMsg\");\n      let sign = md5Secret(msg);\n      let params = {\n        user: {\n          id: this.userLogin.id,\n          name: this.userLogin.uname,\n          role: this.userInfo.channelRoleType,\n          avatar: this.userLogin.avatarUrl\n        },\n        pType: 0,\n        pid: this.liveroom,\n        lcuid: `CHAT_USER_${this.userLogin.id}`,\n        sign\n      };\n      Chat.sendMsg(msg, params).then(() => {\n        console.log(\"success\");\n        this.msgList.push({\n          _lcattrs: {\n            user: {\n              role: this.userInfo.channelRoleType,\n              name: this.userLogin.uname,\n              id: this.userLogin.id,\n              avatar: this.userLogin.avatarUrl\n            }\n          },\n          _lctype: -1,\n          _lctext: msg\n        });\n        this.sendDanmaku(msg, \"-1\");\n      });\n    },\n    login() {\n      // \n      this.$refs.login.openLoginDialog();\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/assets/css/_index.scss\";\n\n.video-player {\n  /*position: absolute;*/\n  /*width: 100%;*/\n  /*height:100%;*/\n}\n\n.topNav {\n  position: fixed;\n  z-index: $z-index1;\n  top: 0;\n  left: 0;\n  width: 100%;\n  min-width: 948px;\n  padding-left: 240px;\n  // transition: all 0.5s;\n  background-color: #fff;\n}\n\n.main-header {\n  position: fixed;\n  z-index: 21;\n  top: 0;\n  left: 0;\n  width: 100%;\n\n  ::v-deep.home-nav {\n    /*width: calc(100% - 480px);*/\n    /*margin: 0 240px;*/\n    /*box-sizing:border-box;*/\n  }\n}\n\n.main-container {\n  padding-left: 240px;\n\n  &.fold {\n    padding-left: 48px;\n  }\n}\n\n.liveroom {\n  position: relative;\n  padding-top: 60px;\n  padding-right: 370px;\n\n  background-color: $bg-main;\n  @extend %clearfix;\n}\n\n.main-wrap {\n  margin: 20px 20px 20px 35px;\n  min-width: 535px;\n  // float:left;\n  display: flex;\n  flex-direction: column;\n}\n\n.chat-wrap {\n  position: fixed;\n  z-index: 3;\n  right: 0;\n  top: 80px;\n  overflow: hidden;\n  border-radius: 10px;\n  width: 370px;\n  height: 100%;\n\n  background-color: #fff;\n\n  border: 1px solid $color-border;\n  border-top: 0px solid $color-border;\n  border-right: 0px solid $color-border;\n}\n\n.empty {\n  position: relative;\n  /*height: 350px;*/\n  background-color: #ccc;\n  // hack  \n  & > ::v-deep div:not(:only-child):last-of-type {\n    position: absolute !important;\n    z-index: 19 !important;\n    top: 0 !important;\n    /*background-color: red!important;*/\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}