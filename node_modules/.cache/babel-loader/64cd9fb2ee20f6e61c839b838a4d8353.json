{"remainingRequest":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/babel-loader/lib/index.js!/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/src/components/video/VueDplayerHls.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/src/components/video/VueDplayerHls.vue","mtime":1596600781121},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js","mtime":1595570902420},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/babel-loader/lib/index.js","mtime":1595570901804},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js","mtime":1595570902420},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/vue-loader/lib/index.js","mtime":1595570907990}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IEhscyBmcm9tICdobHMuanMnIC8vIGhsc+aooeW8jy1tM3U45rWBCmltcG9ydCBmbHZqcyBmcm9tICdmbHYuanMvZGlzdC9mbHYubWluLmpzJzsgLy8gZmx25rWB77yMCgppbXBvcnQgRFBsYXllciBmcm9tICdkcGxheWVyJzsKaW1wb3J0ICdkcGxheWVyL2Rpc3QvRFBsYXllci5taW4uY3NzJzsKaW1wb3J0IGVsZW1lbnRSZXNpemVEZXRlY3Rvck1ha2VyIGZyb20gJ2VsZW1lbnQtcmVzaXplLWRldGVjdG9yJzsKaW1wb3J0IHN0b3JhZ2VzIGZyb20gIkAvdXRpbHMvc3RvcmFnZS5qcyI7IC8vIHdpbmRvdy5IbHMgPSBIbHMKCndpbmRvdy5mbHZqcyA9IGZsdmpzOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHZpZGVvOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRQbGF5ZXI6IG51bGwsCiAgICAgIGhlaWdodDogMAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAvLyB2aWRlbzp7Ly/mt7Hluqbnm5HlkKzvvIzlj6/nm5HlkKzliLDlr7nosaHjgIHmlbDnu4TnmoTlj5jljJYKICAgIC8vICAgaGFuZGxlcjpmdW5jdGlvbih2YWwsIG9sZFZhbCl7CiAgICAvLyAgICAgY29uc29sZS5sb2coKQogICAgLy8gICAgIGlmKHZhbC51cmwgIT09JycgKXsKICAgIC8vICAgICAgY29uc29sZS5sb2coJ+aSreaUvuWZqC3nm5HlkKx2aWRlb+aWsCcsdmFsLCfnm5HlkKx2aWRlb+aWsCcsb2xkVmFsKQogICAgLy8gICAgICAvLyB0aGlzLmRlc3Ryb3lQbGF5ZXIoKQogICAgLy8gICAgICB0aGlzLmluaXREUGxheWVyKCkKICAgIC8vICAgICB9CiAgICAvLyAgIH0sCiAgICAvLyAgIGRlZXA6dHJ1ZSAvL3RydWUg5rex5bqm55uR5ZCsCiAgICAvLyAgfQogICAgJ3ZpZGVvLnBpYyc6IGZ1bmN0aW9uIHZpZGVvUGljKG5ld1ZhbHVlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyhuZXdWYWx1ZSwgJ25ld1ZhbHVlbmV3VmFsdWVuZXdWYWx1ZW5ld1ZhbHVlJyk7CgogICAgICBpZiAobmV3VmFsdWUgIT09ICcnKSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuaW5pdERQbGF5ZXIoKTsKCiAgICAgICAgICBfdGhpcy5saXN0ZW5FbGVtZW50d2lkdGgoJ2RwbGF5ZXIxJyk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMubGlzdGVuRWxlbWVudHdpZHRoKCdkcGxheWVyMicpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgY29uc29sZS5sb2coJ3dpbmRvdycsIHdpbmRvdyk7CiAgICBjb25zb2xlLmxvZygnZmx2anMnLCBmbHZqcyk7CgogICAgaWYgKHRoaXMudmlkZW8udXJsICE9PSAnJykgewogICAgICB0aGlzLmluaXREUGxheWVyKCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmxpc3RlbkVsZW1lbnR3aWR0aCgnZHBsYXllcjInKTsKICAgICAgfSk7CiAgICB9IC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkcGxheWVyMSIpLm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbigpeyAgLy8gdGVzdCDljrvmjonlj7PplK4KICAgIC8vICAgIHJldHVybiBmYWxzZTsKICAgIC8vIH0KCiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0RFBsYXllcjogZnVuY3Rpb24gaW5pdERQbGF5ZXIoKSB7CiAgICAgIGNvbnNvbGUubG9nKCfmkq3mlL7lmajliJ3lp4vljJYnKTsKICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkodGhpcy52aWRlbykpOwogICAgICB0aGlzLmRQbGF5ZXIgPSBuZXcgRFBsYXllcih7CiAgICAgICAgY29udGFpbmVyOiB0aGlzLiRyZWZzLmRwbGF5ZXIsCiAgICAgICAgbGl2ZTogdHJ1ZSwKICAgICAgICBhdXRvcGxheTogdHJ1ZSwKICAgICAgICAvLyDoh6rliqjmkq3mlL4KICAgICAgICB0aGVtZTogJyMxQkI1RUMnLAogICAgICAgIGxvb3A6IGZhbHNlLAogICAgICAgIC8vIOinhumikeW+queOr+aSreaUvgogICAgICAgIGxhbmc6ICd6aC1jbicsCiAgICAgICAgc2NyZWVuc2hvdDogZmFsc2UsCiAgICAgICAgaG90a2V5OiBmYWxzZSwKICAgICAgICAvLyDlvIDlkK/ng63plK7vvIzmlK/mjIHlv6vov5vjgIHlv6vpgIDjgIHpn7Pph4/mjqfliLbjgIHmkq3mlL7mmoLlgZwKICAgICAgICBwcmVsb2FkOiAnYXV0bycsCiAgICAgICAgdm9sdW1lOiAwLjgsCiAgICAgICAgbXV0ZXg6IHRydWUsCiAgICAgICAgLy8g5LqS5pal77yM6Zi75q2i5aSa5Liq5pKt5pS+5Zmo5ZCM5pe25pKt5pS+CiAgICAgICAgY29udGV4dG1lbnU6ICcnLAogICAgICAgIHZpZGVvOiB0aGlzLnZpZGVvCiAgICAgIH0pOyAvLyB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIC8vICAgY29uc29sZS5sb2codGhpcy4kcmVmcy5kcGxheWVyLmNsaWVudFdpZHRoLCAnd3d3dy12aWRlbycpCiAgICAgIC8vICAgY29uc29sZS5sb2codGhpcy5oZWlnaHQgPSB0aGlzLiRyZWZzLmRwbGF5ZXIuY2xpZW50V2lkdGggLyA1ICogMywgJ2hlaWdodCcpCiAgICAgIC8vIH0pCgogICAgICB0aGlzLmRQbGF5ZXIucGxheSgpOwogICAgICBjb25zb2xlLmxvZygn5pKt5pS+5Zmo5Yid5aeL5YyW5a6M5oiQJyk7CiAgICAgIHRoaXMuaW5pdEV2ZW50cygpOwogICAgfSwKICAgIGRlc3Ryb3lQbGF5ZXI6IGZ1bmN0aW9uIGRlc3Ryb3lQbGF5ZXIoKSB7CiAgICAgIGNvbnNvbGUubG9nKCfplIDmr4Hmkq3mlL7lmagnKTsKICAgICAgdGhpcy5kUGxheWVyLmRlc3Ryb3koKTsKICAgIH0sCiAgICBsaXN0ZW5FbGVtZW50d2lkdGg6IGZ1bmN0aW9uIGxpc3RlbkVsZW1lbnR3aWR0aChkb20pIHsKICAgICAgLy8g55uR5ZCsLWRwbGF5ZXLlrr3luqYKICAgICAgdmFyIGVyZCA9IGVsZW1lbnRSZXNpemVEZXRlY3Rvck1ha2VyKCk7IC8vIOW8leWFpWVsZW1lbnQtcmVzaXplLWRldGVjdG9yLOebkeWQrOWuveW6puWPmOWMlgoKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICBlcmQubGlzdGVuVG8oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZG9tKSwgZnVuY3Rpb24gKCkgewogICAgICAgIHRoYXQuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMuZHBsYXllci5jbGllbnRXaWR0aCwgJ3ZpZGVvJykKICAgICAgICAgIGlmICh0aGlzLnZpZGVvLnVybCAhPT0gJycpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coMTIpOwogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLmRwbGF5ZXIuY2xpZW50V2lkdGggLyA1ICogMywgJ3ZpZGVvLWhlaWdodCcpOwogICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuJHJlZnMuZHBsYXllci5jbGllbnRXaWR0aCAvIDUgKiAzLCAndmlkZW8taGVpZ2h0JzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKDIzKTsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy4kcmVmcy5kcGxheWVyU3BlY2lhbC5jbGllbnRXaWR0aCAvIDUgKiAzLCAndmlkZW8taGVpZ2h0Jyk7CiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy4kcmVmcy5kcGxheWVyU3BlY2lhbC5jbGllbnRXaWR0aCAvIDUgKiAzLCAndmlkZW8taGVpZ2h0JzsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdEV2ZW50czogZnVuY3Rpb24gaW5pdEV2ZW50cygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmRQbGF5ZXIub24oJ3BsYXknLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRlbWl0KCdwbGF5Jyk7CiAgICAgIH0pOwogICAgICB0aGlzLmRQbGF5ZXIub24oJ3F1YWxpdHlfc3RhcnQnLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgc3RvcmFnZXMuc2V0SXRlbSgncXVhbGl0eScsIHJlcy5jb2RlKTsKCiAgICAgICAgX3RoaXMzLiRlbWl0KCdxdWFsaXR5X3N0YXJ0Jyk7CiAgICAgIH0pOwogICAgICB0aGlzLmRQbGF5ZXIub24oJ3BhdXNlJywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kZW1pdCgncGF1c2UnKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZFBsYXllci5vbignY2FucGxheScsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJGVtaXQoJ2NhbnBsYXknKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZFBsYXllci5vbigncGxheWluZycsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJGVtaXQoJ3BsYXlpbmcnKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZFBsYXllci5vbignZW5kZWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRlbWl0KCdlbmRlZCcpOwogICAgICB9KTsKICAgICAgdGhpcy5kUGxheWVyLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJGVtaXQoJ2Vycm9yJyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["VueDplayerHls.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n   <div v-if=\"video.url !== '' \" ref=\"dplayer\" class=\"dplayer\"  id=\"dplayer1\"  v-bind:style=\"{ height: height + 'px' }\"></div>\n   <div v-else ref=\"dplayerSpecial\" class=\"dplayer\"  id=\"dplayer2\"  v-bind:style=\"{ height: height + 'px' }\"></div>\n</template>\n\n<script>\n// import Hls from 'hls.js' // hls模式-m3u8流\nimport flvjs from 'flv.js/dist/flv.min.js' // flv流，\nimport DPlayer from 'dplayer'\nimport 'dplayer/dist/DPlayer.min.css'\nimport elementResizeDetectorMaker from 'element-resize-detector'\nimport storages from \"@/utils/storage.js\";\n\n // window.Hls = Hls\nwindow.flvjs = flvjs\nexport default {\n  props: {\n    video: {\n      type: Object\n    },\n  },\n  data () {\n    return {\n      dPlayer: null,\n      height: 0\n    }\n  },\n  watch: {\n    // video:{//深度监听，可监听到对象、数组的变化\n    //   handler:function(val, oldVal){\n    //     console.log()\n    //     if(val.url !=='' ){\n    //      console.log('播放器-监听video新',val,'监听video新',oldVal)\n    //      // this.destroyPlayer()\n    //      this.initDPlayer()\n    //     }\n    //   },\n    //   deep:true //true 深度监听\n    //  }\n     'video.pic' (newValue) {\n       console.log(newValue,'newValuenewValuenewValuenewValue');\n       if(newValue !== ''){\n        this.$nextTick(() => {\n          this.initDPlayer()\n          this.listenElementwidth('dplayer1')\n        })\n      }else {\n        this.$nextTick(() => {\n          this.listenElementwidth('dplayer2')\n        })\n\n      }\n    },\n  },\n  mounted () {\n    console.log('window',window)\n    console.log('flvjs',flvjs)\n    if(this.video.url !== ''){\n      this.initDPlayer()\n    }else {\n      this.$nextTick(() => {\n        this.listenElementwidth('dplayer2')\n      })\n    }\n    // document.getElementById(\"dplayer1\").oncontextmenu = function(){  // test 去掉右键\n    //    return false;\n    // }\n  },\n\n  methods: {\n    initDPlayer () {\n      console.log('播放器初始化')\n      console.log(JSON.stringify(this.video));\n      this.dPlayer = new DPlayer({\n        container: this.$refs.dplayer,\n        live: true,\n        autoplay: true, // 自动播放\n        theme: '#1BB5EC',\n        loop: false, // 视频循环播放\n        lang: 'zh-cn',\n        screenshot: false,\n        hotkey: false, // 开启热键，支持快进、快退、音量控制、播放暂停\n        preload: 'auto',\n        volume: 0.8,\n        mutex: true, // 互斥，阻止多个播放器同时播放\n        contextmenu: '',\n        video: this.video\n      })\n\n      // this.$nextTick(() => {\n      //   console.log(this.$refs.dplayer.clientWidth, 'wwww-video')\n      //   console.log(this.height = this.$refs.dplayer.clientWidth / 5 * 3, 'height')\n      // })\n      this.dPlayer.play()\n      console.log('播放器初始化完成')\n      this.initEvents();\n    },\n    destroyPlayer(){\n      console.log('销毁播放器')\n      this.dPlayer.destroy()\n    },\n    listenElementwidth (dom) {\n       // 监听-dplayer宽度\n      let erd = elementResizeDetectorMaker();  // 引入element-resize-detector,监听宽度变化\n      let that = this;\n      erd.listenTo(document.getElementById(dom), function () {\n        that.$nextTick(function () {\n        // console.log(this.$refs.dplayer.clientWidth, 'video')\n          if(this.video.url !== ''){\n            console.log(12)\n            console.log(this.$refs.dplayer.clientWidth / 5 * 3, 'video-height')\n            this.height = this.$refs.dplayer.clientWidth / 5 * 3, 'video-height'\n          }else{\n            console.log(23)\n            console.log(this.$refs.dplayerSpecial.clientWidth / 5 * 3, 'video-height')\n            this.height = this.$refs.dplayerSpecial.clientWidth / 5 * 3, 'video-height'\n          }\n        })\n      })\n\n    },\n    initEvents () {\n      this.dPlayer.on('play', () => {\n        this.$emit('play')\n      })\n      this.dPlayer.on('quality_start', (res) => {\n        storages.setItem('quality', res.code)\n        this.$emit('quality_start')\n      })\n      this.dPlayer.on('pause', () => {\n        this.$emit('pause')\n      })\n      this.dPlayer.on('canplay', () => {\n        this.$emit('canplay')\n      })\n      this.dPlayer.on('playing', () => {\n        this.$emit('playing')\n      })\n      this.dPlayer.on('ended', () => {\n        this.$emit('ended')\n      })\n      this.dPlayer.on('error', () => {\n        this.$emit('error')\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.dplayer{\n  width: 100%;\n  height: 100%;\n  padding: 0px;\n  background-color: #222;\n}\n</style>\n"],"sourceRoot":"src/components/video"}]}