{"remainingRequest":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/src/components/login/loginTipPopup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/src/components/login/loginTipPopup.vue","mtime":1597666218409},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js","mtime":1595570902420},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/babel-loader/lib/index.js","mtime":1595570901804},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js","mtime":1595570902420},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/vue-loader/lib/index.js","mtime":1595570907990}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgaW1wb3J0IHsgRGlhbG9nLCBNZW51SXRlbSwgQnV0dG9uLCBJbnB1dCwgQ2hlY2tib3gsIERpdmlkZXIsIE1lc3NhZ2UsIEZvcm0sIEZvcm1JdGVtfSBmcm9tICdlbGVtZW50LXVpJzsKICBpbXBvcnQgeyBlbmNyeXB0IH0gZnJvbSAiQC9tb2R1bGVzL3V0aWxzL2NyeXB0by5qcyI7CiAgaW1wb3J0ICogYXMgZXZlbnRUcmFjayBmcm9tICdAL3V0aWxzL2V2ZW50VHJhY2tpbmcuanMnCiAgaW1wb3J0IGNvb2tpZSBmcm9tICJAL21vZHVsZXMvdXRpbHMvY29va2llLmpzIjsKICBpbXBvcnQgc3RvcmFnZXMgZnJvbSAiQC91dGlscy9zdG9yYWdlLmpzIjsKICBpbXBvcnQgeyBnZXRDb2RlRW5jcnlwdCxwb3N0TG9naW5Gb3JtIH0gZnJvbSAiQC9hcGkvYXBpIjsKICBleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnaG9tZS1uYXYnLAogICAgY29tcG9uZW50czogewogICAgICBbRm9ybS5uYW1lXTogRm9ybSwKICAgICAgW0Zvcm1JdGVtLm5hbWVdOiBGb3JtSXRlbSwKICAgICAgW0J1dHRvbi5uYW1lXTogQnV0dG9uLAogICAgICBbRGlhbG9nLm5hbWVdOiBEaWFsb2csCiAgICAgIFtNZW51SXRlbS5uYW1lXTogTWVudUl0ZW0sCiAgICAgIFtJbnB1dC5uYW1lXTogSW5wdXQsCiAgICAgIFtDaGVja2JveC5uYW1lXTogQ2hlY2tib3gsCiAgICAgIFtEaXZpZGVyLm5hbWVdOiBEaXZpZGVyLAogICAgICBbTWVzc2FnZS5uYW1lXTogTWVzc2FnZQogICAgfSwKICAgIHByb3BzOiB7fSwKICAgIGluamVjdDpbJ3JlbG9hZCddLCAgIC8v5rOo5YWlcmVsb2Fk5pa55rOVCiAgICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIHNob3dNZXNzYWdlOiB0cnVlLAogICAgICAgIGNvbmZpcm1Db2xvcjogZmFsc2UsCiAgICAgICAgdmVyaWZ5U3RhdHVzOiBmYWxzZSwKICAgICAgICBjb3V0RG93bTogNjAsCiAgICAgICAgZXJyb3JNZXNzYWdlOiAn5omL5py65Y+35bey57uP5rOo5YaMJywKICAgICAgICBtb2JpbGU6ICcnLAogICAgICAgIGNvZGU6ICcnLAogICAgICAgIGFncmVlbWVudDogdHJ1ZSwKICAgICAgICB0b2tlbk9wdGlvbnMgOiB7CiAgICAgICAgICAvLyBleHBpcmVzIDogMTQsIC8vIOWkseaViOaXtumXtAogICAgICAgICAgLy8gVE9ETyDln5/lkI0KICAgICAgICAgIC8vIGRvbWFpbjogcHJvY2Vzcy5lbnYuVlVFX0FQUF9ET01BSU4sCiAgICAgICAgICBkb21haW46IHRoaXMuJHN0b3JlLnN0YXRlLmRvbWFpbiwKICAgICAgICAgIGV4cGlyZXM6IDM2NQogICAgICAgICAgLy8gZG9tYWluIDogIi5saWtlZHUudG9wIiwgLy8g5Z+f5ZCNCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICB1c2VyU3RhdHVzOiB7CiAgICAgICAgZ2V0ICgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyU3RhdHVzCiAgICAgICAgfSwKICAgICAgICBzZXQodmFsKXsKICAgICAgICAgIGNvbnNvbGUubG9nKCIxMTExMTExMTExMTExMTExMTFzZXQgVXNlclN0YXR1cyA9ICIsdmFsKTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXBkYXRlVXNlclN0YXR1cycsIHZhbCkKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxvZ2luRGlhbG9nVmlzaWJsZTogewogICAgICAgIGdldCAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUub3BlbkxvZ2luRGlhbG9nCiAgICAgICAgfSwKICAgICAgICBzZXQodmFsKXsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXBkYXRlTG9naW5EaWFsb2cnLCB2YWwpCiAgICAgICAgfQogICAgICB9LAogICAgICBsb2dpblRpcERpYWxvZzogewogICAgICAgIGdldCAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUub3BlbkxvZ2luVGlwCiAgICAgICAgfSwKICAgICAgICBzZXQodmFsKXsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXBkYXRlTG9naW5UaXAnLCB2YWwpCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAvLyDmiZPlvIDnmbvlvZXlvLnmoYYKICAgICAgb3BlbkxvZ2luRGlhbG9nICgpIHsKICAgICAgICB0aGlzLmxvZ2luVGlwRGlhbG9nID0gZmFsc2UKICAgICAgICB0aGlzLmxvZ2luRGlhbG9nVmlzaWJsZSA9IHRydWUKICAgICAgfSwKICAgICAgZ2V0TW9iaWxlQ29kZSAoKSB7CiAgICAgICAgaWYgKHRoaXMuc2hvd01lc3NhZ2UgPT09ICdyaWdodCcpIHsKICAgICAgICAgIGxldCBwYXJhbSA9IGVuY29kZVVSSUNvbXBvbmVudChlbmNyeXB0KCdtZXNzYWdlJywgdGhpcy5tb2JpbGUpKQogICAgICAgICAgZ2V0Q29kZUVuY3J5cHQocGFyYW0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7CiAgICAgICAgICAgICAgbGV0IGNvdW50RG93blNldCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuY291dERvd20tLQogICAgICAgICAgICAgICAgaWYgKHRoaXMuY291dERvd20gPD0gMCkgewogICAgICAgICAgICAgICAgICB0aGlzLnZlcmlmeVN0YXR1cyA9IHRydWUKICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjb3VudERvd25TZXQpCiAgICAgICAgICAgICAgICAgIHRoaXMuY291dERvd20gPSA2MAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIDgwMCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlID0gJ2lucHV0RXJyJwogICAgICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gcmVzLm1zZwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlID0gJ2lucHV0RXJyJwogICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAi6K+36L6T5YWl5q2j56Gu5omL5py65Y+3IgogICAgICAgIH0KICAgICAgfSwKICAgICAgc3VibWl0Rm9ybSAoKSB7CiAgICAgICAgaWYodGhpcy5hZ3JlZW1lbnQgPT09IHRydWUgKXsKICAgICAgICAgICBpZiAodGhpcy5zaG93TWVzc2FnZSA9PT0gJ3JpZ2h0JyAmJiB0aGlzLmNvZGUubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgIHBvc3RMb2dpbkZvcm0odGhpcy5jb2RlLCB0aGlzLm1vYmlsZSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcxMTEnLHJlcykKICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSAncmlnaHQnCiAgICAgICAgICAgICAgICB0aGlzLnVzZXJTdGF0dXMgPSB7CiAgICAgICAgICAgICAgICAgIGxvZ2luU3RhdHVzOiAnaXNMb2dpbicsCiAgICAgICAgICAgICAgICAgIHVzZXJJbmZvOiB7CiAgICAgICAgICAgICAgICAgICAgYXZhdGFyVXJsOiByZXMuZGF0YS5hdmF0YXJVcmwsCiAgICAgICAgICAgICAgICAgICAgdWlkOiByZXMuZGF0YS51aWQsCiAgICAgICAgICAgICAgICAgICAgdW5hbWU6IHJlcy5kYXRhLnVuYW1lLAogICAgICAgICAgICAgICAgICAgIGJhbGFuY2U6IHJlcy5kYXRhLmJhbGFuY2UKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29va2llLnNldEl0ZW0oJ3h4X25fdCcsIHJlcy5kYXRhLnRva2VuLCB0aGlzLnRva2VuT3B0aW9ucykgIC8vIHRva2VuIOWtmOWFpWNvb2tpZQogICAgICAgICAgICAgICAgc3RvcmFnZXMuc2V0SXRlbSgndXNlclN0YXR1cycsIHRoaXMudXNlclN0YXR1cykgLy8g55So5oi35L+h5oGv5a2Y5YWlc3RvcmFnZQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUub3BlbkxvZ2luRGlhbG9nID0gZmFsc2UKICAgICAgICAgICAgICAgIHRoaXMubG9naW5FdmVudFRhbmNrKCfnmbvlvZUnKSAvL+Wfi+eCuQogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpIC8v6LCD55SocmVsb2Fk5pa55rOV5Yi35paw5b2T5YmN6aG16Z2iCiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSAnaW5wdXRFcnInCiAgICAgICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICfmiYvmnLrpqozor4HnoIHlh7rplJknCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSAnaW5wdXRFcnInCiAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyLmRhdGEubXNnCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlID0gJ2lucHV0RXJyJwogICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICfor7fovpPlhaXmraPnoa7nmoTpqozor4HnoIEnCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIE1lc3NhZ2UuZXJyb3IoJ+ivt+WQjOaEj+WNj+iuricpCiAgICAgICAgfQoKICAgICAgfSwKICAgICAgLy8g54K55Ye75Y+J5Y+35YWz6ZetCiAgICAgIGhhbmRsZUNsb3NlKGRvbmUpIHsKICAgICAgICB0aGlzLmxvZ2luRXZlbnRUYW5jaygn5bCP5Y+J5Y+3JykKICAgICAgICBkb25lKCkKICAgICAgfSwKICAgICAgIC8v55m75b2V5by55qGG5Z+L54K5CiAgICAgIGxvZ2luRXZlbnRUYW5jayhpdGVtKXsKICAgICAgICBsZXQgZXZlbnRUcmFja1BhcmFtcyA9IHt9CiAgICAgICAgZXZlbnRUcmFja1BhcmFtcyA9IHsgaXRlbV9pZDogJ2xvZ29uX3BvcF9jbGljaycsIHBhZ2VfaWQ6ICdsb25nb24nLCBidG46IGl0ZW0gfQogICAgICAgIGV2ZW50VHJhY2sucmVwb3J0RGF0YShldmVudFRyYWNrUGFyYW1zKQogICAgICB9LAogIH0sCiAgbW91bnRlZCAoKSB7CiAgfSwKICB3YXRjaDogewogICAgIG1vYmlsZSAodmFsKSB7CiAgICAgIHN3aXRjaCh0cnVlKXsKICAgICAgICBjYXNlIHZhbC5sZW5ndGggPT09IDA6CiAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlID0gJ3JpZ2h0JwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSB2YWwubGVuZ3RoID4gMTE6CiAgICAgICAgICB0aGlzLm1vYmlsZSA9IHZhbC5zbGljZSgwLCAxMSkKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgdmFsLmxlbmd0aCA9PT0gMTE6CiAgICAgICAgICBpZighL14xKDN8NHw1fDZ8N3w4fDkpXGR7OX0kLy50ZXN0KHZhbCkpewogICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlID0gJ2lucHV0RXJyJwogICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICfor7fovpPlhaXmraPnoa7nmoTmiYvmnLrlj7cnCiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZSA9ICdyaWdodCcKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIC8vIGRlZmF1bHQ6CiAgICAgICAgLy8gICDlpoLmnpzooajovr7lvI/nmoTlgLzlkozku6XkuIrnmoRjYXNl5ZCO6Z2i55qE5YC86YO95rKh5pyJ5Yy56YWN5LiK77yM6YKj5LmI5bCx5omn6KGM6L+Z6YeM55qE5Luj56CB44CCCiAgICAgICAgLy8gICBicmVhazsKICAgICAgfQogICAgfSwKICAgIGNvZGUgKHZhbCkgewogICAgICBpZiAodmFsLmxlbmd0aCA9PT0gNCkgewogICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSAncmlnaHQnCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHZhbC5sZW5ndGggPiA0KSB7CiAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlID0gJ2lucHV0RXJyJwogICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAn6K+36L6T5YWl5q2j56Gu55qE6aqM6K+B56CBJwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["loginTipPopup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"loginTipPopup.vue","sourceRoot":"src/components/login","sourcesContent":["<template>\n <div>\n    <div class=\"login-tip\">\n      <el-dialog title=\"登录后可以\" :visible.sync=\"loginTipDialog\" width=\"406px\" height=\"259px\">\n        <div class=\"login-tip-content\">\n          <div class=\"login-tip-item\">\n              <img src=\"@/assets/login/barrage.png\">\n              <p>发弹幕</p>\n          </div>\n          <div class=\"login-tip-item\">\n              <img src=\"@/assets/login/watchHD.png\">\n              <p>看高清</p>\n          </div>\n          <div class=\"login-tip-item\">\n              <img src=\"@/assets/login/beFollow.png\">\n              <p>点关注</p>\n          </div>\n        </div>\n        <el-button  class=\"loginBtn\" @click=\"openLoginDialog\">登录</el-button>\n      </el-dialog>\n    </div>\n    <!--登录弹框-->\n    <div class=\"login-pop\">\n      <el-dialog title=\"登 录\" :visible.sync=\"loginDialogVisible\" width=\"482px\" height=\"323px\" :before-close=\"handleClose\">\n        <div class=\"login-pop-content\">\n          <el-form label-width=\"80px\">\n            <el-form-item label=\"手机号\">\n              <div class=\"loginMobile\">\n                <input type=\"text\"  class=\"loginInput\"  placeholder=\"请输入手机号\" v-model=\"mobile\" style=\"width:320px\" :οnkeyup=\"mobile=mobile.replace(/[^\\d\\.]/g,'')\"/>\n              </div>\n            </el-form-item>\n            <el-form-item label=\"验证码\">\n              <div class=\"loginMobile\" style=\"margin-bottom:20px;\">\n                <input type=\"text\" class=\"loginInput\"  placeholder=\"请输入验证码\" v-model=\"code\" style=\"width:200px;\"/>\n                <span v-if=\"coutDowm===60\" class=\"color-main\" style=\"width:120px;cursor:pointer;\" @click=\"getMobileCode\">请获取验证码</span>\n                <span v-else class=\"color-main\" style=\"width:120px;\">{{coutDowm}}秒后重新获取</span>\n              </div>\n              <div v-if=\"showMessage === 'inputErr' \" class='errorMessage'><span >{{errorMessage}}</span></div>\n            </el-form-item>\n          </el-form>\n          <el-button class=\"loginBtn\" @click=\"submitForm\">登录</el-button>\n          <section style=\"text-align: center\">\n            <el-checkbox v-model=\"agreement\" style=\"margin:15px auto 0;\">\n              我已阅读并同意\n              <a target=\"_blank\" :href=\"USER_PRIVACY_CONTRACT\"  class=\"color-main\">《隐私政策》</a>\n              <a target=\"_blank\" :href=\"USER_SERVICE_CONTRACT\"  class=\"color-main\">《用户服务协议》</a>\n            </el-checkbox>\n          </section>\n        </div>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n<script>\n  import { Dialog, MenuItem, Button, Input, Checkbox, Divider, Message, Form, FormItem} from 'element-ui';\n  import { encrypt } from \"@/modules/utils/crypto.js\";\n  import * as eventTrack from '@/utils/eventTracking.js'\n  import cookie from \"@/modules/utils/cookie.js\";\n  import storages from \"@/utils/storage.js\";\n  import { getCodeEncrypt,postLoginForm } from \"@/api/api\";\n  export default {\n    name: 'home-nav',\n    components: {\n      [Form.name]: Form,\n      [FormItem.name]: FormItem,\n      [Button.name]: Button,\n      [Dialog.name]: Dialog,\n      [MenuItem.name]: MenuItem,\n      [Input.name]: Input,\n      [Checkbox.name]: Checkbox,\n      [Divider.name]: Divider,\n      [Message.name]: Message\n    },\n    props: {},\n    inject:['reload'],   //注入reload方法\n    data() {\n      return {\n        showMessage: true,\n        confirmColor: false,\n        verifyStatus: false,\n        coutDowm: 60,\n        errorMessage: '手机号已经注册',\n        mobile: '',\n        code: '',\n        agreement: true,\n        tokenOptions : {\n          // expires : 14, // 失效时间\n          // TODO 域名\n          // domain: process.env.VUE_APP_DOMAIN,\n          domain: this.$store.state.domain,\n          expires: 365\n          // domain : \".likedu.top\", // 域名\n        }\n      }\n    },\n    created() {\n    },\n    computed: {\n      userStatus: {\n        get () {\n          return this.$store.state.userStatus\n        },\n        set(val){\n          console.log(\"111111111111111111set UserStatus = \",val);\n          this.$store.commit('updateUserStatus', val)\n        }\n      },\n      loginDialogVisible: {\n        get () {\n          return this.$store.state.openLoginDialog\n        },\n        set(val){\n          this.$store.commit('updateLoginDialog', val)\n        }\n      },\n      loginTipDialog: {\n        get () {\n          return this.$store.state.openLoginTip\n        },\n        set(val){\n          this.$store.commit('updateLoginTip', val)\n        }\n      }\n    },\n    methods: {\n      // 打开登录弹框\n      openLoginDialog () {\n        this.loginTipDialog = false\n        this.loginDialogVisible = true\n      },\n      getMobileCode () {\n        if (this.showMessage === 'right') {\n          let param = encodeURIComponent(encrypt('message', this.mobile))\n          getCodeEncrypt(param).then(res => {\n            if (res.code === 0) {\n              let countDownSet = setInterval(() => {\n                this.coutDowm--\n                if (this.coutDowm <= 0) {\n                  this.verifyStatus = true\n                  clearInterval(countDownSet)\n                  this.coutDowm = 60\n                }\n              }, 800)\n            } else {\n              this.showMessage = 'inputErr'\n              this.errorMessage = res.msg\n            }\n          })\n        } else {\n          this.showMessage = 'inputErr'\n          this.errorMessage = \"请输入正确手机号\"\n        }\n      },\n      submitForm () {\n        if(this.agreement === true ){\n           if (this.showMessage === 'right' && this.code.length === 4) {\n            postLoginForm(this.code, this.mobile).then(res => {\n              console.log('111',res)\n              if (res.code === 0) {\n                this.showMessage = 'right'\n                this.userStatus = {\n                  loginStatus: 'isLogin',\n                  userInfo: {\n                    avatarUrl: res.data.avatarUrl,\n                    uid: res.data.uid,\n                    uname: res.data.uname,\n                    balance: res.data.balance\n                  }\n                }\n                cookie.setItem('xx_n_t', res.data.token, this.tokenOptions)  // token 存入cookie\n                storages.setItem('userStatus', this.userStatus) // 用户信息存入storage\n                this.$store.state.openLoginDialog = false\n                this.loginEventTanck('登录') //埋点\n                window.location.reload() //调用reload方法刷新当前页面\n              } else {\n                this.showMessage = 'inputErr'\n                this.errorMessage = '手机验证码出错'\n              }\n            }).catch((err) => {\n               this.showMessage = 'inputErr'\n               this.errorMessage = err.data.msg\n            })\n          } else {\n            this.showMessage = 'inputErr'\n            this.errorMessage = '请输入正确的验证码'\n          }\n        } else {\n          Message.error('请同意协议')\n        }\n\n      },\n      // 点击叉号关闭\n      handleClose(done) {\n        this.loginEventTanck('小叉号')\n        done()\n      },\n       //登录弹框埋点\n      loginEventTanck(item){\n        let eventTrackParams = {}\n        eventTrackParams = { item_id: 'logon_pop_click', page_id: 'longon', btn: item }\n        eventTrack.reportData(eventTrackParams)\n      },\n  },\n  mounted () {\n  },\n  watch: {\n     mobile (val) {\n      switch(true){\n        case val.length === 0:\n          this.showMessage = 'right'\n          break;\n        case val.length > 11:\n          this.mobile = val.slice(0, 11)\n          break;\n        case val.length === 11:\n          if(!/^1(3|4|5|6|7|8|9)\\d{9}$/.test(val)){\n            this.showMessage = 'inputErr'\n            this.errorMessage = '请输入正确的手机号'\n          }else{\n            this.showMessage = 'right'\n          }\n          break;\n        // default:\n        //   如果表达式的值和以上的case后面的值都没有匹配上，那么就执行这里的代码。\n        //   break;\n      }\n    },\n    code (val) {\n      if (val.length === 4) {\n        this.showMessage = 'right'\n      } else {\n        if (val.length > 4) {\n          this.showMessage = 'inputErr'\n          this.errorMessage = '请输入正确的验证码'\n        }\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n @import \"@/assets/css/_var.scss\";\n .loginBtn{\n   width:320px;\n   height:48px;\n   margin-top: 50px;\n   margin:0 auto;\n   display:block;\n   background:$color-main;\n   border-radius:24px;\n   font-size: 20px;\n   font-family:PingFangSC-Medium,PingFang SC;\n   font-weight:500;\n   color:rgba(255,255,255,1);\n }\n.login-tip-content{\n   font-size:14px;\n   display: flex;\n   flex-direction:row;\n   justify-content : space-around;\n   align-items : center;\n   .login-tip-item{\n      display: flex;\n      flex-direction:column;\n      justify-content : flex-start;\n      align-items : center;\n      width: 65px;\n   }\n }\n .login-pop{\n   ::v-deep.el-dialog{\n     border-radius:10px;\n     height: auto !important;\n   }\n   ::v-deep.el-dialog__header{\n     margin-top: 11px;\n     display: block;\n     text-align: center;\n     margin: 0 auto;\n     font-size:18px;\n     font-family:PingFangSC-Medium,PingFang SC;\n     font-weight:500;\n     color:rgba(51,51,51,1);\n     line-height:25px;\n   }\n   ::v-deep.el-dialog__body{\n     padding: 20px 20px 20px 20px;\n   }\n   ::v-deep.el-checkbox{\n     border-radius:10px;\n   }\n   ::v-deep.el-checkbox__input.is-checked+.el-checkbox__label {\n    color:#606266;\n}\n   .login-pop-content{\n    padding: 0px 20px 0px 20px;\n    .errorMessage{\n      color:rgba(255,61,48,1);\n      line-height: 20px;\n      height: 20px;\n      font-size: 14px;\n    }\n    .loginMobile{\n      border: 1px solid rgba(242,242,242,1);\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items : center;\n      .loginInput{\n        border: none;\n        outline: none;\n        text-align:left;\n        font-size: 14px;\n        line-height: 14px;\n        padding: 0 18px;\n        color:rgba(74,74,74,1);\n        height: 40px;\n      }\n    }\n  }\n   .toast {\n\t\t\t\tpadding: 10px 25px 10px 25px ;\n\t\t\t\tbackground: rgba(0, 0, 0, .5);\n\t\t\t\tborder-radius: 5px;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\ttext-align: center;\n\t\t\t\tposition: fixed;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: 40%;\n\t\t\t\ttransform: translate(-50%, -50%);\n\t\t\t\tz-index: 100;\n\t\t\t}\n }\n\n</style>\n"]}]}