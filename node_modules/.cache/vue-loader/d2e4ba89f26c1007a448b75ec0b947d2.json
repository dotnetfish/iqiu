{"remainingRequest":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc端clone\\iqiu\\src\\views\\follow-list.vue?vue&type=style&index=0&id=627a7010&lang=scss&scoped=true&","dependencies":[{"path":"D:\\pc端clone\\iqiu\\src\\views\\follow-list.vue","mtime":1594000643109},{"path":"D:\\pc端clone\\iqiu\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIkAvYXNzZXRzL2Nzcy9faW5kZXguc2NzcyI7CgouZm9sbG93LWxpc3QtYm94IHsKICBtaW4taGVpZ2h0OiA3MHZoOwogIGgzIHsKICAgICAgbWFyZ2luOiAzMHB4IDA7CiAgICAgIHBhZGRpbmctbGVmdDogMTJweDsKICAgICAgZm9udC1zaXplOiAyMnB4OwogICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgICBmb250LXdlaWdodDogNTAwOwogICAgICBmb250LWZhbWlseTogJ1BpbmdGYW5nU0MtTWVkaXVtJywnUGluZ0ZhbmcgU0MnOwogIH0KICAubm8tbG9naW4gewogICAgICBAZXh0ZW5kICVjbGVhcmZpeDsKICAgICAgbWFyZ2luOiA1MHB4IGF1dG87CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgaW1nIHsKICAgICAgICB3aWR0aDogMTUycHg7CiAgICAgICAgaGVpZ2h0OiAxMzlweDsKICAgICAgfQogICAgLmJ0biB7CiAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICB3aWR0aDogMTIwcHg7CiAgICAgIGhlaWdodDogMzVweDsKICAgICAgbWFyZ2luOiAyMHB4IGF1dG87CiAgICAgIGxpbmUtaGVpZ2h0OiAzNXB4OwogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgIGJvcmRlci1yYWRpdXM6IDIxcHg7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICRjb2xvci1tYWluOwogICAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgIGNvbG9yOiAjZmZmOwogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIGEgewogICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgIGNvbG9yOiAjZmZmOwogICAgICB9CiAgICB9CiAgICBwIHsKICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICBjb2xvcjogIzk5OTsKICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIH0KICB9CiAgLm5vLWZvbGxvdyB7CiAgICAgIG1hcmdpbjogNTBweCAwOwogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgIGltZyB7CiAgICAgICAgd2lkdGg6IDE1MHB4OwogICAgICAgIGhlaWdodDogMTUwcHg7CiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgfQogICAgICBwIHsKICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgIGNvbG9yOiAjOTk5OwogICAgICAgICAgc3BhbnsKICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgY29sb3I6ICRjb2xvci1tYWluOwogICAgICAgICAgfQogICAgICB9CiAgfQogIC5uby1kYXRhIHsKICAgICAgQGV4dGVuZCAlY2xlYXJmaXg7CiAgICAgIC8vIGRpc3BsYXk6IG5vbmU7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgaW1nIHsKICAgICAgICBoZWlnaHQ6MTQ1cHg7CiAgICAgIH0KICAgICAgcCB7CiAgICAgICAgZm9udC1zaXplOiAxNXB4OwogICAgICB9CgogIH0KICAubG9hZC1tb3JlIHsKICAgIEBleHRlbmQgJWNsZWFyZml4OwogICAgcGFkZGluZzogMjBweCAwOwogICAgZm9udC1zaXplOiAxNXB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgY29sb3I6ICM5OTk7CiAgfQp9Cg=="},{"version":3,"sources":["follow-list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+NA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"follow-list.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"follow-list-box\"  >\r\n<!--    <h3>我的关注</h3>-->\r\n    <div class=\"liveRecomend-title\">\r\n      <img src=\"@/assets/icon_follow.png\" style=\"width:32px;height:26px;margin: 18px 12px 18px 0px;\">\r\n      <p class=\"liveRecomend-title-text\">我的关注<i class=\"el-icon-arrow-right arrow-right\"></i></P>\r\n    </div>\r\n    <!-- <div class=\"list-box\"> -->\r\n\r\n    <div style=\"margin: 0 -12px;width:1224px\">\r\n      <live-list-item\r\n        :followLiveList=\"allFollowLiveList\" :isFollowList = true :itemW=\"getItemW\" @followListEventTanck=\"followListEventTanck\"\r\n      >\r\n      </live-list-item>\r\n    </div>\r\n        <div class=\"no-data\" v-show=\"isNoData\">\r\n          <img src=\"\" alt=\"\">\r\n          <p>暂时没有数据</p>\r\n        </div>\r\n\r\n    <!-- </div> -->\r\n      <div class=\"no-follow\" v-show=\"isFollow\">\r\n<!--        <img src=\"../assets/icon_nofollow@2x.png\">-->\r\n        <p>您还未关注主播，<span @click=\"toLiveList\">快去看看吧~</span></p>\r\n    </div>\r\n    <div class=\"no-login\" v-show=\"isLoginShow\">\r\n<!--        <img src=\"../assets/icon_nologin@2x.png\">-->\r\n        <h5><span class=\"btn\" @click=\"toLogin\">点击登录</span></h5>\r\n        <p>登录后获取关注列表</p>\r\n    </div>\r\n<!--    <div v-show=\"isRecommendShow\">-->\r\n<!--        <h3>直播推荐</h3>-->\r\n<!--        &lt;!&ndash; <div class=\"list-box\"> &ndash;&gt;-->\r\n<!--          <div class=\"no-data\" v-if=\"isNoData\">-->\r\n<!--            <img src=\"\" alt=\"\">-->\r\n<!--            <p>暂时没有数据</p>-->\r\n<!--          </div>-->\r\n<!--          <live-list-item-->\r\n<!--            v-else-->\r\n<!--            :liveList=\"recommendLiveList\"-->\r\n<!--            :itemW=\"getItemW\"-->\r\n<!--          >-->\r\n<!--          </live-list-item>-->\r\n<!--        &lt;!&ndash; </div> &ndash;&gt;-->\r\n<!--    </div>-->\r\n    <!-- <login-tip-popup ref=\"loginPop\"></login-tip-popup>   -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  // @ is an alias to /src\r\n  import LiveListItem from '@/components/live-list-item.vue'\r\n  import * as eventTrack from '@/utils/eventTracking.js'\r\n  import * as api from \"@/api/api\";\r\n  // import storages from \"@/utils/storage.js\";\r\n  import cookie from \"@/modules/utils/cookie.js\";\r\n//   import { Button } from 'element-ui';\r\n\r\n  export default {\r\n    name: 'FollowList',\r\n    components: {\r\n    //   [Button.name]: Button,\r\n      // loginTipPopup,\r\n      LiveListItem\r\n    },\r\n    data () {\r\n      return {\r\n        size: 8,\r\n        typeId: 'all',\r\n        loadTxt: '努力加载中...',\r\n        isFollow: false,\r\n        isLoginShow: false,\r\n        isRecommendShow: false,\r\n        scrollFlag: false,\r\n        noDataFlag: false,\r\n        isDataShow: 1,\r\n        isNoData: 0,\r\n        isMore: 0,\r\n        // allFollowLiveList: [],\r\n        allFollowLiveList: {},\r\n        recommendLiveList: [],\r\n        isFold: false,\r\n      }\r\n    },\r\n     props: {\r\n        getisFold: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    watch:{\r\n      getisFold (val) {\r\n          this.isFold = val;\r\n          // console.log(888)\r\n      },\r\n      isLogin (val) {\r\n          if(val){\r\n            // console.log('登录成功')\r\n            this.init()\r\n          }else {\r\n            // console.log('登录失败')\r\n          }\r\n\r\n\r\n      }\r\n    },\r\n    created () {\r\n    //   console.log('关注列表')\r\n    //   console.log('折叠状态',this.$store.state.fold);\r\n    //   console.log('本地用户信息',storages.getItem('userStatus'))\r\n    //  console.log('vuex',this.$store.state.userStatus)\r\n    //  console.log('uid:',this.$store.state.userStatus.userInfo.uid)\r\n    //  console.log('token:', cookie.getItem('xx-user-token'))\r\n      this.init();\r\n\r\n\r\n    },\r\n    mounted () {\r\n\r\n    },\r\n    computed: {\r\n      openState () {\r\n        return this.$store.state.openLoginDialog\r\n      },\r\n      isLogin () {\r\n        return this.$store.getters.isLogin\r\n      },\r\n      getItemW () {\r\n        if(this.isFold){\r\n          return  'fold';\r\n        }else {\r\n          return  'unfold';\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      init() {\r\n        this.getFoldState();\r\n        if (this.isLogin && cookie.getItem('xx_n_t') ) {\r\n        this.isLoginShow = false;\r\n        this.isRecommendShow = false;\r\n        this.getAllFollowLiveList();\r\n        } else {\r\n          this.isLoginShow = true;\r\n          this.isRecommendShow = true;\r\n          // this.getRecommendLiveList();\r\n        }\r\n      },\r\n      toLogin () {\r\n        this.$store.state.openLoginDialog = true;\r\n        // console.log(this.$store.state.openLoginDialog)\r\n        // this.$refs.loginPop.openLoginDialog()\r\n      },\r\n      toLiveList () {\r\n          this.$router.push('/zhibo');\r\n      },\r\n      getFoldState () {\r\n        let leftFoldState = window.sessionStorage.getItem('leftFoldState');\r\n        this.isFold =  leftFoldState === null ||  leftFoldState === 'false' ? false : true;\r\n      },\r\n      // 获取关注列表\r\n       getAllFollowLiveList () {\r\n        //  let token = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4LXp5LXVzZXItaWQiOiIzNDg2MDc0IiwiaXNzIjoiemhhbmd5dSIsImV4cCI6MTU3OTI0OTM4MCwiaWF0IjoxNTc4MDM5NzgwfQ.XJiyZ-K-3HOFIn7bC_Vo_zMI5ViK3niGNCTz4Sr6_CbUSN5drA0BsNnaJ6qSygjZB2FzWoWH3OydEZ2Ce73kUA';\r\n        let headers = {\r\n          // 'x-zy-user-id': this.$store.state.userStatus.userInfo.uid,\r\n          // 'x-zy-user-token': cookie.getItem('xx-user-token')\r\n        }\r\n        // 只要cookie里有token或header有token就能请求成功，'x-zy-user-id'非必传\r\n        api.attentionGetFollowAnchors({},headers).then(res => {\r\n          console.log('全部关注列表')\r\n          // console.log(res.data);\r\n           if(res.data.onlineChannels.length || res.data.offlineChannels.length) {\r\n                this.isFollow = false;\r\n                this.isRecommendShow = false;\r\n                // this.allFollowLiveList.push(...res.data.onlineChannels);\r\n                // this.allFollowLiveList.push(...res.data.offlineChannels);\r\n                this.allFollowLiveList = res.data;\r\n                // console.log(typeof this.allFollowLiveList)\r\n            } else {\r\n                this.isFollow = true;\r\n                this.isRecommendShow = true;\r\n                // this.getRecommendLiveList();\r\n            }\r\n        })\r\n        // .catch(e => {\r\n        //   console.error(e);\r\n\r\n        // })\r\n      },\r\n      // 获取推荐列表\r\n      // getRecommendLiveList () {\r\n      //    let data = {\r\n      //     recommendAnchorType: 'FOLLOW_PAGE',\r\n      //     size: this.size,\r\n      //   }\r\n      //   let headers = {}\r\n      //   api.recommendLiveList(data,headers).then(res => {\r\n      //     // console.log('推荐直播获取')\r\n      //     // console.log(res.data);\r\n      //     this.recommendLiveList = res.data;\r\n      //     if (this.recommendLiveList.length) {\r\n      //       this.isNoData = false;\r\n      //     } else {\r\n      //       this.isNoData = true;\r\n      //     }\r\n      //   })\r\n      //   .catch(e => {\r\n      //     console.error(e);\r\n      //\r\n      //   })\r\n      // },\r\n      //直播页-埋点-列表\r\n      followListEventTanck(item){\r\n        console.log('关注埋点传参',item)\r\n        let eventTrackParams = {}\r\n        eventTrackParams = { item_id: 'living_room_enter_click', page_id: 'zhibo', page_2_id: '关注', room_id: item.cid, btn: item.name }\r\n        eventTrack.reportData(eventTrackParams)\r\n      },\r\n    }\r\n\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  @import \"@/assets/css/_index.scss\";\r\n\r\n  .follow-list-box {\r\n    min-height: 70vh;\r\n    h3 {\r\n        margin: 30px 0;\r\n        padding-left: 12px;\r\n        font-size: 22px;\r\n        text-align: left;\r\n        font-weight: 500;\r\n        font-family: 'PingFangSC-Medium','PingFang SC';\r\n    }\r\n    .no-login {\r\n        @extend %clearfix;\r\n        margin: 50px auto;\r\n        text-align: center;\r\n        img {\r\n          width: 152px;\r\n          height: 139px;\r\n        }\r\n      .btn {\r\n        display: block;\r\n        width: 120px;\r\n        height: 35px;\r\n        margin: 20px auto;\r\n        line-height: 35px;\r\n        text-align: center;\r\n        border-radius: 21px;\r\n        background-color: $color-main;\r\n        font-weight: normal;\r\n        font-size: 16px;\r\n        color: #fff;\r\n        cursor: pointer;\r\n        a {\r\n          display: block;\r\n          color: #fff;\r\n        }\r\n      }\r\n      p {\r\n        font-size: 14px;\r\n        color: #999;\r\n        margin-bottom: 20px;\r\n      }\r\n    }\r\n    .no-follow {\r\n        margin: 50px 0;\r\n        text-align: center;\r\n        img {\r\n          width: 150px;\r\n          height: 150px;\r\n          margin-bottom: 20px;\r\n        }\r\n        p {\r\n            font-size: 14px;\r\n            color: #999;\r\n            span{\r\n                cursor: pointer;\r\n                color: $color-main;\r\n            }\r\n        }\r\n    }\r\n    .no-data {\r\n        @extend %clearfix;\r\n        // display: none;\r\n        text-align: center;\r\n        img {\r\n          height:145px;\r\n        }\r\n        p {\r\n          font-size: 15px;\r\n        }\r\n\r\n    }\r\n    .load-more {\r\n      @extend %clearfix;\r\n      padding: 20px 0;\r\n      font-size: 15px;\r\n      text-align: center;\r\n      color: #999;\r\n    }\r\n  }\r\n</style>\r\n"]}]}