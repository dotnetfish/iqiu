{"remainingRequest":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc端clone\\iqiu\\src\\views\\Rank.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\pc端clone\\iqiu\\src\\views\\Rank.vue","mtime":1594000643108},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593501341354},{"path":"D:\\pc端clone\\iqiu\\node_modules\\babel-loader\\lib\\index.js","mtime":1593501344079},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593501341354},{"path":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js","mtime":1593501453075}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJhbmtpbmdRdWVyeSB9IGZyb20gJ0AvYXBpL2FwaScKaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJ2VsZW1lbnQtdWknCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JhbmsnLAogIGNvbXBvbmVudHM6IHsKICAgIFtUb29sdGlwLm5hbWVdOiBUb29sdGlwLAoKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb25maWc6IFsKICAgICAgICB7CiAgICAgICAgICBzcmM6IHJlcXVpcmUoJ0AvYXNzZXRzL2ljb25faG90LnBuZycpLAogICAgICAgICAgdGl0bGU6ICLkurrmsJTkuLvmkq3mppwiLAogICAgICAgICAgbGlzdDogW10KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHNyYzogcmVxdWlyZSgnQC9hc3NldHMvaWNvbl9uZXcucG5nJyksCiAgICAgICAgICB0aXRsZTogIuaWsOS6uuS4u+aSreamnCIsCiAgICAgICAgICBsaXN0OiBbXQogICAgICAgIH0KICAgICAgXQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHJhbmtpbmdRdWVyeSh7IHR5cGVDb2RlOiAnbmV3YW5jaG9yJyB9KS50aGVuKAogICAgICByZXMgPT4gewogICAgICAgIGxldCBsaXN0ID0gW107CiAgICAgICAgaWYgKHJlcy5kYXRhKSBsaXN0ID0gcmVzLmRhdGEuaXRlbUR0b0xpc3QKICAgICAgICB0aGlzLmZpbGxSYW5rTGlzdCggbGlzdCwgMSk7CiAgICAgIH0KICAgICk7CiAgICByYW5raW5nUXVlcnkoeyB0eXBlQ29kZTogImhvdGFuY2hvciIgfSkudGhlbigKICAgICAgcmVzID0+IHsKICAgICAgICBsZXQgbGlzdCA9IFtdOwogICAgICAgIGlmIChyZXMuZGF0YSkgbGlzdCA9IHJlcy5kYXRhLml0ZW1EdG9MaXN0CiAgICAgICAgdGhpcy5maWxsUmFua0xpc3QoIGxpc3QsIDApOwogICAgICB9CiAgICApOwogIH0sCiAgbWV0aG9kczogewogICAgZmlsbFJhbmtMaXN0KHJhbmtMaXN0ID0gW10sIHJhbmtUeXBlKSB7CiAgICAgIGxldCBsaXN0ID0gW107CiAgICAgIGlmIChyYW5rTGlzdC5sZW5ndGggPj0gMTApIHsKICAgICAgICB0aGlzLmNvbmZpZ1tyYW5rVHlwZV0ubGlzdCA9IHJhbmtMaXN0OwogICAgICB9IGVsc2UgewogICAgICAgIGxpc3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJhbmtMaXN0KSk7CiAgICAgICAgbGlzdC5sZW5ndGggPSAxMDsKICAgICAgICB0aGlzLmNvbmZpZ1tyYW5rVHlwZV0ubGlzdCA9IGxpc3QuZmlsbCh7CiAgICAgICAgICBhdmF0YXJVcmw6ICdodHRwOi8vcGljLmxpa2VkdS50b3AvYXZhdGFyL2RlZmF1bHQtYXZhdGFyLmpwZycsCiAgICAgICAgICB1bmFtZTogJ+iZmuS9jeS7peW+hScsCiAgICAgICAgICBzY29yZTogMAogICAgICAgIH0sIHJhbmtMaXN0Lmxlbmd0aCwgMTApCiAgICAgIH0KCiAgICAgIHRoaXMuJHNldCh0aGlzLmNvbmZpZ1tyYW5rVHlwZV0sICd0b3AzJywgW2xpc3RbMV0sIGxpc3RbMF0sIGxpc3RbMl1dKQogICAgICB0aGlzLiRzZXQodGhpcy5jb25maWdbcmFua1R5cGVdLCAndG9wNycsIGxpc3Quc2xpY2UoMywgMTApKQogICAgICAvLyB0aGlzLmNvbmZpZ1tyYW5rVHlwZV0udG9wMyA9IGxpc3Quc2xpY2UoMCwzKQogICAgICAvLyB0aGlzLmNvbmZpZ1tyYW5rVHlwZV0udG9wNyA9IGxpc3Quc2xpY2UoMywxMCkKICAgIH0sCiAgICByYW5raW5nUXVlcnkodHlwZUNvZGUpIHsKICAgICAgcmV0dXJuIHJhbmtpbmdRdWVyeSh7IHR5cGVDb2RlIH0pLnRoZW4oCiAgICAgICAgcmVzID0+IHsKICAgICAgICAgIHRoaXMucmFua09iamVjdCA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgKTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Rank.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Rank.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"rank\">\r\n    <section class=\"rank-item\" v-for=\"(item) in config\" :key=\"item.title\">\r\n      <div class=\"liveRecomend-title\">\r\n        <img :src=\"item.src\" style=\"width:23px;height:23px;margin: 18px 12px 18px 0px;\">\r\n        <p class=\"liveRecomend-title-text\">{{item.title}}</P>\r\n      </div>\r\n      <div class=\"top3\">\r\n        <div class=\"item item0\" :class=\"'item'+ top3Index\" v-for=\"(top3Item,top3Index) in item.top3\" :key=\"top3Index\">\r\n          <img :src=\"top3Item.avatarUrl\" alt=\"\">\r\n          <span class=\"item-name\">\r\n            <el-tooltip effect=\"dark\" :content=\"top3Item.uname \" placement=\"top-start\">\r\n                  <span class=\"name\">{{ top3Item.uname }}</span>\r\n            </el-tooltip>\r\n          </span>\r\n          <div class=\"item-fans\">{{ top3Item.score }}人气</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"top7\" v-for=\"(t, i) in item.top7\" :key=\"i\">\r\n        <span class=\"top7-index\">{{ i + 4 }}</span>\r\n        <span class=\"top7-name\">{{t.uname}}</span>\r\n        <span>{{t.score}}人气</span>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { rankingQuery } from '@/api/api'\r\n  import { Tooltip } from 'element-ui'\r\n\r\n  export default {\r\n    name: 'Rank',\r\n    components: {\r\n      [Tooltip.name]: Tooltip,\r\n\r\n    },\r\n    data() {\r\n      return {\r\n        config: [\r\n          {\r\n            src: require('@/assets/icon_hot.png'),\r\n            title: \"人气主播榜\",\r\n            list: []\r\n          },\r\n          {\r\n            src: require('@/assets/icon_new.png'),\r\n            title: \"新人主播榜\",\r\n            list: []\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    created() {\r\n      rankingQuery({ typeCode: 'newanchor' }).then(\r\n        res => {\r\n          let list = [];\r\n          if (res.data) list = res.data.itemDtoList\r\n          this.fillRankList( list, 1);\r\n        }\r\n      );\r\n      rankingQuery({ typeCode: \"hotanchor\" }).then(\r\n        res => {\r\n          let list = [];\r\n          if (res.data) list = res.data.itemDtoList\r\n          this.fillRankList( list, 0);\r\n        }\r\n      );\r\n    },\r\n    methods: {\r\n      fillRankList(rankList = [], rankType) {\r\n        let list = [];\r\n        if (rankList.length >= 10) {\r\n          this.config[rankType].list = rankList;\r\n        } else {\r\n          list = JSON.parse(JSON.stringify(rankList));\r\n          list.length = 10;\r\n          this.config[rankType].list = list.fill({\r\n            avatarUrl: 'http://pic.likedu.top/avatar/default-avatar.jpg',\r\n            uname: '虚位以待',\r\n            score: 0\r\n          }, rankList.length, 10)\r\n        }\r\n\r\n        this.$set(this.config[rankType], 'top3', [list[1], list[0], list[2]])\r\n        this.$set(this.config[rankType], 'top7', list.slice(3, 10))\r\n        // this.config[rankType].top3 = list.slice(0,3)\r\n        // this.config[rankType].top7 = list.slice(3,10)\r\n      },\r\n      rankingQuery(typeCode) {\r\n        return rankingQuery({ typeCode }).then(\r\n          res => {\r\n            this.rankObject = res.data;\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  @import \"@/assets/css/_index.scss\";\r\n\r\n  .rank {\r\n    margin-top: 30px;\r\n    margin-bottom: 30px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    .rank-item {\r\n      padding: 10px 0 25px;\r\n      width: 580px;\r\n      background-color: #fff;\r\n      border-radius: 10px;\r\n    }\r\n\r\n    ::v-deep .liveRecomend-title {\r\n      margin-left: 30px;\r\n    }\r\n\r\n    .top3 {\r\n      position: relative;\r\n      border-top: 2px solid #F0F0F0;\r\n      padding: 24px 0;\r\n      box-sizing: border-box;\r\n      height: 250px;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      /*align-items: center;*/\r\n      .item {\r\n        width: 33.3%;\r\n        /*width: 122px;*/\r\n        height: 150px;\r\n        text-align: center;\r\n\r\n        img {\r\n          display: block;\r\n          margin: 38px auto 0;\r\n          width: 98px;\r\n          height: 98px;\r\n          border-radius: 50%;\r\n        }\r\n\r\n        .item-name {\r\n          position: relative;\r\n          text-align: center;\r\n        }\r\n\r\n        .name {\r\n          position: absolute;\r\n          z-index: 1;\r\n          display: inline-block;\r\n          position: relative;\r\n          margin-top: -20px;\r\n          padding: 5px 7px;\r\n          border-radius: 10px;\r\n          color: #fff;\r\n          font-size: 18px;\r\n          line-height: 25px;\r\n          max-width: 140px;\r\n          box-sizing: border-box;\r\n          @include ellipsis()\r\n        }\r\n\r\n        .item-fans {\r\n          margin-top: 24px;\r\n          font-size: 18px;\r\n          color: #333;\r\n          text-align: center;\r\n        }\r\n      }\r\n\r\n      .item0 {\r\n        background: url(~@/assets/img/rank-top-1.png) center center no-repeat;\r\n        background-size: 105px 130px;\r\n\r\n        .item-name {\r\n          .name {\r\n            background-color: #CBD3D9;\r\n          }\r\n\r\n          &:after {\r\n            content: \"\";\r\n            position: absolute;\r\n            left: -15px;\r\n            top: -8px;\r\n            width: 22px;\r\n            height: 0;\r\n            border-top: 16px solid #AFB3B6;\r\n            border-bottom: 16px solid #AFB3B6;\r\n            border-left: 7px solid #fff;\r\n          }\r\n\r\n          &:before {\r\n            content: \"\";\r\n            position: absolute;\r\n            right: -15px;\r\n            top: -8px;\r\n            width: 22px;\r\n            height: 0;\r\n            border-top: 16px solid #AFB3B6;\r\n            border-bottom: 16px solid #AFB3B6;\r\n            border-right: 7px solid #fff;\r\n          }\r\n        }\r\n      }\r\n\r\n      .item1 {\r\n        background: url(~@/assets/img/rank-top-0.png) center center no-repeat;\r\n        background-size: 122px 150px;\r\n\r\n        img {\r\n          margin: 28px auto 0;\r\n          width: 118px;\r\n          height: 118px;\r\n        }\r\n\r\n        .item-name {\r\n          .name {\r\n            color: #C68621;\r\n            background-color: #F8D64C;\r\n          }\r\n\r\n          &:after {\r\n            content: \"\";\r\n            position: absolute;\r\n            left: -18px;\r\n            top: -10px;\r\n            width: 26px;\r\n            height: 0;\r\n            border-top: 18px solid #F8B54C;\r\n            border-bottom: 18px solid #F8B54C;\r\n            border-left: 9px solid #fff;\r\n          }\r\n\r\n          &:before {\r\n            content: \"\";\r\n            position: absolute;\r\n            right: -18px;\r\n            top: -10px;\r\n            width: 26px;\r\n            height: 0;\r\n            border-top: 18px solid #F8B54C;\r\n            border-bottom: 18px solid #F8B54C;\r\n            border-right: 9px solid #fff;\r\n          }\r\n        }\r\n      }\r\n\r\n      .item2 {\r\n        background: url(~@/assets/img/rank-top-2.png) center center no-repeat;\r\n        background-size: 105px 130px;\r\n\r\n        .item-name {\r\n          .name {\r\n            background-color: #E8A55F;\r\n          }\r\n\r\n          &:after {\r\n            content: \"\";\r\n            position: absolute;\r\n            left: -15px;\r\n            top: -8px;\r\n            width: 22px;\r\n            height: 0;\r\n            border-top: 16px solid #D68A45;\r\n            border-bottom: 16px solid #D68A45;\r\n            border-left: 7px solid #fff;\r\n          }\r\n\r\n          &:before {\r\n            content: \"\";\r\n            position: absolute;\r\n            right: -15px;\r\n            top: -8px;\r\n            width: 22px;\r\n            height: 0;\r\n            border-top: 16px solid #D68A45;\r\n            border-bottom: 16px solid #D68A45;\r\n            border-right: 7px solid #fff;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .top7 {\r\n      margin: 0 30px;\r\n      padding: 0 20px;\r\n      height: 60px;\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      align-items: center;\r\n      font-size: 18px;\r\n      color: #999999;\r\n\r\n      &:nth-child(odd) {\r\n        background-color: #F0F0F0;\r\n      }\r\n\r\n      .top7-index {\r\n\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 18px;\r\n        height: 18px;\r\n        border-radius: 50%;\r\n        border: 1px solid #999999;\r\n      }\r\n\r\n      .top7-name {\r\n        padding-left: 8px;\r\n        flex: 1;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"]}]}