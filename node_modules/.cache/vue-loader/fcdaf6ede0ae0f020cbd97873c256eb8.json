{"remainingRequest":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc端clone\\iqiu\\src\\views\\MCenter\\LiveOption.vue?vue&type=style&index=1&lang=scss&","dependencies":[{"path":"D:\\pc端clone\\iqiu\\src\\views\\MCenter\\LiveOption.vue","mtime":1594000643106},{"path":"D:\\pc端clone\\iqiu\\node_modules\\css-loader\\dist\\cjs.js","mtime":1593501447640},{"path":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1593501453075},{"path":"D:\\pc端clone\\iqiu\\node_modules\\postcss-loader\\src\\index.js","mtime":1593501448238},{"path":"D:\\pc端clone\\iqiu\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1593501529409},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593501341354},{"path":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js","mtime":1593501453075}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubGl2ZS1vcHRpb24gewogIC5lbC1yYWRpb19faW5wdXQgewogICAgZGlzcGxheTogbm9uZTsKICB9CgogIC5jbGFzc2lmaWNhdGlvbnR5cGUgLmlzLWNoZWNrZWQgewogICAgLypiYWNrZ3JvdW5kLWNvbG9yOiAjZThmMGZmOyovCiAgfQoKICAuZWwtcmFkaW8uaXMtYm9yZGVyZWQgewogICAgYm9yZGVyLXJhZGl1czogMzBweDsKICAgIGhlaWdodDogMzBweDsKICB9CgogIC5lbC1yYWRpb19faW5wdXQgewogICAgYm9yZGVyLXJhZGl1czogMzBweDsKICAgIGhlaWdodDogMzBweDsKICB9CgogIC50aXAgewogICAgbWFyZ2luLXRvcDogLTE4cHg7CiAgICBtYXJnaW4tbGVmdDogN3B4OwogIH0KfQo="},{"version":3,"sources":["LiveOption.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8VA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"LiveOption.vue","sourceRoot":"src/views/MCenter","sourcesContent":["<!--Created by fly on 2019/12/29-->\r\n<template>\r\n  <div class=\"live-option\">\r\n    <el-form :model=\"form\" ref=\"form\" label-width=\"80px\" label-position=\"left\">\r\n      <el-form-item label=\"房间ID:\" prop=\"\" class=\"item\">\r\n        {{ info.id }}\r\n        <el-button @click=\"handleJump(info.id)\" class=\"ml20 mr20\" type=\"primary\" plain size=\"small\">进入直播间</el-button>\r\n        粉丝数：{{ info.followCount }}\r\n      </el-form-item>\r\n      <el-form-item label=\"rtmp地址:\">\r\n          <span style=\"width:60%; display:inline-block;overflow: hidden; white-space: nowrap; text-overflow: ellipsis;\">{{rtmp_url}}</span>\r\n          <el-button type=\"primary\" class=\"cobyOrderSn\" round style=\"height: 24px;line-height: 1px;margin-left: 10px;width: 58px;\"\r\n                     size=\"small\" v-clipboard:copy=\"rtmp_url\"> 复制\r\n          </el-button>\r\n      </el-form-item>\r\n      <el-form-item label=\"直播码:\">\r\n          <span style=\"width:60%; display:inline-block;overflow: hidden; white-space: nowrap; text-overflow: ellipsis;\">{{rtmp_code_url}}</span>\r\n          <el-button type=\"primary\" class=\"cobyOrderSn\" round style=\"height: 24px;line-height: 1px;margin-left: 10px;width: 58px;\"\r\n                     size=\"small\" v-clipboard:copy=\"rtmp_code_url\"> 复制\r\n          </el-button>\r\n      </el-form-item>\r\n      <el-form-item label=\"房间标题:\" prop=\"\" class=\"item\">\r\n        <el-input v-model=\"name\" maxlength=\"25\"\r\n                  show-word-limit placeholder=\"请输入房间标题\" clearable size=\"medium\"\r\n                  style=\"width:300px;\"></el-input>\r\n        <el-button class=\"ml20\" type=\"primary\" plain size=\"small\">修改</el-button>\r\n        <br>\r\n        <span class=\"tips\">房间标题通过审核后，需要间隔5分钟才能再次修改</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"房间公告:\" prop=\"desc\" class=\"item\">\r\n        <el-input v-model=\"notice\" type=\"textarea\" placeholder=\"暂无公告~\" rows=\"4\" maxlength=\"80\"\r\n                  show-word-limit\r\n                  style=\"width:400px\"></el-input>\r\n        <br>\r\n        <span class=\"tips\">房间公告通过审核后，需要间隔5分钟才能再次修改</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"房间分类:\" prop=\"\" class=\"item\">\r\n        {{ classification }}\r\n        <el-button\r\n          class=\"ml20\"\r\n          type=\"primary\"\r\n          size=\"small\"\r\n          plain\r\n          @click=\"classificationVisible = true\"\r\n        >选择分类\r\n        </el-button>\r\n      </el-form-item>\r\n<!--      <el-form-item label=\"选择比赛:\" prop=\"\" class=\"item\">-->\r\n<!--&lt;!&ndash;        {{ classification }}&ndash;&gt;-->\r\n<!--        <el-button-->\r\n<!--          class=\"ml20\"-->\r\n<!--          type=\"primary\"-->\r\n<!--          size=\"small\"-->\r\n<!--          plain-->\r\n<!--          @click=\"$emit('showSelectGame')\"-->\r\n<!--        >选择比赛-->\r\n<!--        </el-button>-->\r\n<!--      </el-form-item>-->\r\n      <el-button\r\n        type=\"primary\"\r\n        size=\"small\"\r\n        @click=\"handleSave\"\r\n      >\r\n        保存设置\r\n      </el-button>\r\n    </el-form>\r\n\r\n\r\n    <!--    <el-row class=\"rom-title\">-->\r\n    <!--      <span>房间标题</span>-->\r\n    <!--    </el-row>-->\r\n    <!--    <el-row class=\"input\">-->\r\n    <!--      <el-input-->\r\n    <!--        v-model=\"name\"-->\r\n    <!--        size=\"middle\"-->\r\n    <!--        placeholder=\"请输入房间昵称\"-->\r\n    <!--        maxlength=\"25\"-->\r\n    <!--        show-word-limit-->\r\n    <!--      ></el-input>-->\r\n    <!--    </el-row>-->\r\n    <!--    <el-row class=\"rom-title mt60\">-->\r\n    <!--      <span>直播分类</span>-->\r\n    <!--    </el-row>-->\r\n    <!--    <el-row>-->\r\n    <!--      <div style=\"font-size: 13px;\">-->\r\n    <!--        {{ classification }}-->\r\n    <!--        <el-button-->\r\n    <!--          type=\"primary\"-->\r\n    <!--          round-->\r\n    <!--          style=\"height: 24px;line-height: 1px;margin-left: 30px\"-->\r\n    <!--          size=\"small\"-->\r\n    <!--          @click=\"classificationVisible = true\"-->\r\n    <!--        >选择分类-->\r\n    <!--        </el-button>-->\r\n    <!--      </div>-->\r\n    <!--    </el-row>-->\r\n    <!--    <el-row class=\"rom-title mt60\">-->\r\n    <!--      <span>直播公告</span>-->\r\n    <!--    </el-row>-->\r\n    <!--    <el-row class=\"input\">-->\r\n    <!--      <el-input-->\r\n    <!--        type=\"textarea\"-->\r\n    <!--        placeholder=\"请输入直播公告\"-->\r\n    <!--        v-model=\"notice\"-->\r\n    <!--        maxlength=\"100\"-->\r\n    <!--        show-word-limit-->\r\n    <!--      ></el-input>-->\r\n    <!--      &lt;!&ndash;      <el-input v-model=\"notice\" size=\"middle\" placeholder=\"请输入直播公告\"></el-input>&ndash;&gt;-->\r\n    <!--    </el-row>-->\r\n    <!--    <el-row class=\"rom-title\">-->\r\n    <!--      <span>rtmp地址:</span>-->\r\n    <!--    </el-row>-->\r\n    <!--    <el-row style=\"text-align: left;margin-left: 10px\">-->\r\n    <!--      <div>{{ rtmp_url }}</div>-->\r\n    <!--    </el-row>-->\r\n    <!--    <el-row style=\";margin-top: 20px;margin-left: -20px\">-->\r\n    <!--      <el-button-->\r\n    <!--        type=\"primary\"-->\r\n    <!--        class=\"cobyOrderSn\"-->\r\n    <!--        round-->\r\n    <!--        style=\"height: 24px;line-height: 1px;margin-left: 30px\"-->\r\n    <!--        size=\"small\"-->\r\n    <!--        v-clipboard:copy=\"rtmp_url\"-->\r\n    <!--      >-->\r\n    <!--        复制-->\r\n    <!--      </el-button>-->\r\n    <!--      <el-button-->\r\n    <!--        type=\"primary\"-->\r\n    <!--        class=\"cobyOrderSn\"-->\r\n    <!--        round-->\r\n    <!--        style=\"height: 24px;line-height: 1px;margin-left: 230px\"-->\r\n    <!--        size=\"small\"-->\r\n    <!--        @click=\"handleSave\"-->\r\n    <!--      >-->\r\n    <!--        保存设置-->\r\n    <!--      </el-button>-->\r\n    <!--    </el-row>-->\r\n    <el-dialog :visible.sync=\"classificationVisible\" width=\"452px\">\r\n      <div class=\"classificationtype\">\r\n        <el-row style=\"margin-top: -10px\">\r\n          <span style=\"font-size: 17px;font-weight: bold\">选择分类</span>\r\n        </el-row>\r\n        <el-row style=\"margin-top: 15px\">\r\n          <el-col\r\n            :span=\"5\"\r\n            v-for=\"(o, index) in classificationType\"\r\n            :key=\"index\"\r\n            style=\"margin-top: 10px\"\r\n          >\r\n            <el-radio v-model=\"classificationIndex\" :label=\"index\" border>\r\n              <div class=\"tip\">{{ classificationType[index] }}</div>\r\n            </el-radio>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row style=\"margin-top: 20px\">\r\n          <el-button\r\n            type=\"primary\"\r\n            style=\"height: 30px;line-height: 1px;\"\r\n            @click=\"handleClassification\"\r\n          >确 定\r\n          </el-button>\r\n        </el-row>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { Row, Col, Button, Input, Message, Dialog, Radio, Form, FormItem } from \"element-ui\";\r\n  import { channelInfos, updateChannel } from \"@/api/mcenterapi\";\r\n  import { CategoryList } from \"@/api/api\";\r\n\r\n  import Vue from \"vue\";\r\n  import Clipboard from \"../../directive/clipboard/index.js\";\r\n\r\n  Vue.use(Clipboard);\r\n  export default {\r\n    name: \"LiveOption\",\r\n    components: {\r\n      [Form.name]: Form,\r\n      [FormItem.name]: FormItem,\r\n      [Row.name]: Row,\r\n      [Col.name]: Col,\r\n      [Button.name]: Button,\r\n      [Input.name]: Input,\r\n      [Dialog.name]: Dialog,\r\n      [Message.name]: Message,\r\n      [Radio.name]: Radio,\r\n    },\r\n    data() {\r\n      return {\r\n        form: {},\r\n        name: \"\",\r\n        info: {},\r\n        notice: \"\",\r\n        classification: \"未分类\",\r\n        classificationCode: null,\r\n        classificationVisible: false,\r\n        classificationType: [],\r\n        classificationTypeCode: [],\r\n        classificationIndex: 0,\r\n        rtmp_url: \"\",\r\n        rtmp_code_url: \"\",\r\n      };\r\n    },\r\n    methods: {\r\n      handleJump(roomId) {\r\n        console.log(roomId);\r\n        const { href } = this.$router.resolve(`/${ roomId }`)\r\n        window.open(href, \"_blank\");\r\n      },\r\n      handleClassification() {\r\n        this.classification = this.classificationType[this.classificationIndex];\r\n        this.classificationCode = this.classificationTypeCode[this.classificationIndex];\r\n\r\n        this.classificationVisible = false;\r\n      },\r\n      getMenuList(data) {\r\n        CategoryList(data,{})\r\n          .then(response => {\r\n            if (response.code === 0) {\r\n              if (response.data != null) {\r\n                response.data.forEach(item => {\r\n                  //执行代码\r\n                  this.classificationType.push(item.name);\r\n                  this.classificationTypeCode.push(item.code);\r\n                });\r\n              }\r\n              let data2 = {\r\n                stream: 1,\r\n                cid: this.$store.state.userStatus.userInfo.uid\r\n              };\r\n              this.channelInfos(data2);\r\n            } else {\r\n              console.error(response.error);\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            console.error(error);\r\n          });\r\n      },\r\n      channelInfos(data) {\r\n        // debugger\r\n        channelInfos(data)\r\n          .then(response => {\r\n            if (response.code === 0) {\r\n              this.classificationTypeCode.forEach((item, index) => {\r\n                //执行代码\r\n                if (item == response.data.type) {\r\n                  this.classificationIndex = index;\r\n                  this.classification = this.classification;\r\n                  this.classification = this.classificationType[\r\n                    this.classificationIndex\r\n                    ];\r\n                }\r\n              });\r\n              this.name = response.data.name;\r\n              this.info = response.data;\r\n              this.notice = response.data.notice;\r\n              if (response.data.pushStreamUrl) {\r\n                let urlMap = response.data.pushStreamUrl.split('live/')\r\n                this.rtmp_url = urlMap[0] + 'live/';\r\n                this.rtmp_code_url = urlMap[1];\r\n              }\r\n\r\n            } else {\r\n              console.error(response.error);\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            console.error(error);\r\n          });\r\n      },\r\n      updateChannel(data) {\r\n        // debugger;\r\n        updateChannel(data).then(response => {\r\n          if (response.code == 0) {\r\n            Message.success({\r\n              message: \"直播间设置修改成功\"\r\n            });\r\n          } else {\r\n            Message.error({\r\n              message: response.error\r\n            });\r\n          }\r\n        });\r\n      },\r\n      handleSave() {\r\n        let data = {\r\n          notice: this.notice,\r\n          name: this.name,\r\n          // type: this.classification\r\n          type: this.classificationCode\r\n        };\r\n        this.updateChannel(data);\r\n      }\r\n    },\r\n    created() {\r\n      let data = {\r\n        name: \"pcindex\"\r\n      };\r\n      this.getMenuList(data);\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  @import \"@/assets/css/_index.scss\";\r\n\r\n  .ml20 {\r\n    margin-left: 20px;\r\n  }\r\n\r\n  .mr20 {\r\n    margin-right: 20px;\r\n  }\r\n\r\n  .mt60 {\r\n    margin-top: 60px !important;\r\n  }\r\n\r\n  .title {\r\n    font-size: 22px;\r\n    color: $color-title1;\r\n    @extend .bold;\r\n  }\r\n\r\n  .rom-title {\r\n    margin: 30px 0px 20px 0px;\r\n    color: $color-title1;\r\n    font-size: 18px;\r\n    @extend .bold;\r\n  }\r\n\r\n  .input {\r\n    width: 60%;\r\n  }\r\n\r\n  .classificationtype {\r\n    text-align: center;\r\n  }\r\n\r\n  .tips {\r\n    margin-left: 72px;\r\n    font-size: 12px;\r\n    color: $color-title3;\r\n  }\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n  .live-option {\r\n    .el-radio__input {\r\n      display: none;\r\n    }\r\n\r\n    .classificationtype .is-checked {\r\n      /*background-color: #e8f0ff;*/\r\n    }\r\n\r\n    .el-radio.is-bordered {\r\n      border-radius: 30px;\r\n      height: 30px;\r\n    }\r\n\r\n    .el-radio__input {\r\n      border-radius: 30px;\r\n      height: 30px;\r\n    }\r\n\r\n    .tip {\r\n      margin-top: -18px;\r\n      margin-left: 7px;\r\n    }\r\n  }\r\n</style>\r\n"]}]}