{"remainingRequest":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/src/views/home/homeNavFollow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/src/views/home/homeNavFollow.vue","mtime":1595570908594},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js","mtime":1595570902420},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/babel-loader/lib/index.js","mtime":1595570901804},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js","mtime":1595570902420},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/vue-loader/lib/index.js","mtime":1595570907990}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEJ1dHRvbiwgUG9wb3ZlciwgZGl2aWRlciwgQ29sLCBhdmF0YXIgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IHsgYXR0ZW50aW9uR2V0Rm9sbG93QW5jaG9ycyB9IGZyb20gIkAvYXBpL2FwaSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2hvbWUtbmF2LWZvbGxvdycsCiAgY29tcG9uZW50czogewogICAgW0J1dHRvbi5uYW1lXTogQnV0dG9uLAogICAgW1BvcG92ZXIubmFtZV06IFBvcG92ZXIsCiAgICBbZGl2aWRlci5uYW1lXTogZGl2aWRlciwKICAgIFtDb2wubmFtZV06IENvbCwKICAgIFthdmF0YXIubmFtZV06IGF2YXRhciwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBudW06IDAsCiAgICAgIG9ubGluZUNoYW5uZWxzOiBbCiAgICAgICAgLy8gewogICAgICAgIC8vICAgdXNlckR0bzp7CiAgICAgICAgLy8gICAgIGF2YXRhclVybDonJywKICAgICAgICAvLyAgICAgdW5hbWU6J3NzcycsCiAgICAgICAgLy8gICB9LAogICAgICAgIC8vICAgY2hhbm5lbENvdmVyRHRvOnsKICAgICAgICAvLyAgICAgIHVuYW1lOidzc3MnLAogICAgICAgIC8vICAgICAgIG5hbWU6J3NzJywKICAgICAgICAvLyAgICAgICBvbkxpbmVTY29yZTonc2Rjc2MnLAogICAgICAgIC8vICAgICAgdHlwZU5hbWU6J3NkZnMnLAogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gIHsKICAgICAgICAvLyAgIHVzZXJEdG86ewogICAgICAgIC8vICAgICBhdmF0YXJVcmw6JycsCiAgICAgICAgLy8gICAgIHVuYW1lOidzc3MzMycsCiAgICAgICAgLy8gICB9LAogICAgICAgIC8vICAgY2hhbm5lbENvdmVyRHRvOnsKCiAgICAgICAgLy8gICAgICAgbmFtZTonc3MxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExJywKICAgICAgICAvLyAgICAgICBvbkxpbmVTY29yZTonc2Rjc2MnLAogICAgICAgIC8vICAgICAgdHlwZU5hbWU6J3NkZnMnLAogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0sCiAgICAgIF0sCiAgICAgIGZvbGxvd1VybDogcmVxdWlyZSgnQC9hc3NldHMvaG9tZS9mb2xsb3dAMngucG5nJykKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c2VyU3RhdHVzKCkgewogICAgICBjb25zb2xlLmxvZygn5qOA5rWL5Yiw55m75b2V54q25oCB5pS55Y+YJywgdGhpcy4kc3RvcmUuc3RhdGUudXNlclN0YXR1cykKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJTdGF0dXMKICAgIH0sCiAgICBpc0xvZ2luKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5pc0xvZ2luCiAgICB9LAogICAgbXlGb2xsb3dUaXRsZSgpIHsKICAgICAgcmV0dXJuICLmiJHlhbPms6jnmoTkuLvmkq3mnIkiICsgdGhpcy5udW0gKyAi5Lq65Zyo55u05pKtIgogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIh+aNouWvvOiIquagj+WbvueJhwogICAgY2hhbmdlSW1hZ2VTcmMoKSB7CiAgICAgIC8vIGlmKGluZGV4ID09PSAxKXsKICAgICAgLy8gICB0aGlzLmZvbGxvd1VybCA9IHJlcXVpcmUoJ0AvYXNzZXRzL2hvbWUvZm9sbG93X2JsdWVAMngucG5nJykKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICB0aGlzLmZvbGxvd1VybCA9IHJlcXVpcmUoJ0AvYXNzZXRzL2hvbWUvZm9sbG93QDJ4LnBuZycpCiAgICAgIC8vIH0KICAgIH0sCiAgICBqdW5tcFRvRm9sbG93KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdGb2xsb3dMaXN0JyB9KQogICAgfSwKICAgIG9wZW5Mb2dpbkRpYWxvZygpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUub3BlbkxvZ2luRGlhbG9nID0gdHJ1ZQogICAgfSwKICAgIC8vIOafpeivoueUqOaIt+S/oeaBrwogICAgZ2V0RmVsbG93TGlzdCgpIHsKICAgICAgYXR0ZW50aW9uR2V0Rm9sbG93QW5jaG9ycyh7fSwge30pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLm51bSA9IHJlcy5kYXRhLm9ubGluZUNoYW5uZWxzLmxlbmd0aDsKICAgICAgICBpZiAocmVzLmRhdGEub25saW5lQ2hhbm5lbHMubGVuZ3RoIDw9IDYpIHsKICAgICAgICAgIHRoaXMub25saW5lQ2hhbm5lbHMgPSByZXMuZGF0YS5vbmxpbmVDaGFubmVsczsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHsKICAgICAgICAgICAgdGhpcy5vbmxpbmVDaGFubmVscy5wdXNoKHJlcy5kYXRhLm9ubGluZUNoYW5uZWxzW2ldKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgIH0pCiAgICB9LAogICAgLy8g6Lez6L2s55u05pKt6Ze0CiAgICB0b0xpdmVSb29tKGNpZCwgaXRlbSkgewogICAgICBjb25zb2xlLmxvZygn57uE5Lu2LeWfi+eCuea1i+ivlS0nLCBpdGVtKQogICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvTGl2ZXJvb20nLCBxdWVyeTogeyBjaWQ6IGNpZCB9IH0pCiAgICAgIGNvbnN0IHsgaHJlZiB9ID0gdGhpcy4kcm91dGVyLnJlc29sdmUoY2lkLCAnLycpCiAgICAgIHdpbmRvdy5vcGVuKGhyZWYsICJfYmxhbmsiKTsKICAgICAgdGhpcy50cmFja1Bhc3NUb1BhcmVudChpdGVtKTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuaXNMb2dpbikgewogICAgICB0aGlzLmdldEZlbGxvd0xpc3QoKQogICAgfQogIH0sCiAgd2F0Y2g6IHt9LAogIGZpbHRlcnM6IHsKICAgIG5hbWVGaWx0ZXI6IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBpZiAoIXZhbHVlKSByZXR1cm4gJycKICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IDE1KSB7CiAgICAgICAgcmV0dXJuIHZhbHVlLnNsaWNlKDAsIDcpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHZhbHVlCiAgICAgIH0KCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["homeNavFollow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"homeNavFollow.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div class=\"follow-content\">\n    <!--已登录-未关注主播/未登录-->\n    <el-popover placement=\"bottom\" width=\"320\" title=\"我的关注\" trigger=\"hover\"\n                v-if=\"userStatus.loginStatus === 'notLogin' \">\n      <div class=\"notFollow-tip\">\n        <!--          <img src=\"@/assets/home/expression_cry@3x.png\" style=\"width:100px;height:100px;\">-->\n        <p>您还未关注主播,<a class=\"notFollow-tip-text\">快去看看吧~</a></p>\n      </div>\n      <!--导航栏显示-未登录-->\n      <div class=\"nav-icon\" slot=\"reference\" @mouseenter=\"changeImageSrc(1)\" @mouseleave=\"changeImageSrc(2)\">\n        <!--          <img :src=\"followUrl\" style=\"width:14px;height:14px;\">-->\n        关注\n      </div>\n    </el-popover>\n    <!--已登录-关注列表-->\n    <el-popover placement=\"bottom\" :title=\"myFollowTitle\" width=\"310\" trigger=\"hover\"\n                v-if=\"userStatus.loginStatus === 'isLogin'\">\n      <div class=\"login-follow-list\" v-if=\"num !== 0\">\n        <div class=\"login-follow-row\" v-for=\"(item,index) in onlineChannels\" :key=index @click=\"toLiveRoom(item.cid)\">\n          <!-- <img :src=\"item.avatarUrl\" > -->\n          <div class=\"row-avatar\">\n            <el-avatar size=\"large\" :src=\"item.avatarUrl\" fit=\"scale-down\" style=\"width:58px;height:58px;\"></el-avatar>\n          </div>\n          <div class=\"row-title\">\n            <p class=\"row-title-name\">{{item.uname | nameFilter}}</p>\n            <p class=\"row-title-uname\">{{item.typeName}}</p>\n          </div>\n          <div class=\"row-hot\">\n            <!--              <div class=\"row-hot-hot\">-->\n            <!--                <img src=\"../../assets/home/huo@2x.png\" style=\"width:18px;height:20px;\">-->\n            <!--                <p class=\"row-title-onLineScore\">{{item.score}}</P>-->\n            <!--              </div>-->\n            <p class=\"row-title-uname color-red\">Live</p>\n          </div>\n        </div>\n        <el-button v-show=\"onlineChannels.length>2\" type=\"primary\" style=\"width:320px;height:48px;border-radius:24px;\"\n                   @click=\"junmpToFollow()\">查看更多\n        </el-button>\n      </div>\n      <div class=\"notFollow-tip\" v-if=\"num === 0\">\n        <!--          <img src=\"@/assets/home/expression_sleep@3x.png\" style=\"width:116px;height:117px;\">-->\n        <p>主播不在家,<a class=\"notFollow-tip-text\">快去看看别的直播吧~</a></p>\n      </div>\n      <!--导航栏显示-已登录-->\n      <div class=\"nav-icon \" slot=\"reference\" @mouseenter=\"changeImageSrc(1)\" @mouseleave=\"changeImageSrc(2)\">\n        <!--            <img :src=\"followUrl\" style=\"width:14px;height:14px;\">-->\n        关注 <span class=\"follower\" v-if=\"num > 0\">{{ num }}</span>\n      </div>\n    </el-popover>\n  </div>\n</template>\n<script>\n  import { Button, Popover, divider, Col, avatar } from 'element-ui';\n  import { attentionGetFollowAnchors } from \"@/api/api\";\n\n  export default {\n    name: 'home-nav-follow',\n    components: {\n      [Button.name]: Button,\n      [Popover.name]: Popover,\n      [divider.name]: divider,\n      [Col.name]: Col,\n      [avatar.name]: avatar,\n    },\n    data() {\n      return {\n        num: 0,\n        onlineChannels: [\n          // {\n          //   userDto:{\n          //     avatarUrl:'',\n          //     uname:'sss',\n          //   },\n          //   channelCoverDto:{\n          //      uname:'sss',\n          //       name:'ss',\n          //       onLineScore:'sdcsc',\n          //      typeName:'sdfs',\n          //   }\n          // },\n          //  {\n          //   userDto:{\n          //     avatarUrl:'',\n          //     uname:'sss33',\n          //   },\n          //   channelCoverDto:{\n\n          //       name:'ss1111111111111111111111111111111111',\n          //       onLineScore:'sdcsc',\n          //      typeName:'sdfs',\n          //   }\n          // },\n        ],\n        followUrl: require('@/assets/home/follow@2x.png')\n      }\n    },\n    computed: {\n      userStatus() {\n        console.log('检测到登录状态改变', this.$store.state.userStatus)\n        return this.$store.state.userStatus\n      },\n      isLogin() {\n        return this.$store.getters.isLogin\n      },\n      myFollowTitle() {\n        return \"我关注的主播有\" + this.num + \"人在直播\"\n      }\n    },\n    created() {\n    },\n    methods: {\n      // 切换导航栏图片\n      changeImageSrc() {\n        // if(index === 1){\n        //   this.followUrl = require('@/assets/home/follow_blue@2x.png')\n        // } else {\n        //   this.followUrl = require('@/assets/home/follow@2x.png')\n        // }\n      },\n      junmpToFollow() {\n        this.$router.push({ name: 'FollowList' })\n      },\n      openLoginDialog() {\n        this.$store.state.openLoginDialog = true\n      },\n      // 查询用户信息\n      getFellowList() {\n        attentionGetFollowAnchors({}, {}).then(res => {\n          this.num = res.data.onlineChannels.length;\n          if (res.data.onlineChannels.length <= 6) {\n            this.onlineChannels = res.data.onlineChannels;\n          } else {\n            for (let i = 0; i < 6; i++) {\n              this.onlineChannels.push(res.data.onlineChannels[i]);\n            }\n          }\n        }).catch(e => {\n          console.error(e);\n        })\n      },\n      // 跳转直播间\n      toLiveRoom(cid, item) {\n        console.log('组件-埋点测试-', item)\n        // this.$router.push({ path: '/Liveroom', query: { cid: cid } })\n        const { href } = this.$router.resolve(cid, '/')\n        window.open(href, \"_blank\");\n        this.trackPassToParent(item);\n      },\n    },\n    mounted() {\n      if (this.isLogin) {\n        this.getFellowList()\n      }\n    },\n    watch: {},\n    filters: {\n      nameFilter: function (value) {\n        if (!value) return ''\n        if (value.length > 15) {\n          return value.slice(0, 7)\n        } else {\n          return value\n        }\n\n      }\n    }\n  }\n</script>\n<style lang=\"scss\">\n  @import \"@/assets/css/_var.scss\";\n\n  .el-popover {\n    border-radius: 8px;\n    border: 5px solid $color-main;\n    border-width: 5px 0px 0px 0px;\n  }\n\n  .el-popover__title {\n    height: 22px;\n    font-size: 16px;\n    font-family: PingFangSC-Regular, PingFang SC;\n    font-weight: 400;\n    color: rgba(51, 51, 51, 1);\n    line-height: 22px;\n  }\n</style>\n<style lang=\"scss\" scoped>\n  @import \"@/assets/css/_var.scss\";\n\n  .notFollow-tip {\n    font-family: PingFangSC-Regular, PingFang SC;\n    font-weight: 400;\n    width: 300px;\n    height: 100px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n    font-size: 14px;\n    color: rgba(153, 153, 153, 1);\n\n    .notFollow-tip-text {\n      color: $color-main;\n    }\n  }\n\n  .nav-icon {\n    position: relative;\n    padding-right: 25px;\n    width: 65px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 16px;\n\n    .follower {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      padding: 5px;\n      height: 8px;\n      position: absolute;\n      top: 10px;\n      left: 30px;\n      border-radius: 20px;\n      background-color: $color-red-envelope;\n      color: #fff;\n      font-size: 14px;\n    }\n  }\n\n  .nav-icon:hover {\n    color: $color-main;\n  }\n\n  .login-tip-content {\n    font-size: 14px;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    align-items: center;\n\n    .login-tip-item {\n      display: flex;\n      flex-direction: column;\n      justify-content: flex-start;\n      align-items: center;\n      width: 65px;\n    }\n  }\n\n  .login-follow-list {\n    width: 100%;\n    font-family: PingFangSC-Regular, PingFang SC;\n    font-weight: 400;\n    cursor: pointer;\n\n    .login-follow-row {\n      width: 310px;\n      height: 70px;\n      background: rgba(255, 255, 255, 1);\n      margin: 0px 0px 10px 0px;\n      padding: 2px 0px 2px 0px;\n      /*box-shadow: 0px 1px 1.5px 0px rgba(0,0,0,0.21);*/\n      border-radius: 2px;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n\n      .row-avatar {\n        width: 66px;\n        height: 66px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .row-title {\n        width: 192px;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        align-items: flex-start;\n        padding-left: 10px;\n\n        .row-title-name {\n          height: 30px;\n          font-size: 16px;\n          color: $color-main;\n          line-height: 30px;\n        }\n      }\n\n      .row-hot {\n        width: 60px;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        align-items: center;\n\n        .row-hot-hot {\n          display: flex;\n          flex-direction: row;\n          justify-content: space-around;\n          align-items: center;\n\n          .row-title-onLineScore {\n            border-radius: 2px;\n            height: 30px;\n            font-size: 14px;\n            color: rgba(102, 102, 102, 1);\n            line-height: 30px;\n          }\n        }\n      }\n    }\n\n    .login-follow-row:hover {\n      background: rgba(233, 234, 236, 1);\n    }\n  }\n\n  .login-pop {\n    .signOut {\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-end;\n      align-items: center;\n    }\n\n    .user {\n      width: 300px;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n\n      .user-logo {\n        width: 80px;\n        height: 80px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        img {\n          width: 80%;\n          height: 80%;\n          border-radius: 50%;\n        }\n      }\n\n      .user-info {\n        height: 20px;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        text-align: left;\n        margin-left: 5px;\n\n        .user-info-name {\n          font-weight: 500;\n          color: rgba(74, 74, 74, 1);\n          font-size: 15px;\n          line-height: 20px;\n        }\n\n        .user-info-id {\n          font-weight: 400;\n          font-size: 14px;\n          color: rgba(51, 51, 51, 1);\n          line-height: 20px;\n        }\n      }\n    }\n  }\n</style>\n"]}]}