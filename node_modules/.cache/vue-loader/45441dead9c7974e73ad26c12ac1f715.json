{"remainingRequest":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc端clone\\iqiu\\src\\views\\Liveroom.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\pc端clone\\iqiu\\src\\views\\Liveroom.vue","mtime":1594000643105},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMaXZlcm9vbUhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvbGl2ZXJvb20vTGl2ZXJvb21IZWFkZXIiOwppbXBvcnQgTGl2ZXJvb21HaWZ0IGZyb20gIkAvY29tcG9uZW50cy9saXZlcm9vbS9MaXZlcm9vbUdpZnQiOwppbXBvcnQgbGl2ZXJvb21Ob3RpY2UgZnJvbSAiQC9jb21wb25lbnRzL2xpdmVyb29tL0xpdmVyb29tTm90aWNlIjsKLy8gaW1wb3J0IGxpdmVyb29tUmFuayBmcm9tICJAL2NvbXBvbmVudHMvbGl2ZXJvb20vTGl2ZXJvb21SYW5rIjsKaW1wb3J0IGxpdmVyb29tSW5wdXQgZnJvbSAiQC9jb21wb25lbnRzL2xpdmVyb29tL0xpdmVyb29tSW5wdXQiOwppbXBvcnQgbGl2ZXJvb21DaGF0IGZyb20gIkAvY29tcG9uZW50cy9saXZlcm9vbS9MaXZlcm9vbUNoYXQiOwovLyBpbXBvcnQgTGl2ZXJvb21QYW9kYW8gZnJvbSAiQC9jb21wb25lbnRzL2xpdmVyb29tL0xpdmVyb29tUGFvZGFvIjsKaW1wb3J0IExpdmVyb29tTG9naW5EaWFsb2cgZnJvbSAiQC9jb21wb25lbnRzL2xpdmVyb29tL0xpdmVyb29tTG9naW5EaWFsb2ciOwppbXBvcnQgTGl2ZXJvb21SZWNvbW1lbmQgZnJvbSAiQC9jb21wb25lbnRzL2xpdmVyb29tL0xpdmVyb29tUmVjb21tZW5kIjsKCmltcG9ydCBMZWZ0U2lkZUJhciBmcm9tICJAL2NvbXBvbmVudHMvbGVmdC1zaWRlLWJhci52dWUiOwppbXBvcnQgaG9tZU5hdiBmcm9tICJAL3ZpZXdzL2hvbWUvaG9tZU5hdi52dWUiOwppbXBvcnQgbG9naW5Qb3AgZnJvbSAiQC9jb21wb25lbnRzL2xvZ2luL2xvZ2luVGlwUG9wdXAudnVlIjsKaW1wb3J0IHZpZGVvUGxheWVyIGZyb20gIkAvY29tcG9uZW50cy92aWRlby92aWRlb1BsYXllci52dWUiOwoKaW1wb3J0IHsgbWQ1U2VjcmV0IH0gZnJvbSAiQC91dGlscy9tZDUuanMiOwppbXBvcnQgKiBhcyBDaGF0IGZyb20gIkAvdXRpbHMvY2hhdC5qcyI7CmltcG9ydCB7IGV2ZW50IH0gZnJvbSAiQC91dGlscy9sZWFuY2xvdWQuanMiOwppbXBvcnQgewogIHF1ZXJ5Um9vbVJhbmtpbmcsCiAgY2hhbm5lbEluZm8sCiAgZW50ZXJSb29tLAogIGdldEdpZnRMaXN0LAogIGxvZ2luSW5mbwp9IGZyb20gIkAvYXBpL2xpdmVyb29tIjsKaW1wb3J0IHsgcmVjb21tZW5kTGl2ZUxpc3QgfSBmcm9tICJAL2FwaS9hcGkiOwoKaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICJAL3V0aWxzL2RlYm91bmNlQW5kdGhyb3R0bGUiOwovLyBpbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnOwppbXBvcnQgRGFubWFrdSBmcm9tICJkYW5tYWt1IjsKaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxpdmVSb29tIiwKICBjb21wb25lbnRzOiB7CiAgICBMaXZlcm9vbUhlYWRlciwKICAgIExpdmVyb29tR2lmdCwKICAgIGxpdmVyb29tQ2hhdCwKICAgIC8vIExpdmVyb29tUGFvZGFvLAogICAgbGl2ZXJvb21Ob3RpY2UsCiAgICAvLyBsaXZlcm9vbVJhbmssCiAgICBMaXZlcm9vbUxvZ2luRGlhbG9nLAogICAgbGl2ZXJvb21JbnB1dCwKICAgIExpdmVyb29tUmVjb21tZW5kLAogICAgTGVmdFNpZGVCYXIsCiAgICBob21lTmF2LAogICAgbG9naW5Qb3AsCiAgICB2aWRlb1BsYXllcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzRm9sZDogdHJ1ZSwKICAgICAgdXNlckxvZ2luOiB7CiAgICAgICAgLy8gImlkIjogIjY4MDYxMjkiLAogICAgICAgIC8vICJ0b2tlbiI6ICJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpVeE1pSjkuZXlKNExYcDVMWFZ6WlhJdGFXUWlPaUkyT0RBMk1USTVJaXdpYVhOeklqb2llbWhoYm1kNWRTSXNJbVY0Y0NJNk1UVTNPVFV4T1RZME1pd2lhV0YwSWpveE5UYzRNekV3TURReWZRLlZVMk5iS2Z0dlNKVFJlMXRUY1h0Um9XVzRVbkdnMzZnR0diSHEzS2dTQmZoRExOanB0a0xzWVBOeWhzVV9scGFaSjk3SHE0TG5BOFE4VGhnUG1BdG5RIiwKICAgICAgICAvLyAibW9iaWxlIjogIjE4NCoqKio2MjcyIiwKICAgICAgICAvLyAidW5hbWUiOiAi6Laz55CD57K+6IuxIiwKICAgICAgICAvLyAic3RhdHVzIjogMCwKICAgICAgICAvLyAiYXZhdGFyVXJsIjogImh0dHBzOi8vcGljLmltaWZhbi5saXZlL2F2YXRhci8yMDE5MTIxMDEzMDgxODEzNjA4MDkxNTc0NTgzMzg0LmpwZyIsCiAgICAgICAgLy8gImFjY291bnREdG8iOiB7CiAgICAgICAgLy8gICAiX2lkIjogIjEzMTgzMDU3ODUwMTYzMjE1IiwKICAgICAgICAvLyAgICJ1aWQiOiAiNjgwNjEyOSIsCiAgICAgICAgLy8gICAiY2FzaEFjY291bnQiOiB7CiAgICAgICAgLy8gICAgICJ0b3RhbEJhbGFuY2UiOiA5MDExLAogICAgICAgIC8vICAgICAiYmFsYW5jZSI6IDkwMTEsCiAgICAgICAgLy8gICAgICJmcnpCYWxhbmNlIjogMCwKICAgICAgICAvLyAgICAgInRvdGFsUmVjaGFyZ2UiOiAxMjAwMCwKICAgICAgICAvLyAgICAgInRvdGFsV2l0aGRyYXdhbCI6IDEwMDAwCiAgICAgICAgLy8gICB9LAogICAgICAgIC8vICAgInNhbGFyeUFjY291bnQiOiB7CiAgICAgICAgLy8gICAgICJ0b3RhbEJhbGFuY2UiOiA2MDAwLAogICAgICAgIC8vICAgICAiYmFsYW5jZSI6IDUwMDAsCiAgICAgICAgLy8gICAgICJmcnpCYWxhbmNlIjogMTAwMCwKICAgICAgICAvLyAgICAgInRvdGFsUmVjaGFyZ2UiOiAwLAogICAgICAgIC8vICAgICAidG90YWxXaXRoZHJhd2FsIjogMAogICAgICAgIC8vICAgfSwKICAgICAgICAvLyAgICJjYXNoQXNzZXRzIjogODAxMSwKICAgICAgICAvLyAgICJtaUNvaW4iOiB7CiAgICAgICAgLy8gICAgICJiYWxhbmNlIjogMzc5ODk4ODAwLAogICAgICAgIC8vICAgICAidG90YWxFeHBlbmQiOiAxMDk5OTk4LAogICAgICAgIC8vICAgICAidG90YWxSZWNoYXJnZSI6IDEwOTk5OTgKICAgICAgICAvLyAgIH0sCiAgICAgICAgLy8gICAiY2FzaFRvdGFsUmVjaGFyZ2UiOiAxMTExOTk4LAogICAgICAgIC8vICAgImNhc2hUb3RhbFdpdGhkcmF3YWwiOiAxMDAwMAogICAgICAgIC8vIH0sCiAgICAgICAgLy8gImlzQW5jaG9yIjogdHJ1ZSwKICAgICAgICAvLyAiZmF2b3JpdGUiOiAxLAogICAgICAgIC8vICJ3eEJpbmRTdGF0dXMiOiAiQklORCIsCiAgICAgICAgLy8gInd4TmFtZSI6ICJtaW1vIiwKICAgICAgICAvLyAiY2FuRWRpdFVuYW1lIjogdHJ1ZSwKICAgICAgICAvLyAibG9nT3V0U3RhdHVzIjogIklOQVVESVQiCiAgICAgIH0sCiAgICAgIGxpdmVyb29tOiAiIiwKICAgICAgY2hhbm5lbEluZm86IHt9LCAvLyDkuLvmkq3kv6Hmga8KICAgICAgdXNlckluZm86IHsKICAgICAgICBjaGFubmVsUm9sZVR5cGU6IDAsCiAgICAgICAgZm9sbG93OiBmYWxzZSwKICAgICAgICBmb3JiaWQ6IGZhbHNlLAogICAgICAgIGZvcmJpZEVuZFRpbWU6IG51bGwKICAgICAgfSwgLy8g55So5oi35Zyo5b2T5YmN55u05pKt6Ze05L+h5oGvCiAgICAgIGdpZnRMaXN0OiBbXSwgLy8g56S854mp5YiX6KGoCiAgICAgIGdpZnRMaXN0VG9PYmplY3Q6IHt9LCAvLyDnpLznianliJfooagKICAgICAgaG9uZ2Jhb0xpc3Q6IFtdLCAvLyDnuqLljIXliJfooagKICAgICAgcmVjb21tZW5kTGlzdDogW10sIC8vIOaOqOiNkOWIl+ihqAogICAgICByZWNvbW1lbmRWaWRlbzI6IFtdLCAvLyDmnKrlvIDmkq3mjqjojZDliJfooagKICAgICAgcmFua09iamVjdDoge30sCiAgICAgIG1lc3NhZ2VJdGVtOiB7fSwKICAgICAgZ2lmdEl0ZW06IHsKICAgICAgICAvLyAiZ2lmdCI6IHsKICAgICAgICAvLyAgICJhbmNob3JJZCI6ICI2OTE5MTY0IiwKICAgICAgICAvLyAgICJhbmNob3JOYW1lIjogIuWGr+abpuWmpCIsCiAgICAgICAgLy8gICAiaWQiOiAxMjkxNTIwNjkzMDYzNjgwMiwKICAgICAgICAvLyAgICJuYW1lIjogIua1quWRs+S7mSIsCiAgICAgICAgLy8gICAibnVtYmVyIjogMSwKICAgICAgICAvLyAgICJwaWN0dXJlIjogImh0dHBzOi8vcGljLmltaWZhbi5saXZlL2dpZnRzL2xhbmdYaWFuWGlhbi8yMDE5MTAxODE5MjgzOTEzMDMxNDUyNjIwNjc3MTQxLnBuZyIsCiAgICAgICAgLy8gICAic2hvd0dpZnQiOiB0cnVlLAogICAgICAgIC8vICAgInRvdGFsRmVlIjogMTAKICAgICAgICAvLyB9LAogICAgICAgIC8vICJwVHlwZSI6IDAsCiAgICAgICAgLy8gInBpZCI6ICI2OTE5MTY0IiwKICAgICAgICAvLyAic2lnbiI6ICIyODY0MDNBMzkzQzI3NTA0NkMzMDUzQ0E3RUJFNEFERCIsCiAgICAgICAgLy8gInVzZXIiOiB7CiAgICAgICAgLy8gICAiYXZhdGFyIjogImh0dHBzOi8vcGljLmltaWZhbi5saXZlL2F2YXRhci8yMDE5MTAzMTE5NDU1MTEzMTgzMDU3ODUwMTYzMjA5LnBuZyIsCiAgICAgICAgLy8gICAiaWQiOiAiMzQ4NjA3NCIsCiAgICAgICAgLy8gICAibmFtZSI6ICLmmajmm6blkLvmnIgiCiAgICAgICAgLy8gfQogICAgICB9LAogICAgICBtc2dMaXN0OiBbCiAgICAgICAgLy8g5Zub56eN6KeS6Imy5Y+R6YCB5by55bmVCiAgICAgICAgLy8geyJfbGNhdHRycyI6eyJwVHlwZSI6MCwic2lnbiI6IjM3RDkxMDlFMzA1NzA1Mzc1QTI5NjBCRUIzMDAwMjIyIiwibGN1aWQiOiJDSEFUX1VTRVJfMzUwNjMyOSIsInBpZCI6IjEwMDAwMDA0IiwidXNlciI6eyJyb2xlIjowLCJuYW1lIjoi5pil5pqW6Iqx5byANTY3IiwiaWQiOiIxMDAwMDAwNCJ9fSwiX2xjdHlwZSI6LTEsIl9sY3RleHQiOiLkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMSJ9LAogICAgICAgIC8vIHsiX2xjYXR0cnMiOnsicFR5cGUiOjAsInNpZ24iOiIzN0Q5MTA5RTMwNTcwNTM3NUEyOTYwQkVCMzAwMDIyMiIsImxjdWlkIjoiQ0hBVF9VU0VSXzM1MDYzMjkiLCJwaWQiOiIxMDAwMDE1NyIsInVzZXIiOnsicm9sZSI6MSwibmFtZSI6IuaYpeaaluiKseW8gDU2NyIsImlkIjoiMzUwNjMyOSJ9fSwiX2xjdHlwZSI6LTEsIl9sY3RleHQiOiLkuLvmkq3ml6kxIn0sCiAgICAgICAgLy8geyJfbGNhdHRycyI6eyJwVHlwZSI6MCwic2lnbiI6IjM3RDkxMDlFMzA1NzA1Mzc1QTI5NjBCRUIzMDAwMjIyIiwibGN1aWQiOiJDSEFUX1VTRVJfMzUwNjMyOSIsInBpZCI6IjEwMDAwMTU3IiwidXNlciI6eyJyb2xlIjoyLCJuYW1lIjoi5pil5pqW6Iqx5byANTY3IiwiaWQiOiIzNTA2MzI5In19LCJfbGN0eXBlIjotMSwiX2xjdGV4dCI6IuS4u+aSreaXqTIifSwKICAgICAgICAvLyB7Il9sY2F0dHJzIjp7InBUeXBlIjowLCJzaWduIjoiMzdEOTEwOUUzMDU3MDUzNzVBMjk2MEJFQjMwMDAyMjIiLCJsY3VpZCI6IkNIQVRfVVNFUl8zNTA2MzI5IiwicGlkIjoiMTAwMDAxNTciLCJ1c2VyIjp7InJvbGUiOjksIm5hbWUiOiLmmKXmmpboirHlvIA1NjciLCJpZCI6IjM1MDYzMjkifX0sIl9sY3R5cGUiOi0xLCJfbGN0ZXh0Ijoi5Li75pKt5pepMyJ9LAogICAgICAgIC8vIHsiX2xjYXR0cnMiOnsiZ2lmdCI6eyJhbmNob3JJZCI6IjYzMzYzMzUiLCJhbmNob3JOYW1lIjoi6ICB54mb6Kej6K+0IiwiaWQiOjEyOTE1MjA2OTMwNjM2ODAxLCJuYW1lIjoi6aWt5ZuiIiwibnVtYmVyIjoxLCJwaWN0dXJlIjoiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvZ2lmdHMvcmljZUJhbGwvMjAxOTEwMTgxOTEzMjkxMzAzMTQ1MjYyMDY3NzEyOC5wbmciLCJzaG93R2lmdCI6dHJ1ZSwidG90YWxGZWUiOjEwfSwicFR5cGUiOjAsInBpZCI6IjYzMzYzMzUiLCJzaWduIjoiRjVBRTdCRjg3OTY5NkYyRUNFODNBQUREMjM1OUUyMjkiLCJ1c2VyIjp7ImF2YXRhciI6Imh0dHBzOi8vcGljLmltaWZhbi5saXZlL2F2YXRhci8yMDE5MTExMjEwMzIwMDEzMjUwNDI3NzY1NzI3MjczLmpwZyIsImlkIjoiNjc0MTM5OCIsIm5hbWUiOiLlh4nnmb3lvIAifX0sIl9sY3RleHQiOiIxMjkxNTIwNjkzMDYzNjgwMSIsIl9sY3R5cGUiOjJ9LCB7Il9sY2F0dHJzIjp7InBUeXBlIjowLCJzaWduIjoiMzdEOTEwOUUzMDU3MDUzNzVBMjk2MEJFQjMwMDAyMjIiLCJsY3VpZCI6IkNIQVRfVVNFUl8zNTA2MzI5IiwicGlkIjoiMTAwMDAxNTciLCJ1c2VyIjp7InJvbGUiOjAsIm5hbWUiOiLmmKXmmpboirHlvIA1NjciLCJpZCI6IjM1MDYzMjkifX0sIl9sY3R5cGUiOi0xLCJfbGN0ZXh0Ijoi5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTHkuLvmkq3ml6kx5Li75pKt5pepMeS4u+aSreaXqTEifSwKICAgICAgICAvLyB7Il9sY2F0dHJzIjp7InBUeXBlIjowLCJzaWduIjoiMzdEOTEwOUUzMDU3MDUzNzVBMjk2MEJFQjMwMDAyMjIiLCJsY3VpZCI6IkNIQVRfVVNFUl8zNTA2MzI5IiwicGlkIjoiMTAwMDAxNTciLCJ1c2VyIjp7InJvbGUiOjEsIm5hbWUiOiLmmKXmmpboirHlvIA1NjciLCJpZCI6IjM1MDYzMjkifX0sIl9sY3R5cGUiOi0xLCJfbGN0ZXh0Ijoi5Li75pKt5pepMSJ9LAogICAgICAgIC8vIHsiX2xjYXR0cnMiOnsicFR5cGUiOjAsInNpZ24iOiIzN0Q5MTA5RTMwNTcwNTM3NUEyOTYwQkVCMzAwMDIyMiIsImxjdWlkIjoiQ0hBVF9VU0VSXzM1MDYzMjkiLCJwaWQiOiIxMDAwMDE1NyIsInVzZXIiOnsicm9sZSI6MiwibmFtZSI6IuaYpeaaluiKseW8gDU2NyIsImlkIjoiMzUwNjMyOSJ9fSwiX2xjdHlwZSI6LTEsIl9sY3RleHQiOiLkuLvmkq3ml6kyIn0sCiAgICAgICAgLy8geyJfbGNhdHRycyI6eyJwVHlwZSI6MCwic2lnbiI6IjM3RDkxMDlFMzA1NzA1Mzc1QTI5NjBCRUIzMDAwMjIyIiwibGN1aWQiOiJDSEFUX1VTRVJfMzUwNjMyOSIsInBpZCI6IjEwMDAwMTU3IiwidXNlciI6eyJyb2xlIjo5LCJuYW1lIjoi5pil5pqW6Iqx5byANTY3IiwiaWQiOiIzNTA2MzI5In19LCJfbGN0eXBlIjotMSwiX2xjdGV4dCI6IuS4u+aSreaXqTMifSwKICAgICAgICAvLyB7Il9sY2F0dHJzIjp7ImdpZnQiOnsiYW5jaG9ySWQiOiI2MzM2MzM1IiwiYW5jaG9yTmFtZSI6IuiAgeeJm+ino+ivtCIsImlkIjoxMjkxNTIwNjkzMDYzNjgwMSwibmFtZSI6IumlreWboiIsIm51bWJlciI6MSwicGljdHVyZSI6Imh0dHBzOi8vcGljLmltaWZhbi5saXZlL2dpZnRzL3JpY2VCYWxsLzIwMTkxMDE4MTkxMzI5MTMwMzE0NTI2MjA2NzcxMjgucG5nIiwic2hvd0dpZnQiOnRydWUsInRvdGFsRmVlIjoxMH0sInBUeXBlIjowLCJwaWQiOiI2MzM2MzM1Iiwic2lnbiI6IkY1QUU3QkY4Nzk2OTZGMkVDRTgzQUFERDIzNTlFMjI5IiwidXNlciI6eyJhdmF0YXIiOiJodHRwczovL3BpYy5pbWlmYW4ubGl2ZS9hdmF0YXIvMjAxOTExMTIxMDMyMDAxMzI1MDQyNzc2NTcyNzI3My5qcGciLCJpZCI6IjY3NDEzOTgiLCJuYW1lIjoi5YeJ55m95byAIn19LCJfbGN0ZXh0IjoiMTI5MTUyMDY5MzA2MzY4MDEiLCJfbGN0eXBlIjoyfSwKICAgICAgICAvLyB7CiAgICAgICAgLy8gICAiX2xjdHlwZSI6IDEsCiAgICAgICAgLy8gICAiX2xjdGV4dCI6ICLlsI/po57mnLrlhbPms6jkuobov5nkuKrkuLvmkq0iLAogICAgICAgIC8vICAgIl9sY2F0dHJzIjogewogICAgICAgIC8vICAgICAidXNlciI6IHsgImlkIjogIjIwMDMyMDE5IiwgIm5hbWUiOiAi5pmo5pum5ZC75pyIIiwgInJvbGUiOiA5LCAiYXZhdGFyIjogInh4eHh4eCIgfSwKICAgICAgICAvLyAgICAgInNtIjogeyAidHlwZSI6IDAgfSwKICAgICAgICAvLyAgICAgImdpZnQiOiB7ICJpZCI6IDgzNzQzNzg0MTM4LCAibnVtYmVyIjogMTIsICJ0b3RhbEZlZSI6IDEyMDAsICJhbmNob3JJZCI6ICI3MjYyNjUiIH0sCiAgICAgICAgLy8gICAgICJydyI6IHsgInR5cGUiOiAwLCAibGV2ZWwiOiAwLCAiaXNKdW1wIjogMCB9LAogICAgICAgIC8vICAgICAicFR5cGUiOiAwLAogICAgICAgIC8vICAgICAicGlkIjogIjEyNjcxMjY3NiIKICAgICAgICAvLyAgIH0KICAgICAgICAvLyB9LAogICAgICAgIC8vIHsKICAgICAgICAvLyAgICJfbGN0eXBlIjogMSwKICAgICAgICAvLyAgICJfbGN0ZXh0IjogIuWFrOWRiiIsCiAgICAgICAgLy8gICAiX2xjYXR0cnMiOiB7CiAgICAgICAgLy8gICAgICJ1c2VyIjogeyAiaWQiOiAiMjAwMzIwMTkiLCAibmFtZSI6ICLmmajmm6blkLvmnIgiLCAicm9sZSI6IDksICJhdmF0YXIiOiAieHh4eHh4IiB9LAogICAgICAgIC8vICAgICAic20iOiB7ICJ0eXBlIjogMSB9LAogICAgICAgIC8vICAgICAiZ2lmdCI6IHsgImlkIjogODM3NDM3ODQxMzgsICJudW1iZXIiOiAxMiwgInRvdGFsRmVlIjogMTIwMCwgImFuY2hvcklkIjogIjcyNjI2NSIgfSwKICAgICAgICAvLyAgICAgInJ3IjogeyAidHlwZSI6IDAsICJsZXZlbCI6IDAsICJpc0p1bXAiOiAwIH0sCiAgICAgICAgLy8gICAgICJwVHlwZSI6IDAsCiAgICAgICAgLy8gICAgICJwaWQiOiAiMTI2NzEyNjc2IgogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gewogICAgICAgIC8vICAgIl9sY3R5cGUiOiA1LAogICAgICAgIC8vICAgIl9sY3RleHQiOiAiYmFuIiwKICAgICAgICAvLyAgICJfbGNhdHRycyI6IHsKICAgICAgICAvLyAgICAgInVzZXIiOiB7ICJpZCI6ICIyMDAzMjAxOSIsICJuYW1lIjogIuaZqOabpuWQu+aciCIsICJyb2xlIjogOSwgImF2YXRhciI6ICJ4eHh4eHgiIH0sCiAgICAgICAgLy8gICAgICJzbSI6IHsgInR5cGUiOiAwIH0sCiAgICAgICAgLy8gICAgICJnaWZ0IjogeyAiaWQiOiA4Mzc0Mzc4NDEzOCwgIm51bWJlciI6IDEyLCAidG90YWxGZWUiOiAxMjAwLCAiYW5jaG9ySWQiOiAiNzI2MjY1IiB9LAogICAgICAgIC8vICAgICAicnciOiB7ICJ0eXBlIjogMCwgImxldmVsIjogMCwgImlzSnVtcCI6IDAgfSwKICAgICAgICAvLyAgICAgInBUeXBlIjogMCwKICAgICAgICAvLyAgICAgInBpZCI6ICIxMjY3MTI2NzYiCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfSwKICAgICAgICAvLyB7CiAgICAgICAgLy8gICAiX2xjdHlwZSI6IDEsCiAgICAgICAgLy8gICAiX2xjdGV4dCI6ICLlsI/po57mnLrlhbPms6jkuobov5nkuKrkuLvmkq0iLAogICAgICAgIC8vICAgIl9sY2F0dHJzIjogewogICAgICAgIC8vICAgICAidXNlciI6IHsgImlkIjogIjIwMDMyMDE5IiwgIm5hbWUiOiAi5pmo5pum5ZC75pyIIiwgInJvbGUiOiA5LCAiYXZhdGFyIjogInh4eHh4eCIgfSwKICAgICAgICAvLyAgICAgInNtIjogeyAidHlwZSI6IDAgfSwKICAgICAgICAvLyAgICAgImdpZnQiOiB7ICJpZCI6IDgzNzQzNzg0MTM4LCAibnVtYmVyIjogMTIsICJ0b3RhbEZlZSI6IDEyMDAsICJhbmNob3JJZCI6ICI3MjYyNjUiIH0sCiAgICAgICAgLy8gICAgICJydyI6IHsgInR5cGUiOiAwLCAibGV2ZWwiOiAwLCAiaXNKdW1wIjogMCB9LAogICAgICAgIC8vICAgICAicFR5cGUiOiAwLAogICAgICAgIC8vICAgICAicGlkIjogIjEyNjcxMjY3NiIKICAgICAgICAvLyAgIH0KICAgICAgICAvLyB9CiAgICAgIF0sIC8vIOW8ueW5leWIl+ihqAogICAgICBkYW5tYWt1OiBudWxsIC8vIOinhumikeW8ueW5lQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0xvZ2luKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5pc0xvZ2luOwogICAgfSwKICAgIHRvcE5hdlN0eWxlT2JqKCkgewogICAgICBpZiAodGhpcy5pc0ZvbGQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcGFkZGluZ0xlZnQ6IGA0OHB4YCwKICAgICAgICAgIHdpZHRoOiBgY2FsYygxMDAlIC0gNDhweClgLAogICAgICAgICAgbWluV2lkdGg6ICIxMTMycHgiCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcGFkZGluZ0xlZnQ6IGAyNDBweGAsCiAgICAgICAgICB3aWR0aDogYGNhbGMoMTAwJSAtIDI0MHB4KWAsCiAgICAgICAgICBtaW5XaWR0aDogIjk0OHB4IgogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICB1c2VyU3RhdHVzOiB7CiAgICAgIGdldCAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJTdGF0dXMKICAgICAgfSwKICAgICAgc2V0KHZhbCl7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1cGRhdGVVc2VyU3RhdHVzJywgdmFsKQogICAgICB9CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZSgpIHsKICAgICAgLy8g5a+56Lev55Sx5Y+Y5YyW5L2c5Ye65ZON5bqUCiAgICAgIHRoaXMuaW5pdCgpOwogICAgfSwKICAgIC8vIGlzTG9naW4odmFsdWUpIHsKICAgIC8vICAgLy8g55uR5ZCs55m76ZmG5oiQ5YqfIOe7hOS7tuaatOmcsuWKn+iDvSDmmoLmnKrkvb/nlKgKICAgIC8vICAgaWYodmFsdWUpIHRoaXMuaW5pdCgpCiAgICAvLyB9CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIC8vIGxldCBzaWduID0gIjEyMyo1IjsKICAgIC8vIGxldCBtZDVzdHJpbmcgPSAiMTIzNDUiOwogICAgLy8KICAgIC8vIGlmIChzaWduLmluZGV4T2YoIioiKSA+IC0xKSB7CiAgICAvLyAgIGNvbnNvbGUubG9nKChzaWduID0gc2lnbi5zcGxpdCgiKiIpWzBdKSwgInNpZ24uc3BsaXQoJyonKVswXSIpOwogICAgLy8gICBjb25zb2xlLmxvZygobWQ1c3RyaW5nID0gbWQ1c3RyaW5nLnNsaWNlKDAsIHNpZ24ubGVuZ3RoKSksICJtZDVzdHJpbmciKTsKICAgIC8vIH0KICAgIC8vIGNvbnNvbGUubG9nKG1kNXN0cmluZyA9PT0gc2lnbik7CiAgICAvLyBkb2N1bWVudC5jb29raWUgPSAneHgtdXNlci10b2tlbj1leUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpVeE1pSjkuZXlKNExYcDVMWFZ6WlhJdGFXUWlPaUl6TkRnMk1EYzBJaXdpYVhOeklqb2llbWhoYm1kNWRTSXNJbVY0Y0NJNk1UVTNPVEUxTkRjeU9Dd2lhV0YwSWpveE5UYzNPVFExTVRJNGZRLmZkV3I4YmdjRXhUM2E3UXI4ay1BTUVGMTQyRnFLMDlSdHFNV0FIYzRURUN2SkE3Vl9nRDJGOHY3VU1zSktoYkFzcGdXZE44NGJ5SmZoM0lBTGtnNzB3JwogICAgLy8gQ29va2llcy5zZXQoJ3h4LXVzZXItdG9rZW4nLCdleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpVeE1pSjkuZXlKNExYcDVMWFZ6WlhJdGFXUWlPaUl6TkRnMk1EYzBJaXdpYVhOeklqb2llbWhoYm1kNWRTSXNJbVY0Y0NJNk1UVTNPVEUxTkRjeU9Dd2lhV0YwSWpveE5UYzNPVFExTVRJNGZRLmZkV3I4YmdjRXhUM2E3UXI4ay1BTUVGMTQyRnFLMDlSdHFNV0FIYzRURUN2SkE3Vl9nRDJGOHY3VU1zSktoYkFzcGdXZE44NGJ5SmZoM0lBTGtnNzB3JykKICAgIHRoaXMuaW5pdCgpOwogICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAvLyAgIHRoaXMubXNnTGlzdC5wdXNoKHsKICAgIC8vICAgICBuYW1lOiAxMTEsCiAgICAvLyAgICAgY29udGVudDogMjIyMjIyCiAgICAvLyAgIH0pCiAgICAvLyB9LDMwMDApCgogICAgLy8gdGVzdCBjaGF0cm9vbQogICAgLy8gbGV0IGluZGV4ID0gMTsKICAgIC8vIHNldEludGVydmFsKCgpID0+IHsKICAgIC8vICAgY29uc29sZS5sb2coJ21zZ0xpc3QgcHVzaCcpOwogICAgLy8gICB0aGlzLm1zZ0xpc3QucHVzaCh7CiAgICAvLyAgICAgbmFtZTogMTExLAogICAgLy8gICAgIGNvbnRlbnQ6IDIyMjIyMisgaW5kZXgKICAgIC8vICAgfSkKICAgIC8vICAgaW5kZXgrKwogICAgLy8gfSwzMDAwKQoKICAgIC8vIHRlc3Qg56S854mp5qiq5bmFCiAgICAvLyBsZXQgaSA9IDE7CiAgICAvLyBsZXQgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAvLyAgIGlmIChpID09IDEwKSBjbGVhckludGVydmFsKHRpbWVyKTsKICAgIC8vICAgdGhpcy5naWZ0SXRlbSA9IHsKICAgIC8vICAgICAiZ2lmdCI6IHsKICAgIC8vICAgICAgICJhbmNob3JJZCI6ICI2OTE5MTY0IiwKICAgIC8vICAgICAgICJhbmNob3JOYW1lIjogIuWGr+abpuWmpCIsCiAgICAvLyAgICAgICAiaWQiOiAxMjkxNTIwNjkzMDYzNjgwMiwKICAgIC8vICAgICAgICJuYW1lIjogIua1quWRs+S7mSIsCiAgICAvLyAgICAgICAibnVtYmVyIjogMSwKICAgIC8vICAgICAgICJwaWN0dXJlIjogImh0dHBzOi8vcGljLmltaWZhbi5saXZlL2dpZnRzL2xhbmdYaWFuWGlhbi8yMDE5MTAxODE5MjgzOTEzMDMxNDUyNjIwNjc3MTQxLnBuZyIsCiAgICAvLyAgICAgICAic2hvd0dpZnQiOiB0cnVlLAogICAgLy8gICAgICAgInRvdGFsRmVlIjogMTAgKiBpCiAgICAvLyAgICAgfSwKICAgIC8vICAgICAicFR5cGUiOiAwLAogICAgLy8gICAgICJwaWQiOiAiNjkxOTE2NCIsCiAgICAvLyAgICAgInNpZ24iOiAiMjg2NDAzQTM5M0MyNzUwNDZDMzA1M0NBN0VCRTRBREQiLAogICAgLy8gICAgICJ1c2VyIjogewogICAgLy8gICAgICAgImF2YXRhciI6ICJodHRwczovL3BpYy5pbWlmYW4ubGl2ZS9hdmF0YXIvMjAxOTEwMzExOTQ1NTExMzE4MzA1Nzg1MDE2MzIwOS5wbmciLAogICAgLy8gICAgICAgImlkIjogIjM0ODYwNzQiLAogICAgLy8gICAgICAgIm5hbWUiOiAi5pmo5pum5ZC75pyIIgogICAgLy8gICAgIH0KICAgIC8vICAgfQogICAgLy8gICBpKysKICAgIC8vCiAgICAvLyAgIGNvbnNvbGUubG9nKCdzZXRUaW1lb3V0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTsKICAgIC8vICAgdGhpcy5nZXRSYW5rKCk7CiAgICAvLwogICAgLy8gfSwgMTAwMCkKCiAgICAvLyB0ZXN0IOi3kemBkwogICAgLy8gbGV0IGkgPSAxOwogICAgLy8gbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgLy8gICBpZiAoaSA9PSAzKSBjbGVhckludGVydmFsKHRpbWVyKTsKICAgIC8vICAgdGhpcy5tc2dMaXN0LnB1c2goeyJfbGNhdHRycyI6eyJnaWZ0Ijp7ImFuY2hvcklkIjoiMTAwMDc4NzgiLCJhbmNob3JOYW1lIjoi5bCP6aWt57KSXzEwMDA3ODc4IiwiaWQiOiIxMjkxNTIwNjkzMDYzNjgxNiIsIm5hbWUiOiLmu6HmsYnlhajluK0iLCJudW1iZXIiOjEsInBpY3R1cmUiOiJodHRwczovL3BpYy5pbWlmYW4ubGl2ZS9naWZ0cy9tYW5jaHUvMjAxOTEwMTgxOTMwMTgxMzAzMTQ1MjYyMDY3NzE0My5wbmciLCJzaG93R2lmdCI6dHJ1ZSwidG90YWxGZWUiOjIwMDAwMH0sInBUeXBlIjowLCJwaWQiOiIxMDAwNzg3OCIsInNpZ24iOiJCNTc1QTBEQTc4RjhBQjZBMEEyMEQ0RDE1NDZDODI3OSIsInVzZXIiOnsiYXZhdGFyIjoiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvYXZhdGFyLzIwMjAwMTE2MTIyODMzMTQwNTQ1MzQ5MDIzOTkwMzMuanBnIiwiaWQiOiI2NzgyMzU1IiwibmFtZSI6ImZyZWQifX0sIl9sY3RleHQiOiIxMjkxNTIwNjkzMDYzNjgxNiIsIl9sY3R5cGUiOjJ9KQogICAgLy8gdGhpcy5tZXNzYWdlSXRlbSA9IHsKICAgIC8vICAgIl9sY2F0dHJzIjogewogICAgLy8gICAgICJwVHlwZSI6IDEsCiAgICAvLyAgICAgInJ3IjogewogICAgLy8gICAgICAgImFuY2hvcklkIjogIjYxNDQ0NDQiLAogICAgLy8gICAgICAgImFuY2hvck5hbWUiOiAi5LiN5py95bCR5bm05qKmIiwKICAgIC8vICAgICAgICJkdXJhdGlvbiI6IDEwMDAwLAogICAgLy8gICAgICAgImlzSnVtcCI6IDEsCiAgICAvLyAgICAgICAibGV2ZWwiOiAwLAogICAgLy8gICAgICAgIm5hbWUiOiAi57OW5p6c5bqE5ZutIiwKICAgIC8vICAgICAgICJudW1iZXIiOiAyLAogICAgLy8gICAgICAgInBpY3R1cmUiOiAiaHR0cHM6Ly9waWMuaW1pZmFuLmxpdmUvZ2lmdHMvZnJ1aXRDYXN0bGUvMjAxOTEwMTgxOTQxMDMxMzAzMTQ1MjYyMDY3NzE1MS5wbmciLAogICAgLy8gICAgICAgInRpbWVzIjogMywKICAgIC8vICAgICAgICJ0eXBlIjogMQogICAgLy8gICAgIH0sCiAgICAvLyAgICAgInNpZ24iOiAiNjRDM0EzRTI3QjVEQjZEQUZFMUYzQzQ2QjZEOUZFQUUiLAogICAgLy8gICAgICJ1c2VyIjogewogICAgLy8gICAgICAgImF2YXRhciI6ICJodHRwczovL3BpYy5pbWlmYW4ubGl2ZS9hdmF0YXIvMjAxOTEwMzExOTQ1NTExMzE4MzA1Nzg1MDE2MzIwOS5wbmciLAogICAgLy8gICAgICAgImlkIjogIjM0ODYwNzQiLAogICAgLy8gICAgICAgIm5hbWUiOiAi5pmo5pum5ZC75pyIIgogICAgLy8gICAgIH0KICAgIC8vICAgfSwgIl9sY3RleHQiOiAi5pmo5pum5ZC75pyI6LWg6YCB57uZ5Li75pKt5LiN5py95bCR5bm05qKmIDIg5LiqIOezluaenOW6hOWbre+8geW/q+adpeWbtOinguWQpyEiLCAiX2xjdHlwZSI6IDQKICAgIC8vIH0KICAgIC8vICAgaSsrCiAgICAvLwogICAgLy8gICBjb25zb2xlLmxvZygnc2V0VGltZW91dCcpOwogICAgLy8KICAgIC8vIH0sIDEwMDApCgogICAgLy8g5bCB56aB5rWL6K+VCiAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgdGhpcy51c2VySW5mbz0gewogICAgLy8gICAgIGNoYW5uZWxSb2xlVHlwZTogMiwKICAgIC8vICAgICBmb2xsb3c6IGZhbHNlLAogICAgLy8gICAgIGZvcmJpZDogdHJ1ZSwKICAgIC8vICAgICBmb3JiaWRFbmRUaW1lOiAxNTc3OTYzNTg3MTM5CiAgICAvLyAgIH07CiAgICAvLyB9LDMwMDApCgogICAgLy8g57qi5YyFIOa1i+ivlQogICAgLy8gdGhpcy5ob25nYmFvTGlzdC5wdXNoKHsiX2xjYXR0cnMiOnsicFR5cGUiOjAsInNpZ24iOiIzN0Q5MTA5RTMwNTcwNTM3NUEyOTYwQkVCMzAwMDIyMiIsImxjdWlkIjoiQ0hBVF9VU0VSXzM1MDYzMjkiLCJwaWQiOiIxMDAwMDE1NyIsInJwIjp7InRpbWUiOjUwMDAsImlkIjoiMzUwNjMyOSJ9fSwiX2xjdHlwZSI6MywiX2xjdGV4dCI6IuS4u+aSreaXqSJ9KQogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIHRoaXMuRGFubWFrdUluaXQoKTsKICAgIH0pOwogIH0sCiAgZGVzdHJveWVkKCkgewogICAgLy8g56e76Zmk5by55bmV5ZKMcmVzaXpl55uR5ZCsCiAgICB0aGlzLmRhbm1ha3UuZGVzdHJveSgpOwogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMuZGFubWFrdVJlc2l6ZSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRGb2xkU3RhdGUoKSB7CiAgICAgIC8vIGxldCBsZWZ0Rm9sZFN0YXRlID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImxlZnRGb2xkU3RhdGUiKTsKICAgICAgLy8gdGhpcy5pc0ZvbGQgPQogICAgICAvLyAgIGxlZnRGb2xkU3RhdGUgPT09IG51bGwgfHwgbGVmdEZvbGRTdGF0ZSA9PT0gImZhbHNlIiA/IGZhbHNlIDogdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnMucmVjb21tZW5kLmluaXQoKTsKICAgICAgfSk7CiAgICB9LAogICAgRGFubWFrdUluaXQoKSB7CiAgICAgIHRoaXMuZGFubWFrdSA9IG5ldyBEYW5tYWt1KHsKICAgICAgICAvLyDnlKjkuo7mmL7npLrlvLnluZXnmoTjgIzoiJ7lj7DjgI3kvJrooqvmt7vliqDliLDor6XlrrnlmajkuK0KICAgICAgICBjb250YWluZXI6IHRoaXMuJHJlZnMuZGFubWFrdSwKICAgICAgICAvLyBjb250YWluZXI6IHRoaXMuJHJlZnMuZFBsYXllciwKICAgICAgICAvLyBjb250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkYW5tYWt1JyksCiAgICAgICAgLy8gY29udGFpbmVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW8tcGxheWVyJyksCiAgICAgICAgLy8gdmlkZW86IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcGxheWVyLXZpZGVvJyksCgogICAgICAgIC8vIOW8ueW5leaVsOaNruaVsOe7hO+8jOWcqCBlbWl0IEFQSSDkuK3kvJror7TmmI7lhbbmoLzlvI8KICAgICAgICBjb21tZW50czogW10sCgogICAgICAgIC8vIOaUr+aMgSBET00g5byV5pOO5ZKMIGNhbnZhcyDlvJXmk47jgIJjYW52YXMg5byV5pOO5LiA6Iis5q+UIERPTSDmm7Tpq5jmlYjvvIzkvYbnm7jlr7nmm7TogJflhoXlrZjjgIIKICAgICAgICAvLyDpu5jorqTkuLogRE9NIOW8leaTjgogICAgICAgIC8vIGVuZ2luZTogJ2NhbnZhcycsCgogICAgICAgIC8vIOW8ueW5lemAn+W6pu+8jOS5n+WPr+S7peeUqCBzcGVlZCBBUEkg6K6+572uCiAgICAgICAgc3BlZWQ6IDEwNQogICAgICB9KTsKCiAgICAgIC8vIHNldEludGVydmFsKCgpID0+IHsKICAgICAgLy8gICB0aGlzLmRhbm1ha3UuZW1pdChjb21tZW50KTsKICAgICAgLy8gfSwyMDApCiAgICAgIHRoaXMuZGFubWFrdVJlc2l6ZSgpOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5kYW5tYWt1UmVzaXplKTsKICAgIH0sCiAgICBkYW5tYWt1UmVzaXplOiBkZWJvdW5jZSgKICAgICAgZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGFubWFrdSk7CiAgICAgICAgdGhpcy5kYW5tYWt1LnJlc2l6ZSgpOwogICAgICB9LAogICAgICAyMDAsCiAgICAgIGZhbHNlCiAgICApLAogICAgLyoqCiAgICAgKiDpo5jnqpflvLnluZXoh6rlt7HnmoR0eXBlIOWvueW6lOS4ieenjeWtl+S9kwogICAgICog5bGV56S655qE5raI5oGv57G75Z6L77yaCiAgICAgKiAtMeeUqOaIt+WPkemAgeeahOa2iOaBr+OAgSAjZmZmZmZmCiAgICAgKiAx5qyi6L+O5raI5oGv44CB5YWz5rOo5raI5oGv44CBI0ZGQzk1NQogICAgICogMuaKoue6ouWMhea2iOaBryAjRkY3RjY0CiAgICAgKiBAcGFyYW0gbWVzc2FnZQogICAgICogQHBhcmFtIHR5cGUKICAgICAqLwogICAgc2VuZERhbm1ha3UobWVzc2FnZSwgdHlwZSkgewogICAgICBsZXQgY29sb3JNYXAgPSB7CiAgICAgICAgIi0xIjogIiNmZmZmZmYiLAogICAgICAgIDE6ICIjRkZDOTU1IiwKICAgICAgICAyOiAiI0ZGN0Y2NCIKICAgICAgfTsKICAgICAgbGV0IGNvbW1lbnQgPSB7CiAgICAgICAgdGV4dDogbWVzc2FnZSwKCiAgICAgICAgLy8g6buY6K6k5Li6IHJ0bO+8iOS7juWPs+WIsOW3pu+8ie+8jOaUr+aMgSBsdHLjgIFydGzjgIF0b3DjgIFib3R0b23jgIIKICAgICAgICBtb2RlOiAicnRsIiwKCiAgICAgICAgLy8g5Zyo5L2/55SoIERPTSDlvJXmk47ml7bvvIxEYW5tYWt1IOS8muS4uuavj+S4gOadoeW8ueW5leWIm+W7uuS4gOS4qiA8ZGl2PiDoioLngrnvvIwKICAgICAgICAvLyDku6XkuIsgQ1NTIOagt+W8j+S8muebtOaOpeiuvue9ruWIsCBkaXYuc3R5bGUg5LiKCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIC8vIHRvcDogJzMwcHgnLAogICAgICAgICAgekluZGV4OiAxMCwKICAgICAgICAgIGZvbnRTaXplOiAiMjRweCIsCiAgICAgICAgICBmb250V2VpZ2h0OiAiNzAwIiwKICAgICAgICAgIG9wYWNpdHk6ICIwLjg0IiwKICAgICAgICAgIGxpbmVIZWlnaHQ6ICIzM3B4IiwKICAgICAgICAgIGNvbG9yOiBjb2xvck1hcFt0eXBlXSwKICAgICAgICAgIHBhZGRpbmc6ICI0cHggMCIsCiAgICAgICAgICB0ZXh0U2hhZG93OiAiMXB4IDBweCAxcHggcmdiYSgzNCwzNCwzNCwxKSIKICAgICAgICB9CgogICAgICAgIC8vIOiHquWumuS5iea4suafk+WZqAogICAgICAgIC8vIOW9kyBgcmVuZGVyYCDlrZfmrrXlrZjlnKjml7YsIGB0ZXh0YCwgYGh0bWxgLCBgc3R5bGVgIOWSjCBgY2FudmFzU3R5bGVgIOWwhuiiq+W/veeVpeOAggoKICAgICAgICAvLyDlnKjkvb/nlKggRE9NIOW8leaTjuaXtu+8jOivpeWHveaVsOW6lOW9k+i/lOWbnuS4gOS4qiBIVE1MRWxlbWVudOOAggogICAgICAgIC8vIHJlbmRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gdmFyICRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAvLyB2YXIgJGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpOwogICAgICAgIC8vICRpbWcuc3JjID0gJy9wYXRoL3RvL3h4eC5wbmcnOwogICAgICAgIC8vICRkaXYuYXBwZW5kQ2hpbGQoJGltZyk7CiAgICAgICAgLy8gcmV0dXJuICRkaXY7CiAgICAgICAgLy8gfSwKICAgICAgICAvLyDlnKjkvb/nlKggY2FudmFzIOW8leaTjuaXtu+8jOivpeWHveaVsOW6lOW9k+i/lOWbnuS4gOS4qiBIVE1MQ2FudmFzRWxlbWVudOOAggogICAgICAgIC8vIHJlbmRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgLy8gICBjYW52YXMud2lkdGggPSAzMjA7CiAgICAgICAgLy8gICBjYW52YXMuaGVpZ2h0ID0gMTgwOwogICAgICAgIC8vICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIC8vICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIC8vICAgY3R4LmFyYyg3NSwgNzUsIDUwLCAwLCAyICogTWF0aC5QSSk7CiAgICAgICAgLy8gICBjdHguc3Ryb2tlKCk7CiAgICAgICAgLy8gICByZXR1cm4gY2FudmFzOwogICAgICAgIC8vIH0KICAgICAgfTsKICAgICAgdGhpcy5kYW5tYWt1LmVtaXQoY29tbWVudCk7CiAgICB9LAogICAgaW5pdCgpIHsKICAgICAgLy8g5bem5L6n6L655qCP5b2T5YmN54q25oCBCiAgICAgIC8vIHRoaXMuZ2V0Rm9sZFN0YXRlKCk7CgogICAgICB0aGlzLmxpdmVyb29tID0gdGhpcy4kcm91dGUucGFyYW1zLmxpdmVyb29tOwoKICAgICAgdGhpcy5nZXRDaGFubmVsSW5mbygpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuY29ubmV0Q29udmVyc2F0aW9uKCk7CiAgICAgICAgdGhpcy5nZXRyZWNvbW1lbmRMaXZlTGlzdCgpOwogICAgICB9KTsKICAgICAgdGhpcy5nZXRHaWZ0TGlzdCgpOwogICAgICAvLyB0aGlzLmdldFJhbmtpbmcoKTsKICAgICAgdGhpcy5nZXRsb2dpbkluZm8oKTsKICAgICAgdGhpcy5lbnRlclJvb20oKTsKICAgIH0sCiAgICBzZW5kR2lmdFN1Y2Nlc3MoZGF0YSkgewogICAgICB0aGlzLiRzZXQodGhpcy51c2VyTG9naW4sJ2NyZWRpdCcsIGRhdGEuY3JlZGl0KTsKICAgIH0sCiAgICAvLyDojrflj5bnm7Tmkq3pl7Tkv6Hmga8KICAgIGdldGxvZ2luSW5mbygpIHsKICAgICAgaWYgKCF0aGlzLmlzTG9naW4pIHJldHVybjsKICAgICAgcmV0dXJuIGxvZ2luSW5mbygpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnVzZXJMb2dpbiA9IHJlcy5kYXRhOwogICAgICAgIC8vIHRoaXMudXNlclN0YXR1cy51c2VySW5mby5iYWxhbmNlID0gcmVzLmRhdGEuYWNjb3VudER0by5taUNvaW4uYmFsYW5jZQogICAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGlzLnVzZXJTdGF0dXMudXNlckluZm8uYmFsYW5jZScsdGhpcy51c2VyU3RhdHVzLnVzZXJJbmZvLmJhbGFuY2UpCiAgICAgICAgY29uc29sZS5sb2coJ+ebtOaSremXtC3kuKrkurrkv6Hmga8nLHJlcyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOW9k+WJjeeUqOaIt+i/m+WFpeebtOaSremXtOeahOS/oeaBrwogICAgZW50ZXJSb29tKCkgewogICAgICAvLyBpZiAoIXRoaXMuaXNMb2dpbikgcmV0dXJuOwogICAgICByZXR1cm4gZW50ZXJSb29tKHsgY2lkOiB0aGlzLmxpdmVyb29tIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnVzZXJJbmZvID0gcmVzLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W55u05pKt6Ze05L+h5oGvCiAgICBnZXRDaGFubmVsSW5mbygpIHsKICAgICAgcmV0dXJuIGNoYW5uZWxJbmZvKHsgY2lkOiB0aGlzLmxpdmVyb29tIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmNoYW5uZWxJbmZvID0gcmVzLmRhdGE7CiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aGlzLmNoYW5uZWxJbmZvLm5hbWU7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5o6o6I2Q5YiX6KGoCiAgICBnZXRyZWNvbW1lbmRMaXZlTGlzdCgpIHsKICAgICAgcmV0dXJuIHJlY29tbWVuZExpdmVMaXN0KAogICAgICAgIHsKICAgICAgICAgIHJlY29tbWVuZEFuY2hvclR5cGU6ICJTRUFSQ0hfUEFHRSIKICAgICAgICAgIC8vIHNpemU6IDEwLAogICAgICAgIH0sCiAgICAgICAge30KICAgICAgKS50aGVuKHJlcyA9PiB7CiAgICAgICAgLy8g5pyq5byA5pKtCiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbEluZm8ucGxheVN0YXR1c0NvZGUgPT0gOTA1KSB7CiAgICAgICAgICB0aGlzLnJlY29tbWVuZFZpZGVvMiA9IHJlcy5kYXRhLnNsaWNlKDAsIDIpOwogICAgICAgICAgdGhpcy5yZWNvbW1lbmRMaXN0ID0gcmVzLmRhdGEuc2xpY2UoMik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucmVjb21tZW5kTGlzdCA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDnpLznianliJfooagKICAgIGdldEdpZnRMaXN0KCkgewogICAgICByZXR1cm4gZ2V0R2lmdExpc3QoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5naWZ0TGlzdCA9IHJlcy5kYXRhOwogICAgICAgIC8vIHRoaXMuZ2lmdExpc3QgPSBbcmVzLmRhdGFbMF0scmVzLmRhdGFbMF0scmVzLmRhdGFbMF0scmVzLmRhdGFbMF0scmVzLmRhdGFbMF0scmVzLmRhdGFbMF0scmVzLmRhdGFbMF0scmVzLmRhdGFbMF1dOwoKICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgdGhpcy4kc2V0KHRoaXMuZ2lmdExpc3RUb09iamVjdCwgaXRlbS5pZCwgaXRlbSk7CiAgICAgICAgfSk7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5qac5Y2VCiAgICBnZXRSYW5raW5nKCkgewogICAgICByZXR1cm4gcXVlcnlSb29tUmFua2luZyh7IGFuY2hvcklkOiB0aGlzLmxpdmVyb29tLCB0eXBlOiAwIH0pLnRoZW4oCiAgICAgICAgcmVzID0+IHsKICAgICAgICAgIHRoaXMucmFua09iamVjdCA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgICAvLyDoioLmtYHlpITnkIYg5pu05paw5qac5Y2VCiAgICBnZXRSYW5rOiBkZWJvdW5jZSgKICAgICAgZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuZ2V0UmFua2luZygpOwogICAgICB9LAogICAgICAxMDAwLAogICAgICBmYWxzZQogICAgKSwKICAgIC8vIOW8ueW5leWIneWni+WMlgogICAgY29ubmV0Q29udmVyc2F0aW9uKCkgewogICAgICBjb25zb2xlLmxvZygn6ZO+5o6l6IGK5aSp5a6kLeeUqOaIt+S/oeaBrycsdGhpcy51c2VyU3RhdHVzKQogICAgICBsZXQgY2xpZW50SWQgPSAnQ0hBVF9WSVNJVE9SXycgKyB1dWlkdjQoKQogICAgICBpZih0aGlzLmlzTG9naW4pewogICAgICAgIGNsaWVudElkID0gJ0NIQVRfVVNFUl8nICsgdGhpcy51c2VyU3RhdHVzLnVzZXJJbmZvLnVpZAogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKCfpk77mjqXogYrlpKnlrqRjbGllbnRJZCcsY2xpZW50SWQpCiAgICAgIENoYXQuZ2V0Q2hhdFJvb20oY2xpZW50SWQsIHRoaXMuY2hhbm5lbEluZm8uY2hhdFJvb21zWzBdKS50aGVuKCAgLy8gdGVzdC0t5Yqg5YWl562+5ZCNCiAgICAgICAgY29udmVyc2F0aW9uID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGNvbnZlcnNhdGlvbiwgImNvbnZlcnNhdGlvbiIpOwogICAgICAgICAgdGhpcy5tc2dMaXN0LnB1c2goewogICAgICAgICAgICBfbGN0eXBlOiAxLAogICAgICAgICAgICAvLyBfbGN0ZXh0OiBg5qyi6L+O5p2l5Yiw56eY6aWt55u05pKtJHsgdGhpcy5jaGFubmVsSW5mby51bmFtZSB955qE55u05pKt6Ze077yM55uR5pKt5Lq65ZGY5bCG5a+555u05pKt6Ze06L+b6KGMMjTlsI/ml7blt6Hmn6XvvIznpoHmraLkvKDmkq3ku7vkvZXov53ms5XjgIHov53op4TjgIHkvY7kv5fjgIHmmrTlipvnrYnkuI3oia/kv6Hmga/nmoTooYzkuLrjgIJgCiAgICAgICAgICAgIF9sY3RleHQ6IGDniLHnkIPnpoHmraLmnKrmiJDlubTkurrpgIHnpLznrYnku5jotLnooYzkuLrjgIHkuKXnpoHkuLvmkq3or7Hlr7zmnKrmiJDlubTkurrmtojotLnjgILlpoLnm7Tmkq3pl7Tlh7rnjrDov53ms5Xov53op4TjgIHoibLmg4XkvY7kv5fjgIHotYzljZrjgIHor7Hlr7zmrLror4jnrYnooYzkuLrvvIzor7flj4rml7bkuL7miqXjgILnrqHnkIblkZgyNOWwj+aXtuWcqOe6v+W3oeafpeW5tuaOpeWPl+S4vuaKpeOAgmAKICAgICAgICAgIH0pOwogICAgICAgICAgLy8gdGhpcy5zZW5kRGFubWFrdShg5qyi6L+O5p2l5Yiw56eY6aWt55u05pKtJHsgdGhpcy5jaGFubmVsSW5mby51bmFtZSB955qE55u05pKt6Ze077yM55u05pKt6Ze05L6d5rOV5a+555u05pKt5YaF5a656L+b6KGMMjTlsI/ml7blt6Hmn6XvvIznpoHmraLku7vkvZXkvKDmkq3ov53nq6DjgIHov53op4TjgIHkvY7kv5fjgIHmmrTlipvnrYnkuI3oia/kv6Hmga/nmoTooYzkuLrjgIJgLCAxKQogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy8g5q2j5bi45Lqk5LqSCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbi5vbihldmVudC5NRVNTQUdFLCBtZXNzYWdlID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXZlbnQuTUVTU0FHRScsZXZlbnQuTUVTU0FHRSkKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbWVzc2FnZScsbWVzc2FnZSkKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbWVzc2FnZS5jb250ZW50JyxtZXNzYWdlLmNvbnRlbnQpCiAgICAgICAgICAgICAgY29uc29sZS5sb2coCiAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQsCiAgICAgICAgICAgICAgICAiY29udGVudGNvbnRlbnRjb250ZW50Y29udGVudGNvbnRlbnQiCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygKICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudC5fbGN0ZXh0LAogICAgICAgICAgICAgICAgIm1lc3NhZ2VtZXNzYWdlbWVzc2FnZW1lc3NhZ2VtZXNzYWdlIgogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgdGhpcy5hc3NpZ25lZE1lc3NhZ2UobWVzc2FnZS5jb250ZW50KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIC8vIOW8ueWHuuaPkOekuu+8jOWRiuefpeW9k+WJjeeUqOaIt+eahCBjbGllbnRJZCDlnKjlhbbku5borr7lpIfkuIrnmbvlvZXkuoYKICAgICAgICAgICAgY29udmVyc2F0aW9uLm9uKGV2ZW50LkNPTkZMSUNULCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgLy8gVE9ETyDkupLouKLllaYKICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5LqS6Lii5ZWmIik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLlvLnluZXmnI3liqHlmajliqDovb3lpLHotKUiKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgLy8g5YiG6YWN5by55bmV6L+U5Zue5pWw5o2uCiAgICBhc3NpZ25lZE1lc3NhZ2UobWVzc2FnZSkgewogICAgICBsZXQgdGV4dCA9IG1lc3NhZ2UuX2xjdGV4dDsKICAgICAgbGV0IHR5cGUgPSBtZXNzYWdlLl9sY3R5cGU7CiAgICAgIGxldCBtZDVTdHJpbmcgPSBtZDVTZWNyZXQodGV4dCk7CiAgICAgIGxldCBzaWduID0gbWVzc2FnZS5fbGNhdHRycy5zaWduOwogICAgICAvKioKICAgICAgICog5Zug5Li65Yqg5a+G55qE5a2X56ym5Liy5ZCr5pyJbGVhbkNsb3Vk55qE5bGP6JS96K+NLCDkvJrooqvovazljJbkuLoqLCDmiYDku6XlkITkuKrlrqLmiLfnq6/pnIDopoHlop7liqDku6XkuIvpgLvovpEKICAgICAgICog56ys5LiA5q2lOiDliKTmlq3lrZfnrKbkuLLkuK3mmK/lkKbljIXlkKsqOiDkuI3ljIXlkKvnm7TmjqXlr7nmr5QKICAgICAgICog56ys5LqM5q2lOiDlpoLmnpzljIXlkKsqLCDliJnliKTmlq0q5piv5ZCm5Li656ys5LiA5LiqLCDlpoLmnpzmmK/nrKzkuIDkuKrliJnkuI3ov5vooYzlr7nmr5Qs55u05o6l5bGV56S6CiAgICAgICAqIOesrOS4ieatpTog5aaC5p6c5LiN5piv56ys5LiA5Liq5YiZ5YiH5Ymy5a2X56ym5LiyLCDojrflj5Yq5YmN6Z2i55qE6YOo5YiGLCDnhLblkI7lkozmnKzlnLDmiKrlj5bnm7jlkIzplb/luqbnhLblkI7lnKjov5vooYzlr7nmr5QKICAgICAgICovCiAgICAgIGlmIChzaWduLmluZGV4T2YoIioiKSA+IC0xKSB7CiAgICAgICAgc2lnbiA9IHNpZ24uc3BsaXQoIioiKVswXTsKICAgICAgICBtZDVTdHJpbmcgPSBtZDVTdHJpbmcuc2xpY2UoMCwgc2lnbi5sZW5ndGgpOwoKICAgICAgICBjb25zb2xlLmxvZyhzaWduLCAic2lnbiIpOwogICAgICAgIGNvbnNvbGUubG9nKG1kNVN0cmluZywgIm1kNXN0cmluZyIpOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKG1kNVN0cmluZyA9PT0gc2lnbiwgJ21kNVN0cmluZyA9PT0gc2lnbicpOwogICAgICBpZiAobWQ1U3RyaW5nID09PSBzaWduICYmIG1kNVN0cmluZyAhPT0gImZhbHNlIikgewogICAgICAgIGNvbnNvbGUubG9nKCJyZWNlaXZlIG1lc3NhZ2U6IiArIHRleHQpOwogICAgICAgIC8vIOW8ueW5leaWh+ahiAogICAgICAgIGlmICh0eXBlID09PSAtMSB8fCB0eXBlID09PSAxIHx8IHR5cGUgPT09IDIgfHwgdHlwZSA9PT0gNSkgewogICAgICAgICAgdGhpcy5tc2dMaXN0LnB1c2goSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtZXNzYWdlKSkpOwogICAgICAgIH0KICAgICAgICAvLyDpo5jnqpflvLnluZUKICAgICAgICBpZiAodHlwZSA9PT0gLTEpIHsKICAgICAgICAgIHRoaXMuc2VuZERhbm1ha3UodGV4dCwgIi0xIik7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAxKSB7CiAgICAgICAgICB0aGlzLnNlbmREYW5tYWt1KHRleHQsIG1lc3NhZ2UuX2xjYXR0cnMuc20gPT09IDAgPyAyIDogMSk7CiAgICAgICAgfQogICAgICAgIC8vIOemgeiogCDliKTmlq3nmoTmmK/kuI3mmK/lvZPliY3nmbvpmYbnlKjmiLcKICAgICAgICBpZiAodHlwZSA9PT0gNSAmJiBtZXNzYWdlLl9sY2F0dHJzLmZiLnVpZCA9PT0gdGhpcy51c2VyTG9naW4uaWQpIHsKICAgICAgICAgIHRoaXMuZW50ZXJSb29tKCk7CiAgICAgICAgfQogICAgICAgIC8vIOiuvue9ruaIv+euoSDliKTmlq3nmoTmmK/kuI3mmK/lvZPliY3nmbvpmYbnlKjmiLcKICAgICAgICBpZiAodHlwZSA9PT0gNiAmJiBtZXNzYWdlLl9sY2F0dHJzLm1hbmFnZXIuaWQgPT09IHRoaXMudXNlckxvZ2luLmlkKSB7CiAgICAgICAgICB0aGlzLmVudGVyUm9vbSgpOwogICAgICAgIH0KICAgICAgICAvLyDnpLzniakKICAgICAgICBpZiAodHlwZSA9PT0gMikgewogICAgICAgICAgdGhpcy5naWZ0SXRlbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobWVzc2FnZS5fbGNhdHRycykpOwogICAgICAgICAgLy8gdGhpcy5nZXRSYW5rKCk7CiAgICAgICAgfQogICAgICAgIC8vIOe6ouWMhQogICAgICAgIGlmICh0eXBlID09PSAzKSB7CiAgICAgICAgICB0aGlzLmhvbmdiYW9MaXN0LnB1c2goSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtZXNzYWdlKSkpOwogICAgICAgIH0KICAgICAgICAvLyDot5HpgZMKICAgICAgICBpZiAodHlwZSA9PT0gNCkgewogICAgICAgICAgdGhpcy5tZXNzYWdlSXRlbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOWPkemAgea2iOaBrwogICAgc2VuZE1zZyhtc2cpIHsKICAgICAgY29uc29sZS5sb2cobXNnLCAic2VuZE1zZyIpOwogICAgICBsZXQgc2lnbiA9IG1kNVNlY3JldChtc2cpOwogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIHVzZXI6IHsKICAgICAgICAgIGlkOiB0aGlzLnVzZXJMb2dpbi5pZCwKICAgICAgICAgIG5hbWU6IHRoaXMudXNlckxvZ2luLnVuYW1lLAogICAgICAgICAgcm9sZTogdGhpcy51c2VySW5mby5jaGFubmVsUm9sZVR5cGUsCiAgICAgICAgICBhdmF0YXI6IHRoaXMudXNlckxvZ2luLmF2YXRhclVybAogICAgICAgIH0sCiAgICAgICAgcFR5cGU6IDAsCiAgICAgICAgcGlkOiB0aGlzLmxpdmVyb29tLAogICAgICAgIGxjdWlkOiBgQ0hBVF9VU0VSXyR7IHRoaXMudXNlckxvZ2luLmlkIH1gLAogICAgICAgIHNpZ24KICAgICAgfTsKICAgICAgQ2hhdC5zZW5kTXNnKG1zZywgcGFyYW1zKS50aGVuKCgpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygic3VjY2VzcyIpOwogICAgICAgIHRoaXMubXNnTGlzdC5wdXNoKHsKICAgICAgICAgIF9sY2F0dHJzOiB7CiAgICAgICAgICAgIHVzZXI6IHsKICAgICAgICAgICAgICByb2xlOiB0aGlzLnVzZXJJbmZvLmNoYW5uZWxSb2xlVHlwZSwKICAgICAgICAgICAgICBuYW1lOiB0aGlzLnVzZXJMb2dpbi51bmFtZSwKICAgICAgICAgICAgICBpZDogdGhpcy51c2VyTG9naW4uaWQsCiAgICAgICAgICAgICAgYXZhdGFyOiB0aGlzLnVzZXJMb2dpbi5hdmF0YXJVcmwKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIF9sY3R5cGU6IC0xLAogICAgICAgICAgX2xjdGV4dDogbXNnCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5zZW5kRGFubWFrdShtc2csICItMSIpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dpbigpIHsKICAgICAgLy8g5bGV56S655m76ZmG5by556qXCiAgICAgIHRoaXMuJHJlZnMubG9naW4ub3BlbkxvZ2luRGlhbG9nKCk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Liveroom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Liveroom.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <section>\r\n    <loginPop ref=\"login\" @successLogin=\"init\"></loginPop>\r\n    <div\r\n      :class=\"[{ fold: isFold }, 'main-header']\"\r\n    >\r\n      <homeNav  :navLogo=\"true\"></homeNav>\r\n<!--      <homeNav :navLogo=\"false\"></homeNav>-->\r\n    </div>\r\n    <div class=\"liveroom\" :class=\"[{ fold: isFold }, 'main-container']\">\r\n      <LeftSideBar @changeFoldState=\"getFoldState\"></LeftSideBar>\r\n      <div class=\"main-wrap\">\r\n        <LiveroomHeader\r\n          :channelInfo=\"channelInfo\"\r\n          v-bind:follow.sync=\"userInfo.follow\"\r\n          @login=\"login\"\r\n          @updateChannelInfo=\"getChannelInfo\"\r\n        ></LiveroomHeader>\r\n\r\n        <div class=\"empty\" ref=\"danmaku\" id=\"danmaku\">\r\n          <videoPlayer\r\n            ref=\"dPlayer\"\r\n            :roomId=\"liveroom\"\r\n            :notLivingSuggest=\"recommendVideo2\"\r\n          ></videoPlayer>\r\n<!--          <LiveroomPaodao :messageItem=\"messageItem\"></LiveroomPaodao>-->\r\n        </div>\r\n        <LiveroomGift\r\n          :userLogin=\"userLogin\"\r\n          :channelInfo=\"channelInfo\"\r\n          :giftList=\"giftList\"\r\n          @sendGiftSuccess=\"sendGiftSuccess\"\r\n          @login=\"login\"\r\n        ></LiveroomGift>\r\n        <LiveroomRecommend\r\n          ref=\"recommend\"\r\n          :recommendList=\"recommendList\"\r\n        ></LiveroomRecommend>\r\n      </div>\r\n      <div class=\"chat-wrap\">\r\n        <liveroomNotice :msg=\"channelInfo.notice\"></liveroomNotice>\r\n<!--        <liveroomRank :rankObject=\"rankObject\"></liveroomRank>-->\r\n        <liveroomChat\r\n          :giftListToObject=\"giftListToObject\"\r\n          :hongbaoList=\"hongbaoList\"\r\n          :userLogin=\"userLogin\"\r\n          :msgList=\"msgList\"\r\n          :giftItem=\"giftItem\"\r\n          :userInfo=\"userInfo\"\r\n          @login=\"login\"\r\n          @hongBaoSuccess=\"getloginInfo\"\r\n        ></liveroomChat>\r\n        <liveroomInput\r\n          :userInfo=\"userInfo\"\r\n          @sendMsg=\"sendMsg\"\r\n          @login=\"login\"\r\n        ></liveroomInput>\r\n        <LiveroomLoginDialog @login=\"login\"></LiveroomLoginDialog>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\n  import LiveroomHeader from \"@/components/liveroom/LiveroomHeader\";\r\n  import LiveroomGift from \"@/components/liveroom/LiveroomGift\";\r\n  import liveroomNotice from \"@/components/liveroom/LiveroomNotice\";\r\n  // import liveroomRank from \"@/components/liveroom/LiveroomRank\";\r\n  import liveroomInput from \"@/components/liveroom/LiveroomInput\";\r\n  import liveroomChat from \"@/components/liveroom/LiveroomChat\";\r\n  // import LiveroomPaodao from \"@/components/liveroom/LiveroomPaodao\";\r\n  import LiveroomLoginDialog from \"@/components/liveroom/LiveroomLoginDialog\";\r\n  import LiveroomRecommend from \"@/components/liveroom/LiveroomRecommend\";\r\n\r\n  import LeftSideBar from \"@/components/left-side-bar.vue\";\r\n  import homeNav from \"@/views/home/homeNav.vue\";\r\n  import loginPop from \"@/components/login/loginTipPopup.vue\";\r\n  import videoPlayer from \"@/components/video/videoPlayer.vue\";\r\n\r\n  import { md5Secret } from \"@/utils/md5.js\";\r\n  import * as Chat from \"@/utils/chat.js\";\r\n  import { event } from \"@/utils/leancloud.js\";\r\n  import {\r\n    queryRoomRanking,\r\n    channelInfo,\r\n    enterRoom,\r\n    getGiftList,\r\n    loginInfo\r\n  } from \"@/api/liveroom\";\r\n  import { recommendLiveList } from \"@/api/api\";\r\n\r\n  import { debounce } from \"@/utils/debounceAndthrottle\";\r\n  // import Cookies from 'js-cookie';\r\n  import Danmaku from \"danmaku\";\r\n  import { v4 as uuidv4 } from 'uuid';\r\n\r\n  export default {\r\n    name: \"LiveRoom\",\r\n    components: {\r\n      LiveroomHeader,\r\n      LiveroomGift,\r\n      liveroomChat,\r\n      // LiveroomPaodao,\r\n      liveroomNotice,\r\n      // liveroomRank,\r\n      LiveroomLoginDialog,\r\n      liveroomInput,\r\n      LiveroomRecommend,\r\n      LeftSideBar,\r\n      homeNav,\r\n      loginPop,\r\n      videoPlayer\r\n    },\r\n    data() {\r\n      return {\r\n        isFold: true,\r\n        userLogin: {\r\n          // \"id\": \"6806129\",\r\n          // \"token\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4LXp5LXVzZXItaWQiOiI2ODA2MTI5IiwiaXNzIjoiemhhbmd5dSIsImV4cCI6MTU3OTUxOTY0MiwiaWF0IjoxNTc4MzEwMDQyfQ.VU2NbKftvSJTRe1tTcXtRoWW4UnGg36gGGbHq3KgSBfhDLNjptkLsYPNyhsU_lpaZJ97Hq4LnA8Q8ThgPmAtnQ\",\r\n          // \"mobile\": \"184****6272\",\r\n          // \"uname\": \"足球精英\",\r\n          // \"status\": 0,\r\n          // \"avatarUrl\": \"https://pic.imifan.live/avatar/2019121013081813608091574583384.jpg\",\r\n          // \"accountDto\": {\r\n          //   \"_id\": \"13183057850163215\",\r\n          //   \"uid\": \"6806129\",\r\n          //   \"cashAccount\": {\r\n          //     \"totalBalance\": 9011,\r\n          //     \"balance\": 9011,\r\n          //     \"frzBalance\": 0,\r\n          //     \"totalRecharge\": 12000,\r\n          //     \"totalWithdrawal\": 10000\r\n          //   },\r\n          //   \"salaryAccount\": {\r\n          //     \"totalBalance\": 6000,\r\n          //     \"balance\": 5000,\r\n          //     \"frzBalance\": 1000,\r\n          //     \"totalRecharge\": 0,\r\n          //     \"totalWithdrawal\": 0\r\n          //   },\r\n          //   \"cashAssets\": 8011,\r\n          //   \"miCoin\": {\r\n          //     \"balance\": 379898800,\r\n          //     \"totalExpend\": 1099998,\r\n          //     \"totalRecharge\": 1099998\r\n          //   },\r\n          //   \"cashTotalRecharge\": 1111998,\r\n          //   \"cashTotalWithdrawal\": 10000\r\n          // },\r\n          // \"isAnchor\": true,\r\n          // \"favorite\": 1,\r\n          // \"wxBindStatus\": \"BIND\",\r\n          // \"wxName\": \"mimo\",\r\n          // \"canEditUname\": true,\r\n          // \"logOutStatus\": \"INAUDIT\"\r\n        },\r\n        liveroom: \"\",\r\n        channelInfo: {}, // 主播信息\r\n        userInfo: {\r\n          channelRoleType: 0,\r\n          follow: false,\r\n          forbid: false,\r\n          forbidEndTime: null\r\n        }, // 用户在当前直播间信息\r\n        giftList: [], // 礼物列表\r\n        giftListToObject: {}, // 礼物列表\r\n        hongbaoList: [], // 红包列表\r\n        recommendList: [], // 推荐列表\r\n        recommendVideo2: [], // 未开播推荐列表\r\n        rankObject: {},\r\n        messageItem: {},\r\n        giftItem: {\r\n          // \"gift\": {\r\n          //   \"anchorId\": \"6919164\",\r\n          //   \"anchorName\": \"冯曦妤\",\r\n          //   \"id\": 12915206930636802,\r\n          //   \"name\": \"浪味仙\",\r\n          //   \"number\": 1,\r\n          //   \"picture\": \"https://pic.imifan.live/gifts/langXianXian/2019101819283913031452620677141.png\",\r\n          //   \"showGift\": true,\r\n          //   \"totalFee\": 10\r\n          // },\r\n          // \"pType\": 0,\r\n          // \"pid\": \"6919164\",\r\n          // \"sign\": \"286403A393C275046C3053CA7EBE4ADD\",\r\n          // \"user\": {\r\n          //   \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\r\n          //   \"id\": \"3486074\",\r\n          //   \"name\": \"晨曦吻月\"\r\n          // }\r\n        },\r\n        msgList: [\r\n          // 四种角色发送弹幕\r\n          // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000004\",\"user\":{\"role\":0,\"name\":\"春暖花开567\",\"id\":\"10000004\"}},\"_lctype\":-1,\"_lctext\":\"主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1\"},\r\n          // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":1,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早1\"},\r\n          // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":2,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早2\"},\r\n          // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":9,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早3\"},\r\n          // {\"_lcattrs\":{\"gift\":{\"anchorId\":\"6336335\",\"anchorName\":\"老牛解说\",\"id\":12915206930636801,\"name\":\"饭团\",\"number\":1,\"picture\":\"https://pic.imifan.live/gifts/riceBall/2019101819132913031452620677128.png\",\"showGift\":true,\"totalFee\":10},\"pType\":0,\"pid\":\"6336335\",\"sign\":\"F5AE7BF879696F2ECE83AADD2359E229\",\"user\":{\"avatar\":\"https://pic.imifan.live/avatar/2019111210320013250427765727273.jpg\",\"id\":\"6741398\",\"name\":\"凉白开\"}},\"_lctext\":\"12915206930636801\",\"_lctype\":2}, {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":0,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1主播早1\"},\r\n          // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":1,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早1\"},\r\n          // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":2,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早2\"},\r\n          // {\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"user\":{\"role\":9,\"name\":\"春暖花开567\",\"id\":\"3506329\"}},\"_lctype\":-1,\"_lctext\":\"主播早3\"},\r\n          // {\"_lcattrs\":{\"gift\":{\"anchorId\":\"6336335\",\"anchorName\":\"老牛解说\",\"id\":12915206930636801,\"name\":\"饭团\",\"number\":1,\"picture\":\"https://pic.imifan.live/gifts/riceBall/2019101819132913031452620677128.png\",\"showGift\":true,\"totalFee\":10},\"pType\":0,\"pid\":\"6336335\",\"sign\":\"F5AE7BF879696F2ECE83AADD2359E229\",\"user\":{\"avatar\":\"https://pic.imifan.live/avatar/2019111210320013250427765727273.jpg\",\"id\":\"6741398\",\"name\":\"凉白开\"}},\"_lctext\":\"12915206930636801\",\"_lctype\":2},\r\n          // {\r\n          //   \"_lctype\": 1,\r\n          //   \"_lctext\": \"小飞机关注了这个主播\",\r\n          //   \"_lcattrs\": {\r\n          //     \"user\": { \"id\": \"20032019\", \"name\": \"晨曦吻月\", \"role\": 9, \"avatar\": \"xxxxxx\" },\r\n          //     \"sm\": { \"type\": 0 },\r\n          //     \"gift\": { \"id\": 83743784138, \"number\": 12, \"totalFee\": 1200, \"anchorId\": \"726265\" },\r\n          //     \"rw\": { \"type\": 0, \"level\": 0, \"isJump\": 0 },\r\n          //     \"pType\": 0,\r\n          //     \"pid\": \"126712676\"\r\n          //   }\r\n          // },\r\n          // {\r\n          //   \"_lctype\": 1,\r\n          //   \"_lctext\": \"公告\",\r\n          //   \"_lcattrs\": {\r\n          //     \"user\": { \"id\": \"20032019\", \"name\": \"晨曦吻月\", \"role\": 9, \"avatar\": \"xxxxxx\" },\r\n          //     \"sm\": { \"type\": 1 },\r\n          //     \"gift\": { \"id\": 83743784138, \"number\": 12, \"totalFee\": 1200, \"anchorId\": \"726265\" },\r\n          //     \"rw\": { \"type\": 0, \"level\": 0, \"isJump\": 0 },\r\n          //     \"pType\": 0,\r\n          //     \"pid\": \"126712676\"\r\n          //   }\r\n          // },\r\n          // {\r\n          //   \"_lctype\": 5,\r\n          //   \"_lctext\": \"ban\",\r\n          //   \"_lcattrs\": {\r\n          //     \"user\": { \"id\": \"20032019\", \"name\": \"晨曦吻月\", \"role\": 9, \"avatar\": \"xxxxxx\" },\r\n          //     \"sm\": { \"type\": 0 },\r\n          //     \"gift\": { \"id\": 83743784138, \"number\": 12, \"totalFee\": 1200, \"anchorId\": \"726265\" },\r\n          //     \"rw\": { \"type\": 0, \"level\": 0, \"isJump\": 0 },\r\n          //     \"pType\": 0,\r\n          //     \"pid\": \"126712676\"\r\n          //   }\r\n          // },\r\n          // {\r\n          //   \"_lctype\": 1,\r\n          //   \"_lctext\": \"小飞机关注了这个主播\",\r\n          //   \"_lcattrs\": {\r\n          //     \"user\": { \"id\": \"20032019\", \"name\": \"晨曦吻月\", \"role\": 9, \"avatar\": \"xxxxxx\" },\r\n          //     \"sm\": { \"type\": 0 },\r\n          //     \"gift\": { \"id\": 83743784138, \"number\": 12, \"totalFee\": 1200, \"anchorId\": \"726265\" },\r\n          //     \"rw\": { \"type\": 0, \"level\": 0, \"isJump\": 0 },\r\n          //     \"pType\": 0,\r\n          //     \"pid\": \"126712676\"\r\n          //   }\r\n          // }\r\n        ], // 弹幕列表\r\n        danmaku: null // 视频弹幕\r\n      };\r\n    },\r\n    computed: {\r\n      isLogin() {\r\n        return this.$store.getters.isLogin;\r\n      },\r\n      topNavStyleObj() {\r\n        if (this.isFold) {\r\n          return {\r\n            paddingLeft: `48px`,\r\n            width: `calc(100% - 48px)`,\r\n            minWidth: \"1132px\"\r\n          };\r\n        } else {\r\n          return {\r\n            paddingLeft: `240px`,\r\n            width: `calc(100% - 240px)`,\r\n            minWidth: \"948px\"\r\n          };\r\n        }\r\n      },\r\n      userStatus: {\r\n        get () {\r\n          return this.$store.state.userStatus\r\n        },\r\n        set(val){\r\n          this.$store.commit('updateUserStatus', val)\r\n        }\r\n      },\r\n    },\r\n    watch: {\r\n      $route() {\r\n        // 对路由变化作出响应\r\n        this.init();\r\n      },\r\n      // isLogin(value) {\r\n      //   // 监听登陆成功 组件暴露功能 暂未使用\r\n      //   if(value) this.init()\r\n      // }\r\n    },\r\n\r\n    created() {\r\n      // let sign = \"123*5\";\r\n      // let md5string = \"12345\";\r\n      //\r\n      // if (sign.indexOf(\"*\") > -1) {\r\n      //   console.log((sign = sign.split(\"*\")[0]), \"sign.split('*')[0]\");\r\n      //   console.log((md5string = md5string.slice(0, sign.length)), \"md5string\");\r\n      // }\r\n      // console.log(md5string === sign);\r\n      // document.cookie = 'xx-user-token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4LXp5LXVzZXItaWQiOiIzNDg2MDc0IiwiaXNzIjoiemhhbmd5dSIsImV4cCI6MTU3OTE1NDcyOCwiaWF0IjoxNTc3OTQ1MTI4fQ.fdWr8bgcExT3a7Qr8k-AMEF142FqK09RtqMWAHc4TECvJA7V_gD2F8v7UMsJKhbAspgWdN84byJfh3IALkg70w'\r\n      // Cookies.set('xx-user-token','eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJ4LXp5LXVzZXItaWQiOiIzNDg2MDc0IiwiaXNzIjoiemhhbmd5dSIsImV4cCI6MTU3OTE1NDcyOCwiaWF0IjoxNTc3OTQ1MTI4fQ.fdWr8bgcExT3a7Qr8k-AMEF142FqK09RtqMWAHc4TECvJA7V_gD2F8v7UMsJKhbAspgWdN84byJfh3IALkg70w')\r\n      this.init();\r\n      // setTimeout(() => {\r\n      //   this.msgList.push({\r\n      //     name: 111,\r\n      //     content: 222222\r\n      //   })\r\n      // },3000)\r\n\r\n      // test chatroom\r\n      // let index = 1;\r\n      // setInterval(() => {\r\n      //   console.log('msgList push');\r\n      //   this.msgList.push({\r\n      //     name: 111,\r\n      //     content: 222222+ index\r\n      //   })\r\n      //   index++\r\n      // },3000)\r\n\r\n      // test 礼物横幅\r\n      // let i = 1;\r\n      // let timer = setInterval(() => {\r\n      //   if (i == 10) clearInterval(timer);\r\n      //   this.giftItem = {\r\n      //     \"gift\": {\r\n      //       \"anchorId\": \"6919164\",\r\n      //       \"anchorName\": \"冯曦妤\",\r\n      //       \"id\": 12915206930636802,\r\n      //       \"name\": \"浪味仙\",\r\n      //       \"number\": 1,\r\n      //       \"picture\": \"https://pic.imifan.live/gifts/langXianXian/2019101819283913031452620677141.png\",\r\n      //       \"showGift\": true,\r\n      //       \"totalFee\": 10 * i\r\n      //     },\r\n      //     \"pType\": 0,\r\n      //     \"pid\": \"6919164\",\r\n      //     \"sign\": \"286403A393C275046C3053CA7EBE4ADD\",\r\n      //     \"user\": {\r\n      //       \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\r\n      //       \"id\": \"3486074\",\r\n      //       \"name\": \"晨曦吻月\"\r\n      //     }\r\n      //   }\r\n      //   i++\r\n      //\r\n      //   console.log('setTimeout-----------------------');\r\n      //   this.getRank();\r\n      //\r\n      // }, 1000)\r\n\r\n      // test 跑道\r\n      // let i = 1;\r\n      // let timer = setInterval(() => {\r\n      //   if (i == 3) clearInterval(timer);\r\n      //   this.msgList.push({\"_lcattrs\":{\"gift\":{\"anchorId\":\"10007878\",\"anchorName\":\"小饭粒_10007878\",\"id\":\"12915206930636816\",\"name\":\"满汉全席\",\"number\":1,\"picture\":\"https://pic.imifan.live/gifts/manchu/2019101819301813031452620677143.png\",\"showGift\":true,\"totalFee\":200000},\"pType\":0,\"pid\":\"10007878\",\"sign\":\"B575A0DA78F8AB6A0A20D4D1546C8279\",\"user\":{\"avatar\":\"https://pic.imifan.live/avatar/2020011612283314054534902399033.jpg\",\"id\":\"6782355\",\"name\":\"fred\"}},\"_lctext\":\"12915206930636816\",\"_lctype\":2})\r\n      // this.messageItem = {\r\n      //   \"_lcattrs\": {\r\n      //     \"pType\": 1,\r\n      //     \"rw\": {\r\n      //       \"anchorId\": \"6144444\",\r\n      //       \"anchorName\": \"不朽少年梦\",\r\n      //       \"duration\": 10000,\r\n      //       \"isJump\": 1,\r\n      //       \"level\": 0,\r\n      //       \"name\": \"糖果庄园\",\r\n      //       \"number\": 2,\r\n      //       \"picture\": \"https://pic.imifan.live/gifts/fruitCastle/2019101819410313031452620677151.png\",\r\n      //       \"times\": 3,\r\n      //       \"type\": 1\r\n      //     },\r\n      //     \"sign\": \"64C3A3E27B5DB6DAFE1F3C46B6D9FEAE\",\r\n      //     \"user\": {\r\n      //       \"avatar\": \"https://pic.imifan.live/avatar/2019103119455113183057850163209.png\",\r\n      //       \"id\": \"3486074\",\r\n      //       \"name\": \"晨曦吻月\"\r\n      //     }\r\n      //   }, \"_lctext\": \"晨曦吻月赠送给主播不朽少年梦 2 个 糖果庄园！快来围观吧!\", \"_lctype\": 4\r\n      // }\r\n      //   i++\r\n      //\r\n      //   console.log('setTimeout');\r\n      //\r\n      // }, 1000)\r\n\r\n      // 封禁测试\r\n      // setTimeout(() => {\r\n      //   this.userInfo= {\r\n      //     channelRoleType: 2,\r\n      //     follow: false,\r\n      //     forbid: true,\r\n      //     forbidEndTime: 1577963587139\r\n      //   };\r\n      // },3000)\r\n\r\n      // 红包 测试\r\n      // this.hongbaoList.push({\"_lcattrs\":{\"pType\":0,\"sign\":\"37D9109E305705375A2960BEB3000222\",\"lcuid\":\"CHAT_USER_3506329\",\"pid\":\"10000157\",\"rp\":{\"time\":5000,\"id\":\"3506329\"}},\"_lctype\":3,\"_lctext\":\"主播早\"})\r\n    },\r\n\r\n    mounted() {\r\n      this.$nextTick(() => {\r\n        this.DanmakuInit();\r\n      });\r\n    },\r\n    destroyed() {\r\n      // 移除弹幕和resize监听\r\n      this.danmaku.destroy();\r\n      window.removeEventListener(\"resize\", this.danmakuResize);\r\n    },\r\n    methods: {\r\n      getFoldState() {\r\n        // let leftFoldState = window.sessionStorage.getItem(\"leftFoldState\");\r\n        // this.isFold =\r\n        //   leftFoldState === null || leftFoldState === \"false\" ? false : true;\r\n        this.$nextTick(() => {\r\n          this.$refs.recommend.init();\r\n        });\r\n      },\r\n      DanmakuInit() {\r\n        this.danmaku = new Danmaku({\r\n          // 用于显示弹幕的「舞台」会被添加到该容器中\r\n          container: this.$refs.danmaku,\r\n          // container: this.$refs.dPlayer,\r\n          // container: document.querySelector('#danmaku'),\r\n          // container: document.querySelector('.video-player'),\r\n          // video: document.querySelector('.dplayer-video'),\r\n\r\n          // 弹幕数据数组，在 emit API 中会说明其格式\r\n          comments: [],\r\n\r\n          // 支持 DOM 引擎和 canvas 引擎。canvas 引擎一般比 DOM 更高效，但相对更耗内存。\r\n          // 默认为 DOM 引擎\r\n          // engine: 'canvas',\r\n\r\n          // 弹幕速度，也可以用 speed API 设置\r\n          speed: 105\r\n        });\r\n\r\n        // setInterval(() => {\r\n        //   this.danmaku.emit(comment);\r\n        // },200)\r\n        this.danmakuResize();\r\n        window.addEventListener(\"resize\", this.danmakuResize);\r\n      },\r\n      danmakuResize: debounce(\r\n        function () {\r\n          console.log(this.danmaku);\r\n          this.danmaku.resize();\r\n        },\r\n        200,\r\n        false\r\n      ),\r\n      /**\r\n       * 飘窗弹幕自己的type 对应三种字体\r\n       * 展示的消息类型：\r\n       * -1用户发送的消息、 #ffffff\r\n       * 1欢迎消息、关注消息、#FFC955\r\n       * 2抢红包消息 #FF7F64\r\n       * @param message\r\n       * @param type\r\n       */\r\n      sendDanmaku(message, type) {\r\n        let colorMap = {\r\n          \"-1\": \"#ffffff\",\r\n          1: \"#FFC955\",\r\n          2: \"#FF7F64\"\r\n        };\r\n        let comment = {\r\n          text: message,\r\n\r\n          // 默认为 rtl（从右到左），支持 ltr、rtl、top、bottom。\r\n          mode: \"rtl\",\r\n\r\n          // 在使用 DOM 引擎时，Danmaku 会为每一条弹幕创建一个 <div> 节点，\r\n          // 以下 CSS 样式会直接设置到 div.style 上\r\n          style: {\r\n            // top: '30px',\r\n            zIndex: 10,\r\n            fontSize: \"24px\",\r\n            fontWeight: \"700\",\r\n            opacity: \"0.84\",\r\n            lineHeight: \"33px\",\r\n            color: colorMap[type],\r\n            padding: \"4px 0\",\r\n            textShadow: \"1px 0px 1px rgba(34,34,34,1)\"\r\n          }\r\n\r\n          // 自定义渲染器\r\n          // 当 `render` 字段存在时, `text`, `html`, `style` 和 `canvasStyle` 将被忽略。\r\n\r\n          // 在使用 DOM 引擎时，该函数应当返回一个 HTMLElement。\r\n          // render: function() {\r\n          // var $div = document.createElement('div');\r\n          // var $img = document.createElement('img');\r\n          // $img.src = '/path/to/xxx.png';\r\n          // $div.appendChild($img);\r\n          // return $div;\r\n          // },\r\n          // 在使用 canvas 引擎时，该函数应当返回一个 HTMLCanvasElement。\r\n          // render: function() {\r\n          //   var canvas = document.createElement('canvas');\r\n          //   canvas.width = 320;\r\n          //   canvas.height = 180;\r\n          //   var ctx = canvas.getContext('2d');\r\n          //   ctx.beginPath();\r\n          //   ctx.arc(75, 75, 50, 0, 2 * Math.PI);\r\n          //   ctx.stroke();\r\n          //   return canvas;\r\n          // }\r\n        };\r\n        this.danmaku.emit(comment);\r\n      },\r\n      init() {\r\n        // 左侧边栏当前状态\r\n        // this.getFoldState();\r\n\r\n        this.liveroom = this.$route.params.liveroom;\r\n\r\n        this.getChannelInfo().then(() => {\r\n          this.connetConversation();\r\n          this.getrecommendLiveList();\r\n        });\r\n        this.getGiftList();\r\n        // this.getRanking();\r\n        this.getloginInfo();\r\n        this.enterRoom();\r\n      },\r\n      sendGiftSuccess(data) {\r\n        this.$set(this.userLogin,'credit', data.credit);\r\n      },\r\n      // 获取直播间信息\r\n      getloginInfo() {\r\n        if (!this.isLogin) return;\r\n        return loginInfo().then(res => {\r\n          this.userLogin = res.data;\r\n          // this.userStatus.userInfo.balance = res.data.accountDto.miCoin.balance\r\n          // console.log('this.userStatus.userInfo.balance',this.userStatus.userInfo.balance)\r\n          console.log('直播间-个人信息',res);\r\n        });\r\n      },\r\n      // 当前用户进入直播间的信息\r\n      enterRoom() {\r\n        // if (!this.isLogin) return;\r\n        return enterRoom({ cid: this.liveroom }).then(res => {\r\n          this.userInfo = res.data;\r\n          console.log(res);\r\n        });\r\n      },\r\n      // 获取直播间信息\r\n      getChannelInfo() {\r\n        return channelInfo({ cid: this.liveroom }).then(res => {\r\n          this.channelInfo = res.data;\r\n          document.title = this.channelInfo.name;\r\n          console.log(res);\r\n        });\r\n      },\r\n      // 获取推荐列表\r\n      getrecommendLiveList() {\r\n        return recommendLiveList(\r\n          {\r\n            recommendAnchorType: \"SEARCH_PAGE\"\r\n            // size: 10,\r\n          },\r\n          {}\r\n        ).then(res => {\r\n          // 未开播\r\n          if (this.channelInfo.playStatusCode == 905) {\r\n            this.recommendVideo2 = res.data.slice(0, 2);\r\n            this.recommendList = res.data.slice(2);\r\n          } else {\r\n            this.recommendList = res.data;\r\n          }\r\n          console.log(res);\r\n        });\r\n      },\r\n      // 礼物列表\r\n      getGiftList() {\r\n        return getGiftList().then(res => {\r\n          this.giftList = res.data;\r\n          // this.giftList = [res.data[0],res.data[0],res.data[0],res.data[0],res.data[0],res.data[0],res.data[0],res.data[0]];\r\n\r\n          res.data.forEach(item => {\r\n            this.$set(this.giftListToObject, item.id, item);\r\n          });\r\n          console.log(res);\r\n        });\r\n      },\r\n      // 榜单\r\n      getRanking() {\r\n        return queryRoomRanking({ anchorId: this.liveroom, type: 0 }).then(\r\n          res => {\r\n            this.rankObject = res.data;\r\n          }\r\n        );\r\n      },\r\n      // 节流处理 更新榜单\r\n      getRank: debounce(\r\n        function () {\r\n          this.getRanking();\r\n        },\r\n        1000,\r\n        false\r\n      ),\r\n      // 弹幕初始化\r\n      connetConversation() {\r\n        console.log('链接聊天室-用户信息',this.userStatus)\r\n        let clientId = 'CHAT_VISITOR_' + uuidv4()\r\n        if(this.isLogin){\r\n          clientId = 'CHAT_USER_' + this.userStatus.userInfo.uid\r\n        }\r\n        console.log('链接聊天室clientId',clientId)\r\n        Chat.getChatRoom(clientId, this.channelInfo.chatRooms[0]).then(  // test--加入签名\r\n          conversation => {\r\n            console.log(conversation, \"conversation\");\r\n            this.msgList.push({\r\n              _lctype: 1,\r\n              // _lctext: `欢迎来到秘饭直播${ this.channelInfo.uname }的直播间，监播人员将对直播间进行24小时巡查，禁止传播任何违法、违规、低俗、暴力等不良信息的行为。`\r\n              _lctext: `爱球禁止未成年人送礼等付费行为、严禁主播诱导未成年人消费。如直播间出现违法违规、色情低俗、赌博、诱导欺诈等行为，请及时举报。管理员24小时在线巡查并接受举报。`\r\n            });\r\n            // this.sendDanmaku(`欢迎来到秘饭直播${ this.channelInfo.uname }的直播间，直播间依法对直播内容进行24小时巡查，禁止任何传播违章、违规、低俗、暴力等不良信息的行为。`, 1)\r\n            try {\r\n              // 正常交互\r\n              conversation.on(event.MESSAGE, message => {\r\n                console.log('event.MESSAGE',event.MESSAGE)\r\n                console.log('message',message)\r\n                console.log('message.content',message.content)\r\n                console.log(\r\n                  message.content,\r\n                  \"contentcontentcontentcontentcontent\"\r\n                );\r\n                console.log(\r\n                  message.content._lctext,\r\n                  \"messagemessagemessagemessagemessage\"\r\n                );\r\n                this.assignedMessage(message.content);\r\n              });\r\n              // // 弹出提示，告知当前用户的 clientId 在其他设备上登录了\r\n              conversation.on(event.CONFLICT, function () {\r\n                // TODO 互踢啦\r\n                console.log(\"互踢啦\");\r\n              });\r\n            } catch {\r\n              console.log(\"弹幕服务器加载失败\");\r\n            }\r\n          }\r\n        );\r\n      },\r\n      // 分配弹幕返回数据\r\n      assignedMessage(message) {\r\n        let text = message._lctext;\r\n        let type = message._lctype;\r\n        let md5String = md5Secret(text);\r\n        let sign = message._lcattrs.sign;\r\n        /**\r\n         * 因为加密的字符串含有leanCloud的屏蔽词, 会被转化为*, 所以各个客户端需要增加以下逻辑\r\n         * 第一步: 判断字符串中是否包含*: 不包含直接对比\r\n         * 第二步: 如果包含*, 则判断*是否为第一个, 如果是第一个则不进行对比,直接展示\r\n         * 第三步: 如果不是第一个则切割字符串, 获取*前面的部分, 然后和本地截取相同长度然后在进行对比\r\n         */\r\n        if (sign.indexOf(\"*\") > -1) {\r\n          sign = sign.split(\"*\")[0];\r\n          md5String = md5String.slice(0, sign.length);\r\n\r\n          console.log(sign, \"sign\");\r\n          console.log(md5String, \"md5string\");\r\n        }\r\n        console.log(md5String === sign, 'md5String === sign');\r\n        if (md5String === sign && md5String !== \"false\") {\r\n          console.log(\"receive message:\" + text);\r\n          // 弹幕文案\r\n          if (type === -1 || type === 1 || type === 2 || type === 5) {\r\n            this.msgList.push(JSON.parse(JSON.stringify(message)));\r\n          }\r\n          // 飘窗弹幕\r\n          if (type === -1) {\r\n            this.sendDanmaku(text, \"-1\");\r\n          }\r\n          if (type === 1) {\r\n            this.sendDanmaku(text, message._lcattrs.sm === 0 ? 2 : 1);\r\n          }\r\n          // 禁言 判断的是不是当前登陆用户\r\n          if (type === 5 && message._lcattrs.fb.uid === this.userLogin.id) {\r\n            this.enterRoom();\r\n          }\r\n          // 设置房管 判断的是不是当前登陆用户\r\n          if (type === 6 && message._lcattrs.manager.id === this.userLogin.id) {\r\n            this.enterRoom();\r\n          }\r\n          // 礼物\r\n          if (type === 2) {\r\n            this.giftItem = JSON.parse(JSON.stringify(message._lcattrs));\r\n            // this.getRank();\r\n          }\r\n          // 红包\r\n          if (type === 3) {\r\n            this.hongbaoList.push(JSON.parse(JSON.stringify(message)));\r\n          }\r\n          // 跑道\r\n          if (type === 4) {\r\n            this.messageItem = JSON.parse(JSON.stringify(message));\r\n          }\r\n        }\r\n      },\r\n      // 发送消息\r\n      sendMsg(msg) {\r\n        console.log(msg, \"sendMsg\");\r\n        let sign = md5Secret(msg);\r\n        let params = {\r\n          user: {\r\n            id: this.userLogin.id,\r\n            name: this.userLogin.uname,\r\n            role: this.userInfo.channelRoleType,\r\n            avatar: this.userLogin.avatarUrl\r\n          },\r\n          pType: 0,\r\n          pid: this.liveroom,\r\n          lcuid: `CHAT_USER_${ this.userLogin.id }`,\r\n          sign\r\n        };\r\n        Chat.sendMsg(msg, params).then(() => {\r\n          console.log(\"success\");\r\n          this.msgList.push({\r\n            _lcattrs: {\r\n              user: {\r\n                role: this.userInfo.channelRoleType,\r\n                name: this.userLogin.uname,\r\n                id: this.userLogin.id,\r\n                avatar: this.userLogin.avatarUrl\r\n              }\r\n            },\r\n            _lctype: -1,\r\n            _lctext: msg\r\n          });\r\n          this.sendDanmaku(msg, \"-1\");\r\n        });\r\n      },\r\n      login() {\r\n        // 展示登陆弹窗\r\n        this.$refs.login.openLoginDialog();\r\n      }\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  @import \"@/assets/css/_index.scss\";\r\n\r\n  .video-player {\r\n    /*position: absolute;*/\r\n    /*width: 100%;*/\r\n    /*height:100%;*/\r\n  }\r\n\r\n  .topNav {\r\n    position: fixed;\r\n    z-index: $z-index1;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    min-width: 948px;\r\n    padding-left: 240px;\r\n    // transition: all 0.5s;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .main-header {\r\n    position: fixed;\r\n    z-index: 21;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n\r\n    ::v-deep.home-nav {\r\n      /*width: calc(100% - 480px);*/\r\n      /*margin: 0 240px;*/\r\n      /*box-sizing:border-box;*/\r\n    }\r\n  }\r\n\r\n  .main-container {\r\n    padding-left: 240px;\r\n\r\n    &.fold {\r\n      padding-left: 48px;\r\n    }\r\n  }\r\n\r\n  .liveroom {\r\n    position: relative;\r\n    padding-top: 60px;\r\n    padding-right: 370px;\r\n\r\n    background-color: $bg-main;\r\n    @extend %clearfix;\r\n  }\r\n\r\n  .main-wrap {\r\n    margin: 20px 20px 20px 35px;\r\n    min-width: 535px;\r\n  }\r\n\r\n  .chat-wrap {\r\n    position: fixed;\r\n    z-index: 3;\r\n    right: 0;\r\n    top: 80px;\r\n    overflow: hidden;\r\n    border-radius: 10px;\r\n    width: 370px;\r\n    height: 100%;\r\n\r\n    background-color: #fff;\r\n\r\n    border: 1px solid $color-border;\r\n    border-top: 0px solid $color-border;\r\n    border-right: 0px solid $color-border;\r\n  }\r\n\r\n  .empty {\r\n    position: relative;\r\n    /*height: 350px;*/\r\n    background-color: #ccc;\r\n    // hack 更改弹幕定位方式 保证视频在文档流内\r\n    & > ::v-deep div:not(:only-child):last-of-type {\r\n      position: absolute !important;\r\n      z-index: 19 !important;\r\n      top: 0 !important;\r\n      /*background-color: red!important;*/\r\n    }\r\n  }\r\n</style>\r\n"]}]}