{"remainingRequest":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pc端clone\\iqiu\\src\\views\\home\\homeNavFollow.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\pc端clone\\iqiu\\src\\views\\home\\homeNavFollow.vue","mtime":1594000643110},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\pc端clone\\iqiu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEJ1dHRvbiwgUG9wb3ZlciwgZGl2aWRlciwgQ29sLCBhdmF0YXIgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IHsgYXR0ZW50aW9uR2V0Rm9sbG93QW5jaG9ycyB9IGZyb20gIkAvYXBpL2FwaSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2hvbWUtbmF2LWZvbGxvdycsCiAgY29tcG9uZW50czogewogICAgW0J1dHRvbi5uYW1lXTogQnV0dG9uLAogICAgW1BvcG92ZXIubmFtZV06IFBvcG92ZXIsCiAgICBbZGl2aWRlci5uYW1lXTogZGl2aWRlciwKICAgIFtDb2wubmFtZV06IENvbCwKICAgIFthdmF0YXIubmFtZV06IGF2YXRhciwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBudW06IDAsCiAgICAgIG9ubGluZUNoYW5uZWxzOiBbCiAgICAgICAgLy8gewogICAgICAgIC8vICAgdXNlckR0bzp7CiAgICAgICAgLy8gICAgIGF2YXRhclVybDonJywKICAgICAgICAvLyAgICAgdW5hbWU6J3NzcycsCiAgICAgICAgLy8gICB9LAogICAgICAgIC8vICAgY2hhbm5lbENvdmVyRHRvOnsKICAgICAgICAvLyAgICAgIHVuYW1lOidzc3MnLAogICAgICAgIC8vICAgICAgIG5hbWU6J3NzJywKICAgICAgICAvLyAgICAgICBvbkxpbmVTY29yZTonc2Rjc2MnLAogICAgICAgIC8vICAgICAgdHlwZU5hbWU6J3NkZnMnLAogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gIHsKICAgICAgICAvLyAgIHVzZXJEdG86ewogICAgICAgIC8vICAgICBhdmF0YXJVcmw6JycsCiAgICAgICAgLy8gICAgIHVuYW1lOidzc3MzMycsCiAgICAgICAgLy8gICB9LAogICAgICAgIC8vICAgY2hhbm5lbENvdmVyRHRvOnsKCiAgICAgICAgLy8gICAgICAgbmFtZTonc3MxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExJywKICAgICAgICAvLyAgICAgICBvbkxpbmVTY29yZTonc2Rjc2MnLAogICAgICAgIC8vICAgICAgdHlwZU5hbWU6J3NkZnMnLAogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0sCiAgICAgIF0sCiAgICAgIGZvbGxvd1VybDogcmVxdWlyZSgnQC9hc3NldHMvaG9tZS9mb2xsb3dAMngucG5nJykKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c2VyU3RhdHVzKCkgewogICAgICBjb25zb2xlLmxvZygn5qOA5rWL5Yiw55m75b2V54q25oCB5pS55Y+YJywgdGhpcy4kc3RvcmUuc3RhdGUudXNlclN0YXR1cykKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJTdGF0dXMKICAgIH0sCiAgICBpc0xvZ2luKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5pc0xvZ2luCiAgICB9LAogICAgbXlGb2xsb3dUaXRsZSgpIHsKICAgICAgcmV0dXJuICLmiJHlhbPms6jnmoTkuLvmkq3mnIkiICsgdGhpcy5udW0gKyAi5Lq65Zyo55u05pKtIgogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIh+aNouWvvOiIquagj+WbvueJhwogICAgY2hhbmdlSW1hZ2VTcmMoKSB7CiAgICAgIC8vIGlmKGluZGV4ID09PSAxKXsKICAgICAgLy8gICB0aGlzLmZvbGxvd1VybCA9IHJlcXVpcmUoJ0AvYXNzZXRzL2hvbWUvZm9sbG93X2JsdWVAMngucG5nJykKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICB0aGlzLmZvbGxvd1VybCA9IHJlcXVpcmUoJ0AvYXNzZXRzL2hvbWUvZm9sbG93QDJ4LnBuZycpCiAgICAgIC8vIH0KICAgIH0sCiAgICBqdW5tcFRvRm9sbG93KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdGb2xsb3dMaXN0JyB9KQogICAgfSwKICAgIG9wZW5Mb2dpbkRpYWxvZygpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUub3BlbkxvZ2luRGlhbG9nID0gdHJ1ZQogICAgfSwKICAgIC8vIOafpeivoueUqOaIt+S/oeaBrwogICAgZ2V0RmVsbG93TGlzdCgpIHsKICAgICAgYXR0ZW50aW9uR2V0Rm9sbG93QW5jaG9ycyh7fSwge30pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLm51bSA9IHJlcy5kYXRhLm9ubGluZUNoYW5uZWxzLmxlbmd0aDsKICAgICAgICBpZiAocmVzLmRhdGEub25saW5lQ2hhbm5lbHMubGVuZ3RoIDw9IDYpIHsKICAgICAgICAgIHRoaXMub25saW5lQ2hhbm5lbHMgPSByZXMuZGF0YS5vbmxpbmVDaGFubmVsczsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHsKICAgICAgICAgICAgdGhpcy5vbmxpbmVDaGFubmVscy5wdXNoKHJlcy5kYXRhLm9ubGluZUNoYW5uZWxzW2ldKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgIH0pCiAgICB9LAogICAgLy8g6Lez6L2s55u05pKt6Ze0CiAgICB0b0xpdmVSb29tKGNpZCwgaXRlbSkgewogICAgICBjb25zb2xlLmxvZygn57uE5Lu2LeWfi+eCuea1i+ivlS0nLCBpdGVtKQogICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvTGl2ZXJvb20nLCBxdWVyeTogeyBjaWQ6IGNpZCB9IH0pCiAgICAgIGNvbnN0IHsgaHJlZiB9ID0gdGhpcy4kcm91dGVyLnJlc29sdmUoY2lkLCAnLycpCiAgICAgIHdpbmRvdy5vcGVuKGhyZWYsICJfYmxhbmsiKTsKICAgICAgdGhpcy50cmFja1Bhc3NUb1BhcmVudChpdGVtKTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuaXNMb2dpbikgewogICAgICB0aGlzLmdldEZlbGxvd0xpc3QoKQogICAgfQogIH0sCiAgd2F0Y2g6IHt9LAogIGZpbHRlcnM6IHsKICAgIG5hbWVGaWx0ZXI6IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBpZiAoIXZhbHVlKSByZXR1cm4gJycKICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IDE1KSB7CiAgICAgICAgcmV0dXJuIHZhbHVlLnNsaWNlKDAsIDcpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHZhbHVlCiAgICAgIH0KCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["homeNavFollow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"homeNavFollow.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\r\n  <div class=\"follow-content\">\r\n    <!--已登录-未关注主播/未登录-->\r\n    <el-popover placement=\"bottom\" width=\"320\" title=\"我的关注\" trigger=\"hover\"\r\n                v-if=\"userStatus.loginStatus === 'notLogin' \">\r\n      <div class=\"notFollow-tip\">\r\n        <!--          <img src=\"@/assets/home/expression_cry@3x.png\" style=\"width:100px;height:100px;\">-->\r\n        <p>您还未关注主播,<a class=\"notFollow-tip-text\">快去看看吧~</a></p>\r\n      </div>\r\n      <!--导航栏显示-未登录-->\r\n      <div class=\"nav-icon\" slot=\"reference\" @mouseenter=\"changeImageSrc(1)\" @mouseleave=\"changeImageSrc(2)\">\r\n        <!--          <img :src=\"followUrl\" style=\"width:14px;height:14px;\">-->\r\n        关注\r\n      </div>\r\n    </el-popover>\r\n    <!--已登录-关注列表-->\r\n    <el-popover placement=\"bottom\" :title=\"myFollowTitle\" width=\"310\" trigger=\"hover\"\r\n                v-if=\"userStatus.loginStatus === 'isLogin'\">\r\n      <div class=\"login-follow-list\" v-if=\"num !== 0\">\r\n        <div class=\"login-follow-row\" v-for=\"(item,index) in onlineChannels\" :key=index @click=\"toLiveRoom(item.cid)\">\r\n          <!-- <img :src=\"item.avatarUrl\" > -->\r\n          <div class=\"row-avatar\">\r\n            <el-avatar size=\"large\" :src=\"item.avatarUrl\" fit=\"scale-down\" style=\"width:58px;height:58px;\"></el-avatar>\r\n          </div>\r\n          <div class=\"row-title\">\r\n            <p class=\"row-title-name\">{{item.uname | nameFilter}}</p>\r\n            <p class=\"row-title-uname\">{{item.typeName}}</p>\r\n          </div>\r\n          <div class=\"row-hot\">\r\n            <!--              <div class=\"row-hot-hot\">-->\r\n            <!--                <img src=\"../../assets/home/huo@2x.png\" style=\"width:18px;height:20px;\">-->\r\n            <!--                <p class=\"row-title-onLineScore\">{{item.score}}</P>-->\r\n            <!--              </div>-->\r\n            <p class=\"row-title-uname color-red\">Live</p>\r\n          </div>\r\n        </div>\r\n        <el-button v-show=\"onlineChannels.length>2\" type=\"primary\" style=\"width:320px;height:48px;border-radius:24px;\"\r\n                   @click=\"junmpToFollow()\">查看更多\r\n        </el-button>\r\n      </div>\r\n      <div class=\"notFollow-tip\" v-if=\"num === 0\">\r\n        <!--          <img src=\"@/assets/home/expression_sleep@3x.png\" style=\"width:116px;height:117px;\">-->\r\n        <p>主播不在家,<a class=\"notFollow-tip-text\">快去看看别的直播吧~</a></p>\r\n      </div>\r\n      <!--导航栏显示-已登录-->\r\n      <div class=\"nav-icon \" slot=\"reference\" @mouseenter=\"changeImageSrc(1)\" @mouseleave=\"changeImageSrc(2)\">\r\n        <!--            <img :src=\"followUrl\" style=\"width:14px;height:14px;\">-->\r\n        关注 <span class=\"follower\" v-if=\"num > 0\">{{ num }}</span>\r\n      </div>\r\n    </el-popover>\r\n  </div>\r\n</template>\r\n<script>\r\n  import { Button, Popover, divider, Col, avatar } from 'element-ui';\r\n  import { attentionGetFollowAnchors } from \"@/api/api\";\r\n\r\n  export default {\r\n    name: 'home-nav-follow',\r\n    components: {\r\n      [Button.name]: Button,\r\n      [Popover.name]: Popover,\r\n      [divider.name]: divider,\r\n      [Col.name]: Col,\r\n      [avatar.name]: avatar,\r\n    },\r\n    data() {\r\n      return {\r\n        num: 0,\r\n        onlineChannels: [\r\n          // {\r\n          //   userDto:{\r\n          //     avatarUrl:'',\r\n          //     uname:'sss',\r\n          //   },\r\n          //   channelCoverDto:{\r\n          //      uname:'sss',\r\n          //       name:'ss',\r\n          //       onLineScore:'sdcsc',\r\n          //      typeName:'sdfs',\r\n          //   }\r\n          // },\r\n          //  {\r\n          //   userDto:{\r\n          //     avatarUrl:'',\r\n          //     uname:'sss33',\r\n          //   },\r\n          //   channelCoverDto:{\r\n\r\n          //       name:'ss1111111111111111111111111111111111',\r\n          //       onLineScore:'sdcsc',\r\n          //      typeName:'sdfs',\r\n          //   }\r\n          // },\r\n        ],\r\n        followUrl: require('@/assets/home/follow@2x.png')\r\n      }\r\n    },\r\n    computed: {\r\n      userStatus() {\r\n        console.log('检测到登录状态改变', this.$store.state.userStatus)\r\n        return this.$store.state.userStatus\r\n      },\r\n      isLogin() {\r\n        return this.$store.getters.isLogin\r\n      },\r\n      myFollowTitle() {\r\n        return \"我关注的主播有\" + this.num + \"人在直播\"\r\n      }\r\n    },\r\n    created() {\r\n    },\r\n    methods: {\r\n      // 切换导航栏图片\r\n      changeImageSrc() {\r\n        // if(index === 1){\r\n        //   this.followUrl = require('@/assets/home/follow_blue@2x.png')\r\n        // } else {\r\n        //   this.followUrl = require('@/assets/home/follow@2x.png')\r\n        // }\r\n      },\r\n      junmpToFollow() {\r\n        this.$router.push({ name: 'FollowList' })\r\n      },\r\n      openLoginDialog() {\r\n        this.$store.state.openLoginDialog = true\r\n      },\r\n      // 查询用户信息\r\n      getFellowList() {\r\n        attentionGetFollowAnchors({}, {}).then(res => {\r\n          this.num = res.data.onlineChannels.length;\r\n          if (res.data.onlineChannels.length <= 6) {\r\n            this.onlineChannels = res.data.onlineChannels;\r\n          } else {\r\n            for (let i = 0; i < 6; i++) {\r\n              this.onlineChannels.push(res.data.onlineChannels[i]);\r\n            }\r\n          }\r\n        }).catch(e => {\r\n          console.error(e);\r\n        })\r\n      },\r\n      // 跳转直播间\r\n      toLiveRoom(cid, item) {\r\n        console.log('组件-埋点测试-', item)\r\n        // this.$router.push({ path: '/Liveroom', query: { cid: cid } })\r\n        const { href } = this.$router.resolve(cid, '/')\r\n        window.open(href, \"_blank\");\r\n        this.trackPassToParent(item);\r\n      },\r\n    },\r\n    mounted() {\r\n      if (this.isLogin) {\r\n        this.getFellowList()\r\n      }\r\n    },\r\n    watch: {},\r\n    filters: {\r\n      nameFilter: function (value) {\r\n        if (!value) return ''\r\n        if (value.length > 15) {\r\n          return value.slice(0, 7)\r\n        } else {\r\n          return value\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\">\r\n  @import \"@/assets/css/_var.scss\";\r\n\r\n  .el-popover {\r\n    border-radius: 8px;\r\n    border: 5px solid $color-main;\r\n    border-width: 5px 0px 0px 0px;\r\n  }\r\n\r\n  .el-popover__title {\r\n    height: 22px;\r\n    font-size: 16px;\r\n    font-family: PingFangSC-Regular, PingFang SC;\r\n    font-weight: 400;\r\n    color: rgba(51, 51, 51, 1);\r\n    line-height: 22px;\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  @import \"@/assets/css/_var.scss\";\r\n\r\n  .notFollow-tip {\r\n    font-family: PingFangSC-Regular, PingFang SC;\r\n    font-weight: 400;\r\n    width: 300px;\r\n    height: 100px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    font-size: 14px;\r\n    color: rgba(153, 153, 153, 1);\r\n\r\n    .notFollow-tip-text {\r\n      color: $color-main;\r\n    }\r\n  }\r\n\r\n  .nav-icon {\r\n    position: relative;\r\n    padding-right: 25px;\r\n    width: 65px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    font-size: 16px;\r\n\r\n    .follower {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      padding: 5px;\r\n      height: 8px;\r\n      position: absolute;\r\n      top: 10px;\r\n      left: 30px;\r\n      border-radius: 20px;\r\n      background-color: $color-red-envelope;\r\n      color: #fff;\r\n      font-size: 14px;\r\n    }\r\n  }\r\n\r\n  .nav-icon:hover {\r\n    color: $color-main;\r\n  }\r\n\r\n  .login-tip-content {\r\n    font-size: 14px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n\r\n    .login-tip-item {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: flex-start;\r\n      align-items: center;\r\n      width: 65px;\r\n    }\r\n  }\r\n\r\n  .login-follow-list {\r\n    width: 100%;\r\n    font-family: PingFangSC-Regular, PingFang SC;\r\n    font-weight: 400;\r\n    cursor: pointer;\r\n\r\n    .login-follow-row {\r\n      width: 310px;\r\n      height: 70px;\r\n      background: rgba(255, 255, 255, 1);\r\n      margin: 0px 0px 10px 0px;\r\n      padding: 2px 0px 2px 0px;\r\n      /*box-shadow: 0px 1px 1.5px 0px rgba(0,0,0,0.21);*/\r\n      border-radius: 2px;\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      .row-avatar {\r\n        width: 66px;\r\n        height: 66px;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n      }\r\n\r\n      .row-title {\r\n        width: 192px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        align-items: flex-start;\r\n        padding-left: 10px;\r\n\r\n        .row-title-name {\r\n          height: 30px;\r\n          font-size: 16px;\r\n          color: $color-main;\r\n          line-height: 30px;\r\n        }\r\n      }\r\n\r\n      .row-hot {\r\n        width: 60px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n\r\n        .row-hot-hot {\r\n          display: flex;\r\n          flex-direction: row;\r\n          justify-content: space-around;\r\n          align-items: center;\r\n\r\n          .row-title-onLineScore {\r\n            border-radius: 2px;\r\n            height: 30px;\r\n            font-size: 14px;\r\n            color: rgba(102, 102, 102, 1);\r\n            line-height: 30px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .login-follow-row:hover {\r\n      background: rgba(233, 234, 236, 1);\r\n    }\r\n  }\r\n\r\n  .login-pop {\r\n    .signOut {\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: flex-end;\r\n      align-items: center;\r\n    }\r\n\r\n    .user {\r\n      width: 300px;\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n\r\n      .user-logo {\r\n        width: 80px;\r\n        height: 80px;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n        img {\r\n          width: 80%;\r\n          height: 80%;\r\n          border-radius: 50%;\r\n        }\r\n      }\r\n\r\n      .user-info {\r\n        height: 20px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        text-align: left;\r\n        margin-left: 5px;\r\n\r\n        .user-info-name {\r\n          font-weight: 500;\r\n          color: rgba(74, 74, 74, 1);\r\n          font-size: 15px;\r\n          line-height: 20px;\r\n        }\r\n\r\n        .user-info-id {\r\n          font-weight: 400;\r\n          font-size: 14px;\r\n          color: rgba(51, 51, 51, 1);\r\n          line-height: 20px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"]}]}