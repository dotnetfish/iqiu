{"remainingRequest":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/src/views/Rank.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/src/views/Rank.vue","mtime":1595570908592},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js","mtime":1595570902420},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/babel-loader/lib/index.js","mtime":1595570901804},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/cache-loader/dist/cjs.js","mtime":1595570902420},{"path":"/Users/zj-db0720/work/sourcescode/projects/gitee/iqiu/node_modules/vue-loader/lib/index.js","mtime":1595570907990}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJhbmtpbmdRdWVyeSB9IGZyb20gJ0AvYXBpL2FwaScKaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJ2VsZW1lbnQtdWknCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JhbmsnLAogIGNvbXBvbmVudHM6IHsKICAgIFtUb29sdGlwLm5hbWVdOiBUb29sdGlwLAoKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb25maWc6IFsKICAgICAgICB7CiAgICAgICAgICBzcmM6IHJlcXVpcmUoJ0AvYXNzZXRzL2ljb25faG90LnBuZycpLAogICAgICAgICAgdGl0bGU6ICLkurrmsJTkuLvmkq3mppwiLAogICAgICAgICAgbGlzdDogW10KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHNyYzogcmVxdWlyZSgnQC9hc3NldHMvaWNvbl9uZXcucG5nJyksCiAgICAgICAgICB0aXRsZTogIuaWsOS6uuS4u+aSreamnCIsCiAgICAgICAgICBsaXN0OiBbXQogICAgICAgIH0KICAgICAgXQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHJhbmtpbmdRdWVyeSh7IHR5cGVDb2RlOiAnbmV3YW5jaG9yJyB9KS50aGVuKAogICAgICByZXMgPT4gewogICAgICAgIGxldCBsaXN0ID0gW107CiAgICAgICAgaWYgKHJlcy5kYXRhKSBsaXN0ID0gcmVzLmRhdGEuaXRlbUR0b0xpc3QKICAgICAgICB0aGlzLmZpbGxSYW5rTGlzdCggbGlzdCwgMSk7CiAgICAgIH0KICAgICk7CiAgICByYW5raW5nUXVlcnkoeyB0eXBlQ29kZTogImhvdGFuY2hvciIgfSkudGhlbigKICAgICAgcmVzID0+IHsKICAgICAgICBsZXQgbGlzdCA9IFtdOwogICAgICAgIGlmIChyZXMuZGF0YSkgbGlzdCA9IHJlcy5kYXRhLml0ZW1EdG9MaXN0CiAgICAgICAgdGhpcy5maWxsUmFua0xpc3QoIGxpc3QsIDApOwogICAgICB9CiAgICApOwogIH0sCiAgbWV0aG9kczogewogICAgZmlsbFJhbmtMaXN0KHJhbmtMaXN0ID0gW10sIHJhbmtUeXBlKSB7CiAgICAgIGxldCBsaXN0ID0gW107CiAgICAgIGlmIChyYW5rTGlzdC5sZW5ndGggPj0gMTApIHsKICAgICAgICB0aGlzLmNvbmZpZ1tyYW5rVHlwZV0ubGlzdCA9IHJhbmtMaXN0OwogICAgICB9IGVsc2UgewogICAgICAgIGxpc3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJhbmtMaXN0KSk7CiAgICAgICAgbGlzdC5sZW5ndGggPSAxMDsKICAgICAgICB0aGlzLmNvbmZpZ1tyYW5rVHlwZV0ubGlzdCA9IGxpc3QuZmlsbCh7CiAgICAgICAgICBhdmF0YXJVcmw6ICdodHRwOi8vcGljLmxpa2VkdS50b3AvYXZhdGFyL2RlZmF1bHQtYXZhdGFyLmpwZycsCiAgICAgICAgICB1bmFtZTogJ+iZmuS9jeS7peW+hScsCiAgICAgICAgICBzY29yZTogMAogICAgICAgIH0sIHJhbmtMaXN0Lmxlbmd0aCwgMTApCiAgICAgIH0KCiAgICAgIHRoaXMuJHNldCh0aGlzLmNvbmZpZ1tyYW5rVHlwZV0sICd0b3AzJywgW2xpc3RbMV0sIGxpc3RbMF0sIGxpc3RbMl1dKQogICAgICB0aGlzLiRzZXQodGhpcy5jb25maWdbcmFua1R5cGVdLCAndG9wNycsIGxpc3Quc2xpY2UoMywgMTApKQogICAgICAvLyB0aGlzLmNvbmZpZ1tyYW5rVHlwZV0udG9wMyA9IGxpc3Quc2xpY2UoMCwzKQogICAgICAvLyB0aGlzLmNvbmZpZ1tyYW5rVHlwZV0udG9wNyA9IGxpc3Quc2xpY2UoMywxMCkKICAgIH0sCiAgICByYW5raW5nUXVlcnkodHlwZUNvZGUpIHsKICAgICAgcmV0dXJuIHJhbmtpbmdRdWVyeSh7IHR5cGVDb2RlIH0pLnRoZW4oCiAgICAgICAgcmVzID0+IHsKICAgICAgICAgIHRoaXMucmFua09iamVjdCA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgKTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Rank.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Rank.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"rank\">\n    <section class=\"rank-item\" v-for=\"(item) in config\" :key=\"item.title\">\n      <div class=\"liveRecomend-title\">\n        <img :src=\"item.src\" style=\"width:23px;height:23px;margin: 18px 12px 18px 0px;\">\n        <p class=\"liveRecomend-title-text\">{{item.title}}</P>\n      </div>\n      <div class=\"top3\">\n        <div class=\"item item0\" :class=\"'item'+ top3Index\" v-for=\"(top3Item,top3Index) in item.top3\" :key=\"top3Index\">\n          <img :src=\"top3Item.avatarUrl\" alt=\"\">\n          <span class=\"item-name\">\n            <el-tooltip effect=\"dark\" :content=\"top3Item.uname \" placement=\"top-start\">\n                  <span class=\"name\">{{ top3Item.uname }}</span>\n            </el-tooltip>\n          </span>\n          <div class=\"item-fans\">{{ top3Item.score }}人气</div>\n        </div>\n      </div>\n      <div class=\"top7\" v-for=\"(t, i) in item.top7\" :key=\"i\">\n        <span class=\"top7-index\">{{ i + 4 }}</span>\n        <span class=\"top7-name\">{{t.uname}}</span>\n        <span>{{t.score}}人气</span>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\n  import { rankingQuery } from '@/api/api'\n  import { Tooltip } from 'element-ui'\n\n  export default {\n    name: 'Rank',\n    components: {\n      [Tooltip.name]: Tooltip,\n\n    },\n    data() {\n      return {\n        config: [\n          {\n            src: require('@/assets/icon_hot.png'),\n            title: \"人气主播榜\",\n            list: []\n          },\n          {\n            src: require('@/assets/icon_new.png'),\n            title: \"新人主播榜\",\n            list: []\n          }\n        ]\n      }\n    },\n    created() {\n      rankingQuery({ typeCode: 'newanchor' }).then(\n        res => {\n          let list = [];\n          if (res.data) list = res.data.itemDtoList\n          this.fillRankList( list, 1);\n        }\n      );\n      rankingQuery({ typeCode: \"hotanchor\" }).then(\n        res => {\n          let list = [];\n          if (res.data) list = res.data.itemDtoList\n          this.fillRankList( list, 0);\n        }\n      );\n    },\n    methods: {\n      fillRankList(rankList = [], rankType) {\n        let list = [];\n        if (rankList.length >= 10) {\n          this.config[rankType].list = rankList;\n        } else {\n          list = JSON.parse(JSON.stringify(rankList));\n          list.length = 10;\n          this.config[rankType].list = list.fill({\n            avatarUrl: 'http://pic.likedu.top/avatar/default-avatar.jpg',\n            uname: '虚位以待',\n            score: 0\n          }, rankList.length, 10)\n        }\n\n        this.$set(this.config[rankType], 'top3', [list[1], list[0], list[2]])\n        this.$set(this.config[rankType], 'top7', list.slice(3, 10))\n        // this.config[rankType].top3 = list.slice(0,3)\n        // this.config[rankType].top7 = list.slice(3,10)\n      },\n      rankingQuery(typeCode) {\n        return rankingQuery({ typeCode }).then(\n          res => {\n            this.rankObject = res.data;\n          }\n        );\n      }\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n  @import \"@/assets/css/_index.scss\";\n\n  .rank {\n    margin-top: 30px;\n    margin-bottom: 30px;\n    display: flex;\n    justify-content: space-between;\n\n    .rank-item {\n      padding: 10px 0 25px;\n      width: 580px;\n      background-color: #fff;\n      border-radius: 10px;\n    }\n\n    ::v-deep .liveRecomend-title {\n      margin-left: 30px;\n    }\n\n    .top3 {\n      position: relative;\n      border-top: 2px solid #F0F0F0;\n      padding: 24px 0;\n      box-sizing: border-box;\n      height: 250px;\n      display: flex;\n      justify-content: space-around;\n      /*align-items: center;*/\n      .item {\n        width: 33.3%;\n        /*width: 122px;*/\n        height: 150px;\n        text-align: center;\n\n        img {\n          display: block;\n          margin: 38px auto 0;\n          width: 98px;\n          height: 98px;\n          border-radius: 50%;\n        }\n\n        .item-name {\n          position: relative;\n          text-align: center;\n        }\n\n        .name {\n          position: absolute;\n          z-index: 1;\n          display: inline-block;\n          position: relative;\n          margin-top: -20px;\n          padding: 5px 7px;\n          border-radius: 10px;\n          color: #fff;\n          font-size: 18px;\n          line-height: 25px;\n          max-width: 140px;\n          box-sizing: border-box;\n          @include ellipsis()\n        }\n\n        .item-fans {\n          margin-top: 24px;\n          font-size: 18px;\n          color: #333;\n          text-align: center;\n        }\n      }\n\n      .item0 {\n        background: url(~@/assets/img/rank-top-1.png) center center no-repeat;\n        background-size: 105px 130px;\n\n        .item-name {\n          .name {\n            background-color: #CBD3D9;\n          }\n\n          &:after {\n            content: \"\";\n            position: absolute;\n            left: -15px;\n            top: -8px;\n            width: 22px;\n            height: 0;\n            border-top: 16px solid #AFB3B6;\n            border-bottom: 16px solid #AFB3B6;\n            border-left: 7px solid #fff;\n          }\n\n          &:before {\n            content: \"\";\n            position: absolute;\n            right: -15px;\n            top: -8px;\n            width: 22px;\n            height: 0;\n            border-top: 16px solid #AFB3B6;\n            border-bottom: 16px solid #AFB3B6;\n            border-right: 7px solid #fff;\n          }\n        }\n      }\n\n      .item1 {\n        background: url(~@/assets/img/rank-top-0.png) center center no-repeat;\n        background-size: 122px 150px;\n\n        img {\n          margin: 28px auto 0;\n          width: 118px;\n          height: 118px;\n        }\n\n        .item-name {\n          .name {\n            color: #C68621;\n            background-color: #F8D64C;\n          }\n\n          &:after {\n            content: \"\";\n            position: absolute;\n            left: -18px;\n            top: -10px;\n            width: 26px;\n            height: 0;\n            border-top: 18px solid #F8B54C;\n            border-bottom: 18px solid #F8B54C;\n            border-left: 9px solid #fff;\n          }\n\n          &:before {\n            content: \"\";\n            position: absolute;\n            right: -18px;\n            top: -10px;\n            width: 26px;\n            height: 0;\n            border-top: 18px solid #F8B54C;\n            border-bottom: 18px solid #F8B54C;\n            border-right: 9px solid #fff;\n          }\n        }\n      }\n\n      .item2 {\n        background: url(~@/assets/img/rank-top-2.png) center center no-repeat;\n        background-size: 105px 130px;\n\n        .item-name {\n          .name {\n            background-color: #E8A55F;\n          }\n\n          &:after {\n            content: \"\";\n            position: absolute;\n            left: -15px;\n            top: -8px;\n            width: 22px;\n            height: 0;\n            border-top: 16px solid #D68A45;\n            border-bottom: 16px solid #D68A45;\n            border-left: 7px solid #fff;\n          }\n\n          &:before {\n            content: \"\";\n            position: absolute;\n            right: -15px;\n            top: -8px;\n            width: 22px;\n            height: 0;\n            border-top: 16px solid #D68A45;\n            border-bottom: 16px solid #D68A45;\n            border-right: 7px solid #fff;\n          }\n        }\n      }\n    }\n\n    .top7 {\n      margin: 0 30px;\n      padding: 0 20px;\n      height: 60px;\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      font-size: 18px;\n      color: #999999;\n\n      &:nth-child(odd) {\n        background-color: #F0F0F0;\n      }\n\n      .top7-index {\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 18px;\n        height: 18px;\n        border-radius: 50%;\n        border: 1px solid #999999;\n      }\n\n      .top7-name {\n        padding-left: 8px;\n        flex: 1;\n      }\n    }\n  }\n</style>\n"]}]}