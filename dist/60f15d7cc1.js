(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-69705708"],{"0125":function(t,e,a){},"4de4":function(t,e,a){"use strict";var i=a("23e7"),s=a("b727").filter,n=a("1dde"),o=a("ae40"),l=n("filter"),c=o("filter");i({target:"Array",proto:!0,forced:!l||!c},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"58e6":function(t,e,a){"use strict";a.r(e),a("4de4"),a("b0c0");var i,s=a("2909"),n=a("ade3"),o=a("dd87"),l=a.n(o),c=a("72aa9"),r=a.n(c),h=a("9eca"),u={name:"LiveListItem",props:{anchorItemW:{type:String,default:"unfold"},anchorList:{type:Array,default:function(){return[]}}},data:function(){return{getAllFollowLiveList:[]}},computed:{listItemW:function(){return"item-"+this.anchorItemW}},watch:{},created:function(){},mounted:function(){},methods:{toLiveRoom:function(t){var e=this.$router.resolve(t,"/").href;window.open(e,"_blank")}}},d=(a("a415"),a("2877")),m=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"anchor-list"},t._l(t.anchorList,(function(e,i){return a("li",{key:i,staticClass:"anchor-list-item",class:t.listItemW,on:{click:function(a){return t.toLiveRoom(e.id)}}},[a("div",{staticClass:"head-pic"},[e.living?a("i"):t._e(),a("img",{attrs:{src:e.avatarUrl}})]),a("div",{staticClass:"anchor-name",attrs:{title:e.uname}},[t._v(t._s(e.uname))]),a("div",{staticClass:"anchor-type",attrs:{title:e.typeName}},[t._v(t._s(e.typeName))]),a("div",{staticClass:"anchor-info"},[e.living?a("i",{staticClass:"tag"}):t._e(),e.living?a("span",{staticClass:"title",attrs:{title:e.name}},[t._v(t._s(e.name))]):t._e(),e.living?t._e():a("span",{staticClass:"title"},[t._v("— 未开播 —")])])])})),0)}),[],!1,null,"1efecf7c",null).exports,v=a("4ec3"),f={name:"SearchResult",components:(i={},Object(n.a)(i,r.a.name,r.a),Object(n.a)(i,l.a.name,l.a),Object(n.a)(i,"LiveListItem",h.a),Object(n.a)(i,"anchorListItem",m),i),data:function(){return{page:0,from:"",keyword:"",activeName:"first",typeName:"搜索结果",typeId:"all",loadTxt:"~努力加载中...",scrollFlag:!1,noDataFlag:!1,isDataShow:1,isNoData:0,isMore:0,allSearchResult:[],allLiveList:[],allAnchorList:[],recommendLiveList:[],isFold:!1}},props:{getisFold:{type:Boolean,default:!1}},created:function(){this.getFoldState(),this.getSearchResult(),this.getRecommendLiveList()},mounted:function(){},destroyed:function(){},watch:{$route:"routeChange",getisFold:function(t){this.isFold=t}},computed:{getLiveItemW:function(){return this.isFold?"fold":"unfold"},getAnchorItemW:function(){return this.isFold?"fold":"unfold"}},methods:{handleClick:function(t,e){"first"==t.name?this.allLiveList.length?this.isNoData=0:this.isNoData=1:this.allAnchorList.length?this.isNoData=0:this.isNoData=1},getFoldState:function(){var t=window.sessionStorage.getItem("leftFoldState");this.isFold=null!==t&&"false"!==t},routeChange:function(){this.isNoData=0,this.allLiveList=[],this.allAnchorList=[],this.recommendLiveList=[],this.getFoldState(),this.getSearchResult(),this.getRecommendLiveList()},getSearchResult:function(){var t=this;this.from=this.$route.query.from||"",this.keyword=this.$route.query.searchContent||"",this.page=this.$route.query.page||0;var e={from:this.from,keyword:this.keyword,page:this.page};v.u(e).then((function(e){var a;e.data.items.length?(t.allSearchResult=e.data.items,t.allLiveList=t.allSearchResult.filter((function(t){return!0===t.living})),(a=t.allAnchorList).push.apply(a,Object(s.a)(t.allSearchResult)),t.allLiveList.length||(t.activeName="second")):t.isNoData=1})).catch((function(t){}))},getRecommendLiveList:function(){var t=this,e={recommendAnchorType:"SEARCH_PAGE",size:this.size};v.t(e,{}).then((function(e){t.recommendLiveList=e.data})).catch((function(t){}))}}},L=(a("9aaa"),Object(d.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-box"},[a("h3",[t._v(t._s(t.typeName))]),a("div",{staticClass:"tabs-box"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"直播",name:"first"}},[a("live-list-item",{staticClass:"cc",attrs:{liveList:t.allLiveList,itemW:t.getLiveItemW}})],1),a("el-tab-pane",{attrs:{label:"主播",name:"second"}},[a("anchor-list-item",{staticClass:"cc",attrs:{anchorList:t.allAnchorList,anchorItemW:t.getAnchorItemW}})],1)],1)],1),t.isNoData?a("div",{directives:[{name:"show",rawName:"v-show",value:t.isNoData,expression:"isNoData"}],staticClass:"no-data"},[a("p",[t._v("没有找到您搜索的内容")])]):t._e(),t.isNoData?a("div",{directives:[{name:"show",rawName:"v-show",value:t.isNoData,expression:"isNoData"}]},[a("h3",{staticClass:"tj"},[t._v("直播推荐")]),a("live-list-item",{staticClass:"cc",attrs:{liveList:t.recommendLiveList,itemW:t.getLiveItemW}})],1):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isMore,expression:"isMore"}],staticClass:"load-more"},[t._v(t._s(t.loadTxt))])])}),[],!1,null,"76122cbc",null));e.default=L.exports},"9aaa":function(t,e,a){"use strict";var i=a("0125");a.n(i).a},a415:function(t,e,a){"use strict";var i=a("d452");a.n(i).a},d452:function(t,e,a){}}]);